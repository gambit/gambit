<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on September 18, 2014 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Gambit-C, a portable implementation of Scheme</title>

<meta name="description" content="Gambit-C, a portable implementation of Scheme">
<meta name="keywords" content="Gambit-C, a portable implementation of Scheme">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script>

function gestureStart() {
  var metas = document.getElementsByTagName('meta');
  for (var i=0; i<metas.length; i++) {
    if (metas[i].name === "viewport") {
      metas[i].content = "width=device-width, initial-scale=1.0, minimum-scale=0.25, maximum-scale=1.6";
    }
  }
}

document.addEventListener("gesturestart", gestureStart, false);

</script>

<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
a:link {color: #0000e0}
a:visited {color: #0000e0}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Top"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Gambit_002dC"></a>
<h1 class="settitle">Gambit-C</h1>
<a name="index-Gambit_002dC"></a>
<a name="index-Scheme_002c-implementation-of"></a>

<center><a href="gambit.pdf">[View PDF version]</a></center>

<p>This manual documents Gambit-C.  It covers release v4.7.3.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Accessing-the-system-files">1.1 Accessing the system files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSI">2. The Gambit Scheme interpreter</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSC">3. The Gambit Scheme compiler</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Runtime-options">4. Runtime options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Debugging">5. Debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Scheme-extensions">6. Scheme extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Namespaces">7. Namespaces</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Characters-and-strings">8. Characters and strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Numbers">9. Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Hashing-and-weak-references">11. Hashing and weak references</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Records">12. Records</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Threads">13. Threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Dynamic-environment">14. Dynamic environment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exceptions">15. Exceptions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Host-environment">16. Host environment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#I_002fO-and-ports">17. I/O and ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Lexical-syntax-and-readtables">18. Lexical syntax and readtables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#C_002dinterface">19. C-interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#System-limitations">20. System limitations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Copyright-and-license">21. Copyright and license</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#General-index">General index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>


<a name="The-Gambit_002dC-system"></a><hr size="1"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Top" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Accessing-the-system-files" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-Gambit_002dC-system-1"></a>
<h1 class="chapter">1. The Gambit-C system</h1>
<a name="index-Gambit"></a>
<a name="index-Gambit_002dC-1"></a>
<a name="index-Scheme"></a>

<a name="index-gsi"></a>
<a name="index-gsc"></a>
<p>The Gambit programming system is a full implementation of the Scheme
language which conforms to the R4RS, R5RS and IEEE Scheme standards.  It
consists of two main programs: <code>gsi</code>, the Gambit Scheme
interpreter, and <code>gsc</code>, the Gambit Scheme compiler.
</p>
<p>Gambit-C is a version of the Gambit programming system in which the
compiler generates portable C code, making the whole Gambit-C system and
the programs compiled with it easily portable to many computer
architectures for which a C compiler is available.  With appropriate
declarations in the source code the executable programs generated by
the compiler run roughly as fast as equivalent C programs.
</p>
<p>For the most up to date information on Gambit and add-on packages
please check the Gambit web page at
<a href="event:browse:http://gambitscheme.org">http://gambitscheme.org</a>.  The web page has links to the
Gambit mailing list, the bug reporting system, and the source code
repository.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Accessing-the-system-files">1.1 Accessing the system files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Accessing-the-system-files"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#The-Gambit_002dC-system" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSI" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#The-Gambit_002dC-system" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#The-Gambit_002dC-system" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Accessing-the-system-files-1"></a>
<h2 class="section">1.1 Accessing the system files</h2>

<p>Files related to Gambit, such as executables, libraries and header files,
are stored in multiple <em>Gambit installation directories</em>.
Gambit may be installed on a system according to two different
installation models.
</p>
<p>In the first model there is a single directory where all the Gambit
installation directories are stored.  This <em>central installation
directory</em> is typically <code>/usr/local/Gambit-C</code> under UNIX,
<code>/Library/Gambit-C</code> under Mac OS X and <code>C:/Program
Files/Gambit-C</code> under Microsoft Windows.  This may have been
overridden when the system was built with the command &lsquo;<samp>configure
--prefix=/my/Gambit-C</samp>&rsquo;.  If the system was built with the command
&lsquo;<samp>configure --enable-multiple-versions</samp>&rsquo; then the central
installation directory is <code><span class="roman"><i>prefix</i></span>/<span class="roman"><i>version</i></span></code>, where
<code><span class="roman"><i>version</i></span></code> is the system version string
(e.g. <code>v4.7.3</code> for Gambit v4.7.3).  Moreover,
<code><span class="roman"><i>prefix</i></span>/current</code> will be a symbolic link which points to
the central installation directory.  In this model, the Gambit
installation directory named <var>X</var> is simply the subdirectory
<var>X</var> of the central installation directory.
</p>
<p>In the second model some or all of the Gambit installation directories
are stored in installation specific directories.  The location of
these directories is assigned when the system is built using the
command &lsquo;<samp>configure --bindir=/my/bin --includedir=/my/include
--libdir=/my/lib</samp>&rsquo;.
</p>
<p>The advantage of the first model is that it is easy to have multiple
versions of Gambit coexist and to remove all the files of a given
version.  However, the second model may be necessary to conform to the
package installation conventions of some operating systems.
</p>
<p>Executable programs such as the interpreter <code>gsi</code> and compiler
<code>gsc</code> can be found in the <code>bin</code> installation directory.
Adding this directory to the <code>PATH</code> environment variable allows
these programs to be started by simply entering their name.  This is
done automatically by the Mac OS X and Microsoft Windows installers.
</p>
<p>The runtime library is located in the <code>lib</code> installation
directory.  When the system&rsquo;s runtime library is built as a
shared-library (with the command &lsquo;<samp>configure --enable-shared</samp>&rsquo;) all
programs built with Gambit-C, including the interpreter and compiler,
need to find this library when they are executed and consequently this
directory must be in the path searched by the system for
shared-libraries.  This path is normally specified through an
environment variable which is <code>LD_LIBRARY_PATH</code> on most versions
of UNIX, <code>LIBPATH</code> on AIX, <code>SHLIB_PATH</code> on HPUX,
<code>DYLD_LIBRARY_PATH</code> on Mac OS X, and <code>PATH</code> on Microsoft
Windows.  If the shell is <code>sh</code>, the setting of the path can be
made for a single execution by prefixing the program name with the
environment variable assignment, as in:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>$ <b>LD_LIBRARY_PATH=/usr/local/Gambit-C/lib gsi</b>
</pre></td></tr></table>

<p>A similar problem exists with the Gambit header file <code>gambit.h</code>,
located in the <code>include</code> installation directory.  This header
file is needed for compiling Scheme programs with the Gambit-C
compiler.  When the C compiler is being called explicitly it may be
necessary to use a <code>-I<var>&lt;dir&gt;</var></code> command line option to
indicate where to find header files and a <code>-L<var>&lt;dir&gt;</var></code> command
line option to indicate where to find libraries.
</p>
<p>Access to both of these files can be simplified by creating a link to
them in the appropriate system directories (special privileges may
however be required):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>$ <b>ln -s /usr/local/Gambit-C/lib/libgambc.a /usr/lib</b> <span class="roman"><i># name may vary</i></span>
$ <b>ln -s /usr/local/Gambit-C/include/gambit.h /usr/include</b>
</pre></td></tr></table>

<p>Alternatively these files can be copied or linked in the directory
where the C compiler is invoked (this requires no special privileges).
</p>
<p>Another approach is to set some environment variables which
are used to tell the C compiler where to find header files
and libraries.  For example, the following settings can be
used for the <code>gcc</code> C compiler:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>$ <b>export LIBRARY_PATH=/usr/local/Gambit-C/lib</b>
$ <b>export CPATH=/usr/local/Gambit-C/include</b>
</pre></td></tr></table>

<p>Note that this may have been done by the installation process.  In
particular, the Mac OS X and Microsoft Windows prebuilt installers set
up the environment so that the <code>gcc</code> compiler finds these files
automatically.
</p>

<a name="GSI"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Accessing-the-system-files" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSI-interactive-mode" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#The-Gambit_002dC-system" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-Gambit-Scheme-interpreter"></a>
<h1 class="chapter">2. The Gambit Scheme interpreter</h1>
<a name="index-interpreter"></a>

<p>Synopsis:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><b></b>gsi <span class="roman">[</span>-:<span class="roman"><var>runtimeoption</var></span>,&hellip;<span class="roman">]</span> <span class="roman">[</span>-i<span class="roman">]</span> <span class="roman">[</span>-f<span class="roman">]</span> <span class="roman">[</span>-v<span class="roman">]</span> <span class="roman">[</span><span class="roman">[</span>-<span class="roman">]</span> <span class="roman">[</span>-e <span class="roman"><var>expressions</var></span><span class="roman">]</span> <span class="roman">[</span><span class="roman"><var>file</var></span><span class="roman">]</span><span class="roman">]</span>&hellip;
</pre></td></tr></table>

<a name="index-gsi-1"></a>
<p>The interpreter is executed in <em>interactive mode</em> when no file or
&lsquo;<samp>-</samp>&rsquo; or &lsquo;<samp>-e</samp>&rsquo; option is given on the command line.  Otherwise
the interpreter is executed in <em>batch mode</em>.  The &lsquo;<samp>-i</samp>&rsquo; option
is ignored by the interpreter.  The initialization file will be
examined unless the &lsquo;<samp>-f</samp>&rsquo; option is present (see section <a href="#GSI-customization">Customization</a>).  The &lsquo;<samp>-v</samp>&rsquo; option prints the system version
string, system time stamp, operating system type, and configure script
options on standard output and exits.  Runtime options are explained
in <a href="#Runtime-options">Runtime options</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#GSI-interactive-mode">2.1 Interactive mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSI-batch-mode">2.2 Batch mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSI-customization">2.3 Customization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSI-exit-status">2.4 Process exit status</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="GSI-interactive-mode"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSI" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSI-batch-mode" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Interactive-mode-1"></a>
<h2 class="section">2.1 Interactive mode</h2>

<p>In interactive mode a read-eval-print loop (REPL) is started for the
user to interact with the interpreter.  At each iteration of this loop
the interpreter displays a prompt, reads a command and executes it.
The commands can be expressions to evaluate (the typical case)
or special commands related to debugging, for example &lsquo;<samp>,q</samp>&rsquo; to
terminate the process (for a complete list of commands see
<a href="#Debugging">Debugging</a>).  Most commands produce some output, such as the
value or error message resulting from an evaluation.
</p>
<p>The input and output of the interaction is done on the
<em>interaction channel</em>.  The interaction channel can be specified
through the runtime options but if none is specified the system uses a
reasonable default that depends on the system&rsquo;s configuration.  When
the system&rsquo;s runtime library was built with support for GUIDE, the
Gambit Universal IDE (with the command &lsquo;<samp>configure
--enable-guide</samp>&rsquo;) the interaction channel corresponds to the
<em>console window</em> of the primordial thread (for details see
<a href="#GUIDE">GUIDE</a>), otherwise the interaction channel is the user&rsquo;s
<em>console</em>, also known as the <em>controlling terminal</em> in the
UNIX world.  When the REPL starts, the ports associated with
&lsquo;<samp>(current-input-port)</samp>&rsquo;, &lsquo;<samp>(current-output-port)</samp>&rsquo; and
&lsquo;<samp>(current-error-port)</samp>&rsquo; all refer to the interaction channel.
</p>
<p>Expressions are evaluated in the global <em>interaction environment</em>.
The interpreter adds to this environment any definition entered using
the <code>define</code> and <code>define-macro</code>
special forms.  Once the evaluation of an expression is completed, the
value or values resulting from the evaluation are output to the
interaction channel by the pretty printer.  The special &ldquo;void&rdquo;
object is not output.  This object is returned by most procedures and
special forms which the Scheme standard defines as returning an
unspecified value (e.g. <code>write</code>, <code>set!</code>, <code>define</code>).
</p>
<p>Here is a sample interaction with <code>gsi</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(define (fact n) (if (&lt; n 2) 1 (* n (fact (- n 1)))))</b>
&gt; <b>(map fact '(1 2 3 4 5 6))</b>
(1 2 6 24 120 720)
&gt; <b>(values (fact 10) (fact 40))</b>
3628800
815915283247897734345611269596115894272000000000
&gt; <b>,q</b>
</pre></td></tr></table>

<p>What happens when errors occur is explained in <a href="#Debugging">Debugging</a>.
</p>
<a name="GSI-batch-mode"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSI-interactive-mode" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSI-customization" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Batch-mode-1"></a>
<h2 class="section">2.2 Batch mode</h2>

<p>In batch mode the command line arguments denote files to be loaded,
REPL interactions to start (&lsquo;<samp>-</samp>&rsquo; option), and expressions to be
evaluated (&lsquo;<samp>-e</samp>&rsquo; option).  Note that the &lsquo;<samp>-</samp>&rsquo; and &lsquo;<samp>-e</samp>&rsquo;
options can be interspersed with the files on the command line and can
occur multiple times.  The interpreter processes the command line
arguments from left to right, loading files with the <code>load</code>
procedure and evaluating expressions with the <code>eval</code> procedure in
the global interaction environment.  After this processing the
interpreter exits.
</p>
<p>When the file name has no extension the <code>load</code> procedure first
attempts to load the file with no extension as a Scheme source file.
If that file doesn&rsquo;t exist it will search for both a source file and
an object file.  The object file&rsquo;s name is obtained by adding to the
file name a &lsquo;<samp>.o<var>n</var></samp>&rsquo; extension with the highest consecutive
version number starting with 1.  The source file&rsquo;s name is obtained by
adding to the file name the file extensions &lsquo;<samp>.scm</samp>&rsquo; and
&lsquo;<samp>.six</samp>&rsquo; (the first found is the source file).  If both a source
file and an object file exist, then the one with the latest
modification time is loaded.  Otherwise the file that is found is
loaded.  When the file name has an extension, the <code>load</code>
procedure will only attempt to load the file with that specific name.
</p>
<p>When the extension of the file loaded is &lsquo;<samp>.scm</samp>&rsquo; the content of
the file will be parsed using the normal Scheme prefix syntax.  When
the extension of the file loaded is &lsquo;<samp>.six</samp>&rsquo; the content of the
file will be parsed using the Scheme infix syntax extension (see
<a href="#Scheme-infix-syntax-extension">Scheme infix syntax extension</a>).  Otherwise, <code>gsi</code> will
parse the file using the normal Scheme prefix syntax.
</p>
<p>The ports associated with &lsquo;<samp>(current-input-port)</samp>&rsquo;,
&lsquo;<samp>(current-output-port)</samp>&rsquo; and &lsquo;<samp>(current-error-port)</samp>&rsquo; initially
refer respectively to the standard input (&lsquo;<samp>stdin</samp>&rsquo;), standard
output (&lsquo;<samp>stdout</samp>&rsquo;) and the standard error (&lsquo;<samp>stderr</samp>&rsquo;) of the
interpreter.  This is true even in REPLs started with the &lsquo;<samp>-</samp>&rsquo;
option.  The usual interaction channel (console or IDE&rsquo;s console
window) is still used to read expressions and commands and to display
results.  This makes it possible to use REPLs to debug programs which
read the standard input and write to the standard output, even when
these have been redirected.
</p>
<p>Here is a sample use of the interpreter in batch mode, under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat h.scm</b>
(display &quot;hello&quot;) (newline)
$ <b>cat w.six</b>
display(&quot;world&quot;); newline();
$ <b>gsi h.scm - w.six -e &quot;(pretty-print 1)(pretty-print 2)&quot;</b>
hello
&gt; <b>(define (display x) (write (reverse (string-&gt;list x))))</b>
&gt; <b>,(c 0)</b>
(#\d #\l #\r #\o #\w)
1
2
</pre></td></tr></table>

<a name="GSI-customization"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSI-batch-mode" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSI-exit-status" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Customization-1"></a>
<h2 class="section">2.3 Customization</h2>

<p>There are two ways to customize the interpreter.  When the interpreter
starts off it tries to execute a &lsquo;<samp>(load &quot;~~lib/gambcext&quot;)</samp>&rsquo; (for an
explanation of how file names are interpreted see <a href="#Host-environment">Host environment</a>).
An error is not signaled when the file does not exist.  Interpreter
extensions and patches that are meant to apply to all users and all
modes should go in that file.
</p>
<p>Extensions which are meant to apply to a single user or to a specific
working directory are best placed in the <em>initialization file</em>,
which is a file containing Scheme code.  In all modes, the interpreter
first tries to locate the initialization file by searching the following
locations: &lsquo;<tt>.gambcini</tt>&rsquo; and &lsquo;<tt>~/.gambcini</tt>&rsquo; (with no extension, a
&lsquo;<samp>.scm</samp>&rsquo; extension, and a &lsquo;<samp>.six</samp>&rsquo; extension in that order).  The
first file that is found is examined as though the expression
<code>(include <var>initialization-file</var>)</code> had been entered at the
read-eval-print loop where <var>initialization-file</var> is the file that
was found.  Note that by using an <code>include</code> the macros defined in
the initialization file will be visible from the read-eval-print loop
(this would not have been the case if <code>load</code> had been used).  The
initialization file is not searched for or examined when the &lsquo;<samp>-f</samp>&rsquo;
option is specified.
</p>
<a name="GSI-exit-status"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSI-customization" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Scheme-scripts" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Process-exit-status"></a>
<h2 class="section">2.4 Process exit status</h2>

<p>The status is zero when the interpreter exits normally and is nonzero
when the interpreter exits due to an error.  Here is the meaning of
the exit statuses:
</p>
<dl compact="compact">
<dt> <code>0</code></dt>
<dd><p>The execution of the primordial thread (i.e. the main thread) did not
encounter any error.  It is however possible that other threads
terminated abnormally (by default threads other than the primordial
thread terminate silently when they raise an exception that is not
handled).
</p>
</dd>
<dt> <code>64</code></dt>
<dd><p>The runtime options or the environment variable &lsquo;<samp>GAMBCOPT</samp>&rsquo;
contained a syntax error or were invalid.
</p>
</dd>
<dt> <code>70</code></dt>
<dd><p>This normally indicates that an exception was raised in the primordial
thread and the exception was not handled.
</p>
</dd>
<dt> <code>71</code></dt>
<dd><p>There was a problem initializing the runtime system, for example
insufficient memory to allocate critical tables.
</p>
</dd>
</dl>

<p>For example, if the shell is <code>sh</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi -:d0 -e &quot;(pretty-print (expt 2 100))&quot;</b>
1267650600228229401496703205376
$ <b>echo $?</b>
0
$ <b>gsi -:d0,unknown <span class="roman"><i># try to use an unknown runtime option</i></span></b>
$ <b>echo $?</b>
64
$ <b>gsi -:d0 nonexistent.scm <span class="roman"><i># try to load a file that does not exist</i></span></b>
$ <b>echo $?</b>
70
$ <b>gsi nonexistent.scm</b>
*** ERROR IN ##main -- No such file or directory
(load &quot;nonexistent.scm&quot;)
$ <b>echo $?</b>
70
</pre></td></tr></table>

<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>$ <b>gsi -:m4000000 <span class="roman"><i># ask for a 4 gigabyte heap</i></span></b>
*** malloc: vm_allocate(size=528384) failed (error code=3)
*** malloc[15068]: error: Can't allocate region
$ <b>echo $?</b>
71
</pre></td></tr></table>

<p>Note the use of the runtime option &lsquo;<samp>-:d0</samp>&rsquo; that prevents error
messages from being output, and the runtime option &lsquo;<samp>-:m4000000</samp>&rsquo;
which sets the minimum heap size to 4 gigabytes.
</p>
<a name="Scheme-scripts"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSI-exit-status" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Scripts-under-UNIX-and-Mac-OS-X" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSI" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Scheme-scripts-1"></a>
<h2 class="section">2.5 Scheme scripts</h2>

<p>The <code>load</code> procedure treats specially files that begin with the
two characters &lsquo;<samp>#!</samp>&rsquo; and &lsquo;<samp>@;</samp>&rsquo;.  Such files are called
<em>script files</em> and the first line is called the <em>script line</em>.
In addition to indicating that the file is a script, the script line
provides information about the source code language to be used by the
<code>load</code> procedure.  After the two characters &lsquo;<samp>#!</samp>&rsquo; and
&lsquo;<samp>@;</samp>&rsquo; the system will search for the first substring matching one
of the following language specifying tokens:
</p>
<dl compact="compact">
<dt> <code>scheme-r4rs</code></dt>
<dd><a name="index-scheme_002dr4rs"></a>
<p>R4RS language with prefix syntax, case-insensitivity, keyword syntax
not supported
</p>
</dd>
<dt> <code>scheme-r5rs</code></dt>
<dd><a name="index-scheme_002dr5rs"></a>
<p>R5RS language with prefix syntax, case-insensitivity, keyword syntax
not supported
</p>
</dd>
<dt> <code>scheme-ieee-1178-1990</code></dt>
<dd><a name="index-scheme_002dieee_002d1178_002d1990"></a>
<p>IEEE 1178-1990 language with prefix syntax, case-insensitivity, keyword
syntax not supported
</p>
</dd>
<dt> <code>scheme-srfi-0</code></dt>
<dd><a name="index-scheme_002dsrfi_002d0"></a>
<p>R5RS language with prefix syntax and SRFI 0 support
(i.e. <code>cond-expand</code> special form), case-insensitivity, keyword
syntax not supported
</p>
</dd>
<dt> <code>gsi-script</code></dt>
<dd><a name="index-gsi_002dscript"></a>
<p>Full Gambit Scheme language with prefix syntax, case-sensitivity, keyword
syntax supported
</p>
</dd>
<dt> <code>gsc-script</code></dt>
<dd><a name="index-gsc_002dscript"></a>
<p>Full Gambit Scheme language with prefix syntax, case-sensitivity, keyword
syntax supported
</p>
</dd>
<dt> <code>six-script</code></dt>
<dd><a name="index-six_002dscript"></a>
<p>Full Gambit Scheme language with infix syntax, case-sensitivity, keyword
syntax supported
</p>
</dd>
</dl>

<p>If a language specifying token is not found, <code>load</code> will use the
same language as a nonscript file (i.e. it uses the file extension and
runtime system options to determine the language).
</p>
<p>After processing the script line, <code>load</code> will parse the rest of
the file (using the syntax of the language indicated) and then execute
it.  When the file is being loaded because it is an argument on the
interpreter&rsquo;s command line, the interpreter will:
</p>
<ul>
<li>
<a name="index-command_002dline"></a>
Setup the <code>command-line</code> procedure so that it returns a list
containing the expanded file name of the script file and the
arguments following the script file on the command line.
This is done before the script is executed.  The expanded file name
of the script file can be used to determine the directory that
contains the script (i.e. <code>(path-directory (car (command-line)))</code>).

</li><li>
After the script is loaded the procedure <code>main</code> is called with
the command-line arguments.  The way this is done depends on the
language specifying token.  For <code>scheme-r4rs</code>,
<code>scheme-r5rs</code>, <code>scheme-ieee-1178-1990</code>, and
<code>scheme-srfi-0</code>, the <code>main</code> procedure is called with the
equivalent of <code>(main (cdr (command-line)))</code> and <code>main</code> is
expected to return a process exit status code in the range 0 to 255.
This conforms to the &ldquo;Running Scheme Scripts on Unix SRFI&rdquo; (SRFI
22).  For <code>gsi-script</code> and <code>six-script</code> the <code>main</code>
procedure is called with the equivalent of <code>(apply main (cdr
(command-line)))</code> and the process exit status code is 0 (<code>main</code>&rsquo;s
result is ignored).  The Gambit-C system has a predefined <code>main</code>
procedure which accepts any number of arguments and returns 0, so it
is perfectly valid for a script to not define <code>main</code> and to do
all its processing with top-level expressions (examples are given in
the next section).

</li><li>
When <code>main</code> returns, the interpreter exits.  The command-line
arguments after a script file are consequently not processed (however
they do appear in the list returned by the <code>command-line</code>
procedure, after the script file&rsquo;s expanded file name, so it is up to
the script to process them).

</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Scripts-under-UNIX-and-Mac-OS-X">2.5.1 Scripts under UNIX and Mac OS X</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Scripts-under-Microsoft-Windows">2.5.2 Scripts under Microsoft Windows</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Compiling-scripts">2.5.3 Compiling scripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Scripts-under-UNIX-and-Mac-OS-X"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Scheme-scripts" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Scripts-under-Microsoft-Windows" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-scripts" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Scripts-under-UNIX-and-Mac-OS-X-1"></a>
<h3 class="subsection">2.5.1 Scripts under UNIX and Mac OS X</h3>

<p>Under UNIX and Mac OS X, the Gambit-C installation process creates the
executable &lsquo;<samp>gsi</samp>&rsquo; and also the executables &lsquo;<samp>six</samp>&rsquo;,
&lsquo;<samp>gsi-script</samp>&rsquo;, &lsquo;<samp>six-script</samp>&rsquo;, &lsquo;<samp>scheme-r5rs</samp>&rsquo;,
&lsquo;<samp>scheme-srfi-0</samp>&rsquo;, etc as links to &lsquo;<samp>gsi</samp>&rsquo;.  A Scheme script
need only start with the name of the desired Scheme language variant
prefixed with &lsquo;<samp>#!</samp>&rsquo; and the directory where the Gambit-C
executables are stored.  This script should be made executable by
setting the execute permission bits (with a &lsquo;<samp>chmod +x
<var>script</var></samp>&rsquo;).  Here is an example of a script which lists on standard
output the files in the current directory:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>#!/usr/local/Gambit-C/bin/gsi-script
(for-each pretty-print (directory-files))
</pre></td></tr></table>

<p>Here is another UNIX script, using the Scheme infix syntax extension,
which takes a single integer argument and prints on standard output the
numbers from 1 to that integer:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>#!/usr/local/Gambit-C/bin/six-script

void main (obj n_str)
{
  int n = \string-&gt;number(n_str);
  for (int i=1; i&lt;=n; i++)
    \pretty-print(i);
}
</pre></td></tr></table>

<p>For maximal portability it is a good idea to start scripts indirectly
through the &lsquo;<samp>/usr/bin/env</samp>&rsquo; program, so that the executable of the
interpreter will be searched in the user&rsquo;s &lsquo;<samp>PATH</samp>&rsquo;.  This is what
SRFI 22 recommends.  For example here is a script that mimics the UNIX
&lsquo;<samp>cat</samp>&rsquo; utility for text files:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>#!/usr/bin/env gsi-script

(define (display-file filename)
  (display (call-with-input-file filename
             (lambda (port)
               (read-line port #f)))))

(for-each display-file (cdr (command-line)))
</pre></td></tr></table>

<a name="Scripts-under-Microsoft-Windows"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Scripts-under-UNIX-and-Mac-OS-X" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Compiling-scripts" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-scripts" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Scripts-under-Microsoft-Windows-1"></a>
<h3 class="subsection">2.5.2 Scripts under Microsoft Windows</h3>

<p>Under Microsoft Windows, the Gambit-C installation process creates the
executable &lsquo;<samp>gsi.exe</samp>&rsquo; and &lsquo;<samp>six.exe</samp>&rsquo; and also the batch files
&lsquo;<samp>gsi-script.bat</samp>&rsquo;, &lsquo;<samp>six-script.bat</samp>&rsquo;, &lsquo;<samp>scheme-r5rs.bat</samp>&rsquo;,
&lsquo;<samp>scheme-srfi-0.bat</samp>&rsquo;, etc which simply invoke &lsquo;<samp>gsi.exe</samp>&rsquo; with
the same command line arguments.  A Scheme script need only start with
the name of the desired Scheme language variant prefixed with
&lsquo;<samp>@;</samp>&rsquo;.  A UNIX script can be converted to a Microsoft Windows
script simply by changing the script line and storing the script in a
file whose name has a &lsquo;<samp>.bat</samp>&rsquo; or &lsquo;<samp>.cmd</samp>&rsquo; extension:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>@;gsi-script %~f0 %*
(display &quot;files:\n&quot;)
(pretty-print (directory-files))
</pre></td></tr></table>

<p>Note that Microsoft Windows always searches executables in the user&rsquo;s
&lsquo;<samp>PATH</samp>&rsquo;, so there is no need for an indirection such as the UNIX
&lsquo;<samp>/usr/bin/env</samp>&rsquo;.  However the script line must end with &lsquo;<samp>%~f0
%*</samp>&rsquo; to pass the expanded filename of the script and command line
arguments to the interpreter.
</p>
<a name="Compiling-scripts"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Scripts-under-Microsoft-Windows" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSC" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-scripts" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Compiling-scripts-1"></a>
<h3 class="subsection">2.5.3 Compiling scripts</h3>

<p>A script file can be compiled using the Gambit Scheme compiler
(see section <a href="#GSC">The Gambit Scheme compiler</a>) into a standalone executable.  The script line will
provide information to the compiler on which language to use.  The
script line also provides information on which runtime options to use
when executing the compiled script.  This is useful to set the default
runtime options of an executable program.
</p>
<p>The compiled script will be executed similarly to an interpreted
script (i.e. the list of command line arguments returned by the
<code>command-line</code> procedure and the invocation of the <code>main</code>
procedure).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat square.scm</b>
#!/usr/local/Gambit-C/bin/gsi-script -:d0
(define (main arg)
  (pretty-print (expt (string-&gt;number arg) 2)))
$ <b>gsi square 30        <span class="roman"><i># gsi will load square.scm</i></span></b>
900
$ <b>gsc -exe square      <span class="roman"><i># compile the script to a standalone program</i></span></b>
$ <b>./square 30</b>
900
$ <b>./square 1 2 3       <span class="roman"><i># too many arguments to main</i></span></b>
$ <b>echo $?</b>
70
$ <b>./square -:d1 1 2 3  <span class="roman"><i># ask for error message</i></span></b>
*** ERROR -- Wrong number of arguments passed to procedure
(main &quot;1&quot; &quot;2&quot; &quot;3&quot;)
</pre></td></tr></table>

<a name="GSC"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Compiling-scripts" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSC-interactive-mode" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSI" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-Gambit-Scheme-compiler"></a>
<h1 class="chapter">3. The Gambit Scheme compiler</h1>
<a name="index-compiler"></a>
<a name="index-interpreter-1"></a>

<p>Synopsis:
</p>
<table><tr><td>&nbsp;</td><td><pre class="example"><b></b>gsc <span class="roman">[</span>-:<span class="roman"><var>runtimeoption</var></span>,&hellip;<span class="roman">]</span> <span class="roman">[</span>-i<span class="roman">]</span> <span class="roman">[</span>-f<span class="roman">]</span> <span class="roman">[</span>-v<span class="roman">]</span>
    <span class="roman">[</span>-prelude <span class="roman"><var>expressions</var></span><span class="roman">]</span> <span class="roman">[</span>-postlude <span class="roman"><var>expressions</var></span><span class="roman">]</span>
    <span class="roman">[</span>-dynamic<span class="roman">]</span> <span class="roman">[</span>-exe<span class="roman">]</span> <span class="roman">[</span>-obj<span class="roman">]</span> <span class="roman">[</span>-cc-options <span class="roman"><var>options</var></span><span class="roman">]</span>
    <span class="roman">[</span>-ld-options-prelude <span class="roman"><var>options</var></span><span class="roman">]</span> <span class="roman">[</span>-ld-options <span class="roman"><var>options</var></span><span class="roman">]</span>
    <span class="roman">[</span>-warnings<span class="roman">]</span> <span class="roman">[</span>-verbose<span class="roman">]</span> <span class="roman">[</span>-report<span class="roman">]</span> <span class="roman">[</span>-expansion<span class="roman">]</span> <span class="roman">[</span>-gvm<span class="roman">]</span>
    <span class="roman">[</span>-debug<span class="roman">]</span> <span class="roman">[</span>-debug-location<span class="roman">]</span> <span class="roman">[</span>-debug-source<span class="roman">]</span>
    <span class="roman">[</span>-debug-environments<span class="roman">]</span> <span class="roman">[</span>-track-scheme<span class="roman">]</span>
    <span class="roman">[</span>-o <span class="roman"><var>output</var></span><span class="roman">]</span> <span class="roman">[</span>-c<span class="roman">]</span> <span class="roman">[</span>-keep-c<span class="roman">]</span> <span class="roman">[</span>-link<span class="roman">]</span> <span class="roman">[</span>-flat<span class="roman">]</span> <span class="roman">[</span>-l <span class="roman"><var>base</var></span><span class="roman">]</span>
    <span class="roman">[</span><span class="roman">[</span>-<span class="roman">]</span> <span class="roman">[</span>-e <span class="roman"><var>expressions</var></span><span class="roman">]</span> <span class="roman">[</span><span class="roman"><var>file</var></span><span class="roman">]</span><span class="roman">]</span>&hellip;
</pre></td></tr></table>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#GSC-interactive-mode">3.1 Interactive mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSC-customization">3.2 Customization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Link-files">3.4 Link files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="GSC-interactive-mode"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSC" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSC-customization" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Interactive-mode"></a>
<h2 class="section">3.1 Interactive mode</h2>

<p>When no command line argument is present other than options the
compiler behaves like the interpreter in interactive mode.  The only
difference with the interpreter is that the compilation related
procedures listed in this chapter are also available
(i.e. <code>compile-file</code>, <code>compile-file-to-target</code>, etc).
</p>
<a name="GSC-customization"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSC-interactive-mode" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GSC-batch-mode" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Customization"></a>
<h2 class="section">3.2 Customization</h2>

<p>Like the interpreter, the compiler will examine the initialization
file unless the &lsquo;<samp>-f</samp>&rsquo; option is specified.
</p>
<a name="GSC-batch-mode"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSC-customization" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Link-files" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Batch-mode"></a>
<h2 class="section">3.3 Batch mode</h2>

<a name="index-gsc-1"></a>
<a name="index-_002escm"></a>
<a name="index-_002esix"></a>
<a name="index-_002ec"></a>
<a name="index-file_002escm"></a>
<a name="index-file_002esix"></a>
<a name="index-file_002ec"></a>
<p>In batch mode <code>gsc</code> takes a set of file names (with either no
extension, or a C file extension, or some other extension) on the
command line and compiles each Scheme file into a C file.
The recognized C file extensions are &lsquo;<samp>.c</samp>&rsquo;, &lsquo;<samp>.C</samp>&rsquo;, &lsquo;<samp>.cc</samp>&rsquo;,
&lsquo;<samp>.cp</samp>&rsquo;, &lsquo;<samp>.cpp</samp>&rsquo;, &lsquo;<samp>.CPP</samp>&rsquo;, &lsquo;<samp>.cxx</samp>&rsquo;, &lsquo;<samp>.c++</samp>&rsquo;,
&lsquo;<samp>.m</samp>&rsquo;, &lsquo;<samp>.M</samp>&rsquo;, and &lsquo;<samp>.mm</samp>&rsquo;.
The extension can be omitted from <var>file</var> when the Scheme file has a
&lsquo;<samp>.scm</samp>&rsquo; or &lsquo;<samp>.six</samp>&rsquo; extension.  When the extension of the
Scheme file is &lsquo;<samp>.six</samp>&rsquo; the content of the file will be parsed
using the Scheme infix syntax extension (see <a href="#Scheme-infix-syntax-extension">Scheme infix syntax extension</a>). Otherwise, <code>gsc</code> will parse the Scheme file using the
normal Scheme prefix syntax.  Files with a C file extension must
have been previously produced by <code>gsc</code>, with the &lsquo;<samp>-c</samp>&rsquo; option,
and are used by Gambit&rsquo;s linker.
</p>
<p>For each Scheme file a C file &lsquo;<samp><var>file</var>.c</samp>&rsquo; will be produced.
The C file&rsquo;s name is the same as the Scheme file, but the extension is
changed to &lsquo;<samp>.c</samp>&rsquo;.  By default the C file is created in the same
directory as the Scheme file.  This default can be overridden with the
compiler&rsquo;s &lsquo;<samp>-o</samp>&rsquo; option.
</p>
<p>The C files produced by the compiler serve two purposes.  They will be
processed by a C compiler to generate object files, and they also
contain information to be read by Gambit&rsquo;s linker to generate a
<em>link file</em>.  The link file is a C file that collects various
linking information for a group of modules, such as the set of all
symbols and global variables used by the modules.
<a name="index-_002dlink"></a>
<a name="index-_002dexe"></a>
The linker is only invoked when the &lsquo;<samp>-link</samp>&rsquo; or &lsquo;<samp>-exe</samp>&rsquo;
options appear on the command line.
</p>
<p>Compiler options must be specified before the first file name and
after the &lsquo;<samp>-:</samp>&rsquo; runtime option (see section <a href="#Runtime-options">Runtime options</a>).  If
present, the &lsquo;<samp>-i</samp>&rsquo;, &lsquo;<samp>-f</samp>&rsquo;, and &lsquo;<samp>-v</samp>&rsquo; compiler options
must come first.  The available options are:
</p>
<a name="index-compiler-options"></a>
<a name="index-options_002c-compiler"></a>
<dl compact="compact">
<dt> <code>-i</code></dt>
<dd><p>Force interpreter mode.
</p></dd>
<dt> <code>-f</code></dt>
<dd><p>Do not examine the initialization file.
</p></dd>
<dt> <code>-v</code></dt>
<dd><p>Print the system version string, system time stamp, operating system
type, and configure script options on standard output and exit.
</p></dd>
<dt> <code>-prelude <var>expressions</var></code></dt>
<dd><p>Add expressions to the top of the source code being compiled.
</p></dd>
<dt> <code>-postlude <var>expressions</var></code></dt>
<dd><p>Add expressions to the bottom of the source code being compiled.
</p></dd>
<dt> <code>-cc-options <var>options</var></code></dt>
<dd><p>Add options to the command that invokes the C compiler.
</p></dd>
<dt> <code>-ld-options-prelude <var>options</var></code></dt>
<dd><p>Add options to the command that invokes the C linker.
</p></dd>
<dt> <code>-ld-options <var>options</var></code></dt>
<dd><p>Add options to the command that invokes the C linker.
</p></dd>
<dt> <code>-warnings</code></dt>
<dd><p>Display warnings.
</p></dd>
<dt> <code>-verbose</code></dt>
<dd><p>Display a trace of the compiler&rsquo;s activity.
</p></dd>
<dt> <code>-report</code></dt>
<dd><p>Display a global variable usage report.
</p></dd>
<dt> <code>-expansion</code></dt>
<dd><p>Display the source code after expansion.
</p></dd>
<dt> <code>-gvm</code></dt>
<dd><p>Generate a listing of the GVM code.
</p></dd>
<dt> <code>-debug</code></dt>
<dd><p>Include all debugging information in the code generated.
</p></dd>
<dt> <code>-debug-location</code></dt>
<dd><p>Include source code location debugging information in the code generated.
</p></dd>
<dt> <code>-debug-source</code></dt>
<dd><p>Include the source code debugging information in the code generated.
</p></dd>
<dt> <code>-debug-environments</code></dt>
<dd><p>Include environment debugging information in the code generated.
</p></dd>
<dt> <code>-track-scheme</code></dt>
<dd><p>Generate &lsquo;<samp>#line</samp>&rsquo; directives referring back to the Scheme code.
</p></dd>
<dt> <code>-o <var>output</var></code></dt>
<dd><p>Set name of output file or directory where output file(s) are written.
</p></dd>
<dt> <code>-dynamic</code></dt>
<dd><p>Compile Scheme source files to dynamically loadable object
files (this is the default).
</p></dd>
<dt> <code>-exe</code></dt>
<dd><p>Compile Scheme source files into an executable program.
</p></dd>
<dt> <code>-obj</code></dt>
<dd><p>Compile Scheme source files to object files.
</p></dd>
<dt> <code>-keep-c</code></dt>
<dd><p>Keep any intermediate &lsquo;<samp>.c</samp>&rsquo; files that are generated.
</p></dd>
<dt> <code>-c</code></dt>
<dd><p>Compile Scheme source files to C without generating link file.
</p></dd>
<dt> <code>-link</code></dt>
<dd><p>Compile Scheme source files to C and generate a link file.
</p></dd>
<dt> <code>-flat</code></dt>
<dd><p>Generate a flat link file instead of the default incremental link file.
</p></dd>
<dt> <code>-l <var>base</var></code></dt>
<dd><p>Specify the link file of the base library to use for the link.
</p></dd>
<dt> <code>-</code></dt>
<dd><p>Start REPL interaction.
</p></dd>
<dt> <code>-e <var>expressions</var></code></dt>
<dd><p>Evaluate expressions in the interaction environment.
</p></dd>
</dl>

<a name="index-_002di"></a>
<p>The &lsquo;<samp>-i</samp>&rsquo; option forces the compiler to process the remaining
command line arguments like the interpreter.
</p>
<a name="index-_002dprelude"></a>
<p>The &lsquo;<samp>-prelude</samp>&rsquo; option adds the specified expressions to the top of
the source code being compiled.  The main use of this option is to
supply declarations on the command line.  For example the following
invocation of the compiler will compile the file &lsquo;<samp>bench.scm</samp>&rsquo; in
unsafe mode:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -prelude &quot;(declare (not safe))&quot; bench.scm</b>
</pre></td></tr></table>

<a name="index-_002dpostlude"></a>
<p>The &lsquo;<samp>-postlude</samp>&rsquo; option adds the specified expressions to the bottom
of the source code being compiled.  The main use of this option is to
supply the expression that will start the execution of the program.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -postlude &quot;(start-bench)&quot; bench.scm</b>
</pre></td></tr></table>

<a name="index-_002dcc_002doptions"></a>
<p>The &lsquo;<samp>-cc-options</samp>&rsquo; option is only meaningful when a dynamically
loadable object file is being generated (neither the &lsquo;<samp>-c</samp>&rsquo; or
&lsquo;<samp>-link</samp>&rsquo; options are used).  The &lsquo;<samp>-cc-options</samp>&rsquo; option adds
the specified options to the command that invokes the C compiler.  The
main use of this option is to specify the include path, some symbols
to define or undefine, the optimization level, or any C compiler
option that is different from the default.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -cc-options &quot;-U___SINGLE_HOST -O2 -I../include&quot; bench.scm</b>
</pre></td></tr></table>

<a name="index-_002dld_002doptions_002dprelude"></a>
<a name="index-_002dld_002doptions"></a>
<p>The &lsquo;<samp>-ld-options-prelude</samp>&rsquo; and &lsquo;<samp>-ld-options</samp>&rsquo; options are only
meaningful when a dynamically loadable object file is being generated
(neither the &lsquo;<samp>-c</samp>&rsquo; or &lsquo;<samp>-link</samp>&rsquo; options are used).  The
&lsquo;<samp>-ld-options-prelude</samp>&rsquo; and &lsquo;<samp>-ld-options</samp>&rsquo; options add the
specified options to the command that invokes the C linker (the
options in <var>ld-options-prelude</var> are passed to the C linker before
the input file and the options in <var>ld-options</var> are passed after).
The main use of this option is to specify additional object files or
libraries that need to be linked, or any C linker option that is
different from the default (such as the library search path and flags
to select between static and dynamic linking).  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -ld-options &quot;-L/usr/X11R6/lib -lX11 -dynamic&quot; bench.scm</b>
</pre></td></tr></table>

<a name="index-_002dwarnings"></a>
<p>The &lsquo;<samp>-warnings</samp>&rsquo; option displays on standard output all warnings
that the compiler may have.
</p>
<a name="index-_002dverbose"></a>
<p>The &lsquo;<samp>-verbose</samp>&rsquo; option displays on standard output a trace of the
compiler&rsquo;s activity.
</p>
<a name="index-_002dreport"></a>
<p>The &lsquo;<samp>-report</samp>&rsquo; option displays on standard output a global
variable usage report.  Each global variable used in the program is
listed with 4 flags that indicate whether the global variable is
defined, referenced, mutated and called.
</p>
<a name="index-_002dexpansion"></a>
<p>The &lsquo;<samp>-expansion</samp>&rsquo; option displays on standard output the source code
after expansion and inlining by the front end.
</p>
<a name="index-_002dgvm"></a>
<p>The &lsquo;<samp>-gvm</samp>&rsquo; option generates a listing of the intermediate code
for the &ldquo;Gambit Virtual Machine&rdquo; (GVM) of each Scheme file on
&lsquo;<samp><var>file</var>.gvm</samp>&rsquo;.
</p>
<a name="index-_002ddebug"></a>
<a name="index-debug"></a>
<p>The &lsquo;<samp>-debug</samp>&rsquo; option causes all kinds of debugging information to
be saved in the code generated.  See the documentation of the
&lsquo;<samp>debug</samp>&rsquo; declaration for details.
</p>
<a name="index-_002ddebug_002dlocation"></a>
<a name="index-debug_002dlocation"></a>
<p>The &lsquo;<samp>-debug-location</samp>&rsquo; option causes source code location
debugging information to be saved in the code generated.  See the
documentation of the &lsquo;<samp>debug-location</samp>&rsquo; declaration for details.
</p>
<a name="index-_002ddebug_002dsource"></a>
<a name="index-debug_002dsource"></a>
<p>The &lsquo;<samp>-debug-source</samp>&rsquo; option causes source code debugging
information to be saved in the code generated.  See the documentation
of the &lsquo;<samp>debug-source</samp>&rsquo; declaration for details.
</p>
<a name="index-_002ddebug_002denvironments"></a>
<a name="index-debug_002denvironments"></a>
<p>The &lsquo;<samp>-debug-environments</samp>&rsquo; option causes environment debugging
information to be saved in the code generated.  See the documentation
of the &lsquo;<samp>debug-environments</samp>&rsquo; declaration for details.
</p>
<a name="index-_002dtrack_002dscheme"></a>
<p>The &lsquo;<samp>-track-scheme</samp>&rsquo; options causes the generation of &lsquo;<samp>#line</samp>&rsquo;
directives that refer back to the Scheme source code.  This allows the
use of a C debugger or profiler to debug Scheme code.
</p>
<a name="index-_002do-output"></a>
<p>The &lsquo;<samp>-o</samp>&rsquo; option sets the filename of the output file, or the
directory in which the output file(s) generated by the compiler are
written.
</p>
<a name="index-_002dc"></a>
<a name="index-_002ddynamic"></a>
<a name="index-_002dexe-1"></a>
<a name="index-_002dobj"></a>
<a name="index-_002dlink-1"></a>
<a name="index-_002dkeep_002dc"></a>
<a name="index-last_005f_002ec"></a>
<p>If the &lsquo;<samp>-link</samp>&rsquo; or &lsquo;<samp>-exe</samp>&rsquo; options appear on the command line,
the Gambit linker is invoked to generate the link file from the set of
C files specified on the command line or produced by the Gambit
compiler.  By default the link file is &lsquo;<samp><var>last</var>_.c</samp>&rsquo;, where
&lsquo;<samp><var>last</var>.c</samp>&rsquo; is the last file in the set of C files.  When the
&lsquo;<samp>-c</samp>&rsquo; option is specified, the Scheme source files are compiled to
C files.  When the &lsquo;<samp>-exe</samp>&rsquo; option is specified, the generated C
files and link file are compiled and linked using the C compiler to
produce an executable program whose name defaults to
&lsquo;<samp><var>last</var>.exe</samp>&rsquo;.  When the &lsquo;<samp>-obj</samp>&rsquo; option is specified, the
generated C files are compiled using the C compiler to produce object
files (&lsquo;<samp>.o</samp>&rsquo; or &lsquo;<samp>.obj</samp>&rsquo; extensions).  If neither the
&lsquo;<samp>-link</samp>&rsquo;, &lsquo;<samp>-c</samp>&rsquo;, &lsquo;<samp>-exe</samp>&rsquo;, &lsquo;<samp>-obj</samp>&rsquo; options appear on
the command line, the Scheme source files are compiled to dynamically
loadable object files (&lsquo;<samp>.o<var>n</var></samp>&rsquo; extension).  The
&lsquo;<samp>-keep-c</samp>&rsquo; option will prevent the deletion of any intermediate
&lsquo;<samp>.c</samp>&rsquo; file that is generated.  Note that in this case the
intermediate &lsquo;<samp>.c</samp>&rsquo; file will be generated in the same directory as
the Scheme source file even if the &lsquo;<samp>-o</samp>&rsquo; option is used.
</p>
<a name="index-_002dflat"></a>
<p>The &lsquo;<samp>-flat</samp>&rsquo; option is only meaningful when a link file is being
generated (i.e. the &lsquo;<samp>-link</samp>&rsquo; or &lsquo;<samp>-exe</samp>&rsquo; options also appear on
the command line).  The &lsquo;<samp>-flat</samp>&rsquo; option directs the Gambit linker
to generate a flat link file.  By default, the linker generates an
incremental link file (see the next section for a description of the
two types of link files).
</p>
<a name="index-_002dl-base"></a>
<p>The &lsquo;<samp>-l</samp>&rsquo; option is only meaningful when an incremental link file
is being generated (i.e. the &lsquo;<samp>-link</samp>&rsquo; or &lsquo;<samp>-exe</samp>&rsquo; options
appear on the command line and the &lsquo;<samp>-flat</samp>&rsquo; option is absent).
The &lsquo;<samp>-l</samp>&rsquo; option specifies the link file (without the &lsquo;<samp>.c</samp>&rsquo;
extension) of the base library to use for the incremental link.  By
default the link file of the Gambit runtime library is used
(i.e. &lsquo;<samp>~~lib/_gambc.c</samp>&rsquo;).
</p>
<a name="index-_002d"></a>
<p>The &lsquo;<samp>-</samp>&rsquo; option starts a REPL interaction.
</p>
<a name="index-_002de"></a>
<p>The &lsquo;<samp>-e</samp>&rsquo; option evaluates the specified expressions in the
interaction environment.
</p>
<a name="Link-files"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GSC-batch-mode" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Building-an-executable-program" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Link-files-1"></a>
<h2 class="section">3.4 Link files</h2>

<p>Gambit can be used to create programs and libraries of Scheme
modules.  This section explains the steps required to do so and the role
played by the link files.
</p>
<p>In general, a program is composed of a set of Scheme modules and C
modules.  Some of the modules are part of the Gambit runtime library and
the other modules are supplied by the user.  When the program is
started it must setup various global tables (including the symbol table
and the global variable table) and then sequentially execute the Scheme
modules (more or less as though they were being loaded one after another).
The information required for this is contained in one or more <em>link
files</em> generated by the Gambit linker from the C files produced by the
Gambit compiler.
</p>
<p>The order of execution of the Scheme modules corresponds to the order of
the modules on the command line which produced the link file.  The order
is usually important because most modules define variables and
procedures which are used by other modules (for this reason the
program&rsquo;s main computation is normally started by the last module).
</p>
<p>When a single link file is used to contain the linking information of
all the Scheme modules it is called a <em>flat link file</em>.  Thus a
program built with a flat link file contains in its link file both
information on the user modules and on the runtime library.  This is
fine if the program is to be statically linked but is wasteful in
a shared-library context because the linking information of the
runtime library can&rsquo;t be shared and will be duplicated in all
programs (this linking information typically takes hundreds of kilobytes).
</p>
<p>Flat link files are mainly useful to bundle multiple Scheme modules to
make a runtime library (such as the Gambit runtime library) or to make a
single file that can be loaded with the <code>load</code> procedure.
</p>
<p>An <em>incremental link file</em> contains only the linking information
that is not already contained in a second link file (the &ldquo;base&rdquo; link
file).  Assuming that a flat link file was produced when the runtime
library was linked, a program can be built by linking the user
modules with the runtime library&rsquo;s link file, producing an incremental
link file.  This allows the creation of a shared-library which
contains the modules of the runtime library and its flat link file.
The program is dynamically linked with this shared-library and
only contains the user modules and the incremental link file.  For
small programs this approach greatly reduces the size of the
program because the incremental link file is small.  A &ldquo;hello
world&rdquo; program built this way can be as small as 5 Kbytes.  Note that
it is perfectly fine to use an incremental link file for statically
linked programs (there is very little loss compared to a single flat
link file).
</p>
<p>Incremental link files may be built from other incremental link files.
This allows the creation of shared-libraries which extend the
functionality of the Gambit runtime library.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Building-an-executable-program">3.4.1 Building an executable program</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Building-a-loadable-library">3.4.2 Building a loadable library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Building-a-shared_002dlibrary">3.4.3 Building a shared-library</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Building-an-executable-program"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Link-files" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Building-a-loadable-library" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Link-files" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Building-an-executable-program-1"></a>
<h3 class="subsection">3.4.1 Building an executable program</h3>

<p>The simplest way to create an executable program is to invoke
<code>gsc</code> with the &lsquo;<samp>-exe</samp>&rsquo; option.  The compiler will
transparently perform all the steps necessary, including compiling
Scheme source files to C files, generating the link file, compiling
the C files generated to object files, and creating the final
executable file using the C linker.  The following example shows how
to build the executable program &lsquo;<samp>hello.exe</samp>&rsquo; which contains the
two Scheme modules &lsquo;<samp>h.scm</samp>&rsquo; and &lsquo;<samp>w.six</samp>&rsquo;.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat h.scm</b>
(display &quot;hello&quot;) (newline)
$ <b>cat w.six</b>
display(&quot;world&quot;); newline();
$ <b>gsc -o hello.exe -exe h.scm w.six</b>
h.scm:
/Users/feeley/gambit/doc/h.c:
w.six:
/Users/feeley/gambit/doc/w.c:
/Users/feeley/gambit/doc/w_.c:
$ <b>./hello.exe</b>
hello
world
</pre></td></tr></table>

<p>The detailed steps which are performed can be viewed by setting the
&lsquo;<samp>GAMBC_CC_VERBOSE</samp>&rsquo; environment variable to a nonnull value.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>export GAMBC_CC_VERBOSE=yes</b>
$ <b>gsc -o hello.exe -exe h.scm w.six</b>
h.scm:
/Users/feeley/gambit/doc/h.c:
gcc -no-cpp-precomp -Wno-unused -O1 -fno-math-errno -fschedule-insns2
 -fno-trapping-math -fno-strict-aliasing -fwrapv -fomit-frame-pointer
 -fPIC -fno-common -mieee-fp -I&quot;/usr/local/Gambit-C/include&quot; -c -o &quot;h.o&quot; h.c
w.six:
/Users/feeley/gambit/doc/w.c:
gcc -no-cpp-precomp -Wno-unused -O1 -fno-math-errno -fschedule-insns2
 -fno-trapping-math -fno-strict-aliasing -fwrapv -fomit-frame-pointer
 -fPIC -fno-common -mieee-fp -I&quot;/usr/local/Gambit-C/include&quot; -c -o &quot;w.o&quot; w.c
/Users/feeley/gambit/doc/w_.c:
gcc -no-cpp-precomp -Wno-unused -O1 -fno-math-errno -fschedule-insns2
 -fno-trapping-math -fno-strict-aliasing -fwrapv -fomit-frame-pointer
 -fPIC -fno-common -mieee-fp -I&quot;/usr/local/Gambit-C/include&quot; -c -o &quot;w_.o&quot; w_.c
gcc  -no-cpp-precomp -Wno-unused -O1 -fno-math-errno -fschedule-insns2
 -fno-trapping-math -fno-strict-aliasing -fwrapv -fomit-frame-pointer
 -fPIC -fno-common -mieee-fp -I&quot;/usr/local/Gambit-C/include&quot;
 -o &quot;hello.exe&quot; h.o w.o w_.o &quot;/usr/local/Gambit-C/lib/libgambc.a&quot;
</pre></td></tr></table>

<p>Using a single invocation of <code>gsc</code> with the &lsquo;<samp>-exe</samp>&rsquo; option is
sometimes inappropriate when the build process is more complex, for
example when the program is composed of several seperately compiled
modules.  In such a case it is useful to decompose the build process
into smaller compilation steps.  The &lsquo;<samp>hello.exe</samp>&rsquo; executable
program could have been built by seperating the generation of C files
from the C compilation and linking:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -c h.scm</b>
$ <b>gsc -c w.six</b>
$ <b>gsc -o hello.exe -exe h.c w.c</b>
</pre></td></tr></table>

<p>When even finer control is desired the build process can be decomposed
into smaller steps that invoke the C compiler and linker explicitly.
This is described in the rest of this section.
</p>
<p>The <code>gsc</code> compiler can be invoked to compile each Scheme module
into a C file and to create an incremental link file.  The C files and
the link file must then be compiled with a C compiler and linked (at
the object file level) with the Gambit runtime library and possibly
other libraries (such as the math library and the dynamic loading
library).
</p>
<p>Here is for example how a program with three modules (one in C and two
in Scheme) can be built.  The content of the three source files (&lsquo;<samp>m1.c</samp>&rsquo;,
&lsquo;<samp>m2.scm</samp>&rsquo; and &lsquo;<samp>m3.scm</samp>&rsquo;) is:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>/* File: &quot;m1.c&quot; */
int power_of_2 (int x) { return 1&lt;&lt;x; }

; File: &quot;m2.scm&quot;
(c-declare &quot;extern int power_of_2 ();&quot;)
(define pow2 (c-lambda (int) int &quot;power_of_2&quot;))
(define (twice x) (cons x x))

; File: &quot;m3.scm&quot;
(write (map twice (map pow2 '(1 2 3 4)))) (newline)
</pre></td></tr></table>

<p>The compilation of the two Scheme source files can be done with
three invocations of <code>gsc</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -c m2.scm        <span class="roman"><i># create m2.c (note: .scm is optional)</i></span></b>
$ <b>gsc -c m3.scm        <span class="roman"><i># create m3.c (note: .scm is optional)</i></span></b>
$ <b>gsc -link m2.c m3.c  <span class="roman"><i># create the incremental link file m3_.c</i></span></b>
</pre></td></tr></table>

<p>Alternatively, the three invocations of <code>gsc</code> can be replaced by a
single invocation:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -link m2 m3</b>
m2:
m3:
</pre></td></tr></table>

<p>At this point there will be 4 C files: &lsquo;<samp>m1.c</samp>&rsquo;, &lsquo;<samp>m2.c</samp>&rsquo;,
&lsquo;<samp>m3.c</samp>&rsquo;, and &lsquo;<samp>m3_.c</samp>&rsquo;.  To produce an executable program these
files must be compiled with a C compiler and linked with the Gambit-C
runtime library.  The C compiler options needed will depend on the C
compiler and the operating system (in particular it may be necessary
to add the options &lsquo;<samp>-I/usr/local/Gambit-C/include
-L/usr/local/Gambit-C/lib</samp>&rsquo; to access the &lsquo;<samp>gambit.h</samp>&rsquo; header file
and the Gambit-C runtime library).
</p>
<p>Here is an example under Mac OS X:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Darwin 8.1.0 Power Macintosh powerpc
$ <b>gsc -obj m1.c m2.c m3.c m3_.c</b>
m1.c:
m2.c:
m3.c:
m3_.c:
$ <b>gcc m1.o m2.o m3.o m3_.o -lgambc</b>
$ <b>./a.out</b>
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
</pre></td></tr></table>

<p>Here is an example under Linux:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Linux 2.6.8-1.521 i686 athlon
$ <b>gsc -obj m1.c m2.c m3.c m3_.c</b>
m1.c:
m2.c:
m3.c:
m3_.c:
$ <b>gcc m1.o m2.o m3.o m3_.o -lgambc -lm -ldl -lutil</b>
$ <b>./a.out</b>
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
</pre></td></tr></table>

<a name="Building-a-loadable-library"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Building-an-executable-program" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Building-a-shared_002dlibrary" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Link-files" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Building-a-loadable-library-1"></a>
<h3 class="subsection">3.4.2 Building a loadable library</h3>

<a name="index-_002dD_005f_005f_005fDYNAMIC"></a>
<p>To bundle multiple modules into a single object file that can be
dynamically loaded with the <code>load</code> procedure, a flat link file is
needed.  The compiler&rsquo;s &lsquo;<samp>-o</samp>&rsquo; option must be used to name the C
file generated as follows.  If the dynamically loadable object file is
to be named &lsquo;<samp><var>myfile</var>.o<var>n</var></samp>&rsquo; then the &lsquo;<samp>-o</samp>&rsquo; option
must set the name of the link file generated to
&lsquo;<samp><var>myfile</var>.o<var>n</var>.c</samp>&rsquo; (note that the &lsquo;<samp>.c</samp>&rsquo; extension
could also be &lsquo;<samp>.cc</samp>&rsquo;, &lsquo;<samp>.cpp</samp>&rsquo; or whatever extension is
appropriate for C/C++ source files).  The three modules of the
previous example can be bundled by generating a link file in this way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -link -flat -o foo.o1.c m2 m3</b>
m2:
m3:
*** WARNING -- &quot;cons&quot; is not defined,
***            referenced in: (&quot;m2.c&quot;)
*** WARNING -- &quot;map&quot; is not defined,
***            referenced in: (&quot;m3.c&quot;)
*** WARNING -- &quot;newline&quot; is not defined,
***            referenced in: (&quot;m3.c&quot;)
*** WARNING -- &quot;write&quot; is not defined,
***            referenced in: (&quot;m3.c&quot;)
</pre></td></tr></table>

<p>The warnings indicate that there are no definitions (<code>define</code>s or
<code>set!</code>s) of the variables <code>cons</code>, <code>map</code>, <code>newline</code>
and <code>write</code> in the set of modules being linked.  Before
&lsquo;<samp>foo.o1</samp>&rsquo; is loaded, these variables will have to be bound; either
implicitly (by the runtime library) or explicitly.
</p>
<p>When compiling the C files and link file generated, the flag
&lsquo;<samp>-D___DYNAMIC</samp>&rsquo; must be passed to the C compiler and the C
compiler and linker must be told to generate a dynamically loadable
shared library.
</p>
<p>Here is an example under Mac OS X:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Darwin 10.5.0 i386 i386
$ <b>gsc -link -flat -o foo.o1.c m2 m3 &gt; /dev/null</b>
m2:
m3:
$ <b>gsc -cc-options &quot;-D___DYNAMIC&quot; -obj m1.c m2.c m3.c foo.o1.c</b>
m1.c:
m2.c:
m3.c:
foo.o1.c:
$ <b>gcc -bundle m1.o m2.o m3.o foo.o1.o -o foo.o1</b>
$ <b>gsi foo.o1</b>
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
</pre></td></tr></table>

<p>Here is an example under Linux:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Linux 2.6.8-1.521 i686 athlon
$ <b>gsc -link -flat -o foo.o1.c m2 m3 &gt; /dev/null</b>
m2:
m3:
$ <b>gsc -cc-options &quot;-D___DYNAMIC&quot; -obj m1.c m2.c m3.c foo.o1.c</b>
m1.c:
m2.c:
m3.c:
foo.o1.c:
$ <b>gcc -shared m1.o m2.o m3.o foo.o1.o -o foo.o1</b>
$ <b>gsi foo.o1</b>
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
</pre></td></tr></table>

<p>Here is a more complex example, under Solaris, which shows how to build
a loadable library &lsquo;<samp>mymod.o1</samp>&rsquo; composed of the files &lsquo;<samp>m4.scm</samp>&rsquo;,
&lsquo;<samp>m5.scm</samp>&rsquo; and &lsquo;<samp>x.c</samp>&rsquo; that links to system shared libraries (for
X-windows):
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
SunOS ungava 5.6 Generic_105181-05 sun4m sparc SUNW,SPARCstation-20
$ <b>gsc -link -flat -o mymod.o1.c m4 m5</b>
m4:
m5:
*** WARNING -- &quot;*&quot; is not defined,
***            referenced in: (&quot;m4.c&quot;)
*** WARNING -- &quot;+&quot; is not defined,
***            referenced in: (&quot;m5.c&quot;)
*** WARNING -- &quot;display&quot; is not defined,
***            referenced in: (&quot;m5.c&quot; &quot;m4.c&quot;)
*** WARNING -- &quot;newline&quot; is not defined,
***            referenced in: (&quot;m5.c&quot; &quot;m4.c&quot;)
*** WARNING -- &quot;write&quot; is not defined,
***            referenced in: (&quot;m5.c&quot;)
$ <b>gsc -cc-options &quot;-D___DYNAMIC&quot; -obj m4.c m5.c x.c mymod.o1.c</b>
m4.c:
m5.c:
x.c:
mymod.o1.c:
$ <b>/usr/ccs/bin/ld -G -o mymod.o1 mymod.o1.o m4.o m5.o x.o -lX11 -lsocket</b>
$ <b>gsi mymod.o1</b>
hello from m4
hello from m5
(f1 10) = 22
$ <b>cat m4.scm</b>
(define (f1 x) (* 2 (f2 x)))
(display &quot;hello from m4&quot;)
(newline)

(c-declare #&lt;&lt;c-declare-end
#include &quot;x.h&quot;
c-declare-end
)
(define x-initialize (c-lambda (char-string) bool &quot;x_initialize&quot;))
(define x-display-name (c-lambda () char-string &quot;x_display_name&quot;))
(define x-bell (c-lambda (int) void &quot;x_bell&quot;))
$ <b>cat m5.scm</b>
(define (f2 x) (+ x 1))
(display &quot;hello from m5&quot;)
(newline)

(display &quot;(f1 10) = &quot;)
(write (f1 10))
(newline)

(x-initialize (x-display-name))
(x-bell 50) ; sound the bell at 50%
$ <b>cat x.c</b>
#include &lt;X11/Xlib.h&gt;

static Display *display;

int x_initialize (char *display_name)
{
  display = XOpenDisplay (display_name);
  return display != NULL;
}

char *x_display_name (void)
{
  return XDisplayName (NULL);
}

void x_bell (int volume)
{
  XBell (display, volume);
  XFlush (display);
}
$ <b>cat x.h</b>
int x_initialize (char *display_name);
char *x_display_name (void);
void x_bell (int);
</pre></td></tr></table>

<a name="Building-a-shared_002dlibrary"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Building-a-loadable-library" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Other-compilation-options" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Link-files" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Building-a-shared_002dlibrary-1"></a>
<h3 class="subsection">3.4.3 Building a shared-library</h3>

<a name="index-_002dD_005f_005f_005fPRIMAL"></a>
<a name="index-_002dD_005f_005f_005fLIBRARY"></a>
<a name="index-_002dD_005f_005f_005fSHARED"></a>
<p>A shared-library can be built using an incremental link file or a flat
link file.  An incremental link file is normally used when the Gambit
runtime library (or some other library) is to be extended with new
procedures.  A flat link file is mainly useful when building a
&ldquo;primal&rdquo; runtime library, which is a library (such as the Gambit
runtime library) that does not extend another library.  When compiling
the C files and link file generated, the flags &lsquo;<samp>-D___LIBRARY</samp>&rsquo; and
&lsquo;<samp>-D___SHARED</samp>&rsquo; must be passed to the C compiler.  The flag
&lsquo;<samp>-D___PRIMAL</samp>&rsquo; must also be passed to the C compiler when a primal
library is being built.
</p>
<p>A shared-library &lsquo;<samp>mylib.so</samp>&rsquo; containing the two first modules of
the previous example can be built this way:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Linux bailey 1.2.13 #2 Wed Aug 28 16:29:41 GMT 1996 i586
$ <b>gsc -link -o mylib.c m2</b>
$ <b>gsc -obj -cc-options &quot;-D___SHARED&quot; m1.c m2.c mylib.c</b>
m1.c:
m2.c:
mylib.c:
$ <b>gcc -shared  m1.o m2.o mylib.o -o mylib.so</b>
</pre></td></tr></table>

<p>Note that this shared-library is built using an incremental link file
(it extends the Gambit runtime library with the procedures <code>pow2</code>
and <code>twice</code>).  This shared-library can in turn be used to build
an executable program from the third module of the previous example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsc -link -l mylib m3</b>
$ <b>gsc -obj m3.c m3_.c</b>
m3.c:
m3_.c:
$ <b>gcc m3.o m3_.o mylib.so -lgambc</b>
$ <b>LD_LIBRARY_PATH=.:/usr/local/lib ./a.out</b>
((2 . 2) (4 . 4) (8 . 8) (16 . 16))
</pre></td></tr></table>

<a name="Other-compilation-options"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Building-a-shared_002dlibrary" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Procedures-specific-to-compiler" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Link-files" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Other-compilation-options-1"></a>
<h3 class="subsection">3.4.4 Other compilation options</h3>

<a name="index-_002dD_005f_005f_005fSINGLE_005fHOST"></a>
<a name="index-_002dO"></a>
<p>The performance of the code can be increased by passing the
&lsquo;<samp>-D___SINGLE_HOST</samp>&rsquo; flag to the C compiler.  This will merge all
the procedures of a module into a single C procedure, which reduces
the cost of intra-module procedure calls.  In addition the &lsquo;<samp>-O</samp>&rsquo;
option can be passed to the C compiler.  For large modules, it will
not be practical to specify both &lsquo;<samp>-O</samp>&rsquo; and &lsquo;<samp>-D___SINGLE_HOST</samp>&rsquo;
for typical C compilers because the compile time will be high and the
C compiler might even fail to compile the program for lack of memory.
It has been observed that lower levels of optimization (e.g. &lsquo;<samp>-O1</samp>&rsquo;)
often give faster compilation and also generate faster code.  It is
a good idea to experiment.
</p>
<a name="index-_002dI_002fusr_002flocal_002fGambit_002dC_002finclude"></a>
<a name="index-_002dL_002fusr_002flocal_002fGambit_002dC_002flib"></a>
<p>Normally C compilers will not automatically search
&lsquo;<samp>/usr/local/Gambit-C/include</samp>&rsquo; for header files so the flag
&lsquo;<samp>-I/usr/local/Gambit-C/include</samp>&rsquo; should be passed to the C
compiler.  Similarly, C compilers/linkers will not automatically
search &lsquo;<samp>/usr/local/Gambit-C/lib</samp>&rsquo; for libraries so the flag
&lsquo;<samp>-L/usr/local/Gambit-C/lib</samp>&rsquo; should be passed to the C
compiler/linker.  Alternatives are given in <a href="#Accessing-the-system-files">Accessing the system files</a>.
</p>
<a name="index-_002dshared"></a>
<a name="index-_002dcall_005fshared"></a>
<a name="index-_002drdynamic"></a>
<a name="index-_002dfpic"></a>
<a name="index-_002dfPIC"></a>
<a name="index-_002dKpic"></a>
<a name="index-_002dKPIC"></a>
<a name="index-_002dpic"></a>
<a name="index-_002bz"></a>
<a name="index-_002dG"></a>
<p>A variety of flags are needed by some C compilers when compiling a
shared-library or a dynamically loadable library.  Some of these flags
are: &lsquo;<samp>-shared</samp>&rsquo;, &lsquo;<samp>-call_shared</samp>&rsquo;, &lsquo;<samp>-rdynamic</samp>&rsquo;,
&lsquo;<samp>-fpic</samp>&rsquo;, &lsquo;<samp>-fPIC</samp>&rsquo;, &lsquo;<samp>-Kpic</samp>&rsquo;, &lsquo;<samp>-KPIC</samp>&rsquo;, &lsquo;<samp>-pic</samp>&rsquo;,
&lsquo;<samp>+z</samp>&rsquo;, &lsquo;<samp>-G</samp>&rsquo;.  Check your compiler&rsquo;s documentation to see
which flag you need.
</p>
<a name="Procedures-specific-to-compiler"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Other-compilation-options" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#GSC" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Procedures-specific-to-compiler-1"></a>
<h2 class="section">3.5 Procedures specific to compiler</h2>

<p>The Gambit Scheme compiler features the following procedures that
are not available in the Gambit Scheme interpreter.
</p>
<a name="Definition_of_compile-file-to-target"></a><a name="Procedure_compile-file-to-target"></a><a name="index-compile_002dfile_002dto_002dtarget"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_compile-file-to-target">compile-file-to-target</a></b></code><i> <var>file</var> <span class="roman">[</span><code>options:</code> <var>options</var><span class="roman">]</span> <span class="roman">[</span><code>output:</code> <var>output</var><span class="roman">]</span> <span class="roman">[</span><code>module-name:</code> <var>module-name</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-gsc-2"></a>

<p>The <var>file</var> parameter must be a string naming an existing file
containing Scheme source code.  The extension can be omitted from
<var>file</var> when the Scheme file has a &lsquo;<samp>.scm</samp>&rsquo; or &lsquo;<samp>.six</samp>&rsquo;
extension.  This procedure compiles the source file into a file
containing C code.  By default, this file is named after <var>file</var>
with the extension replaced with &lsquo;<samp>.c</samp>&rsquo;.  The name of the generated
file can be specified with the <var>output</var> parameter.  If
<var>output</var> is a string naming a directory then the C file is created
in that directory.  Otherwise the name of the C file is <var>output</var>.
The name of the generated module can be specified with the
<var>module-name</var> parameter.  If <var>module-name</var> is <code>#f</code> or is
not specified, then the name of the module is derived from the name of
the C file generated, without the extension.
</p>
<p>Compilation options are specified through the <var>options</var> parameter
which must be a list of symbols.  Any combination of the following
options can be used: &lsquo;<samp>verbose</samp>&rsquo;, &lsquo;<samp>report</samp>&rsquo;, &lsquo;<samp>expansion</samp>&rsquo;,
&lsquo;<samp>gvm</samp>&rsquo;, and &lsquo;<samp>debug</samp>&rsquo;.
</p>
<p>When the compilation is successful, <code>compile-file-to-target</code> returns
the name of the C file generated.  When there is a compilation error,
<code>#f</code> is returned.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat h.scm</b>
(display &quot;hello&quot;) (newline)
$ <b>gsc</b>
Gambit v4.7.3

&gt; <b>(compile-file-to-target &quot;h&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.c&quot;
</pre></td></tr></table>


<a name="Definition_of_compile-file"></a><a name="Procedure_compile-file"></a><a name="index-compile_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_compile-file">compile-file</a></b></code><i> <var>file</var> <span class="roman">[</span><code>options:</code> <var>options</var><span class="roman">]</span> <span class="roman">[</span><code>output:</code> <var>output</var><span class="roman">]</span> <span class="roman">[</span><code>cc-options:</code> <var>cc-options</var><span class="roman">]</span> <span class="roman">[</span><code>ld-options-prelude:</code> <var>ld-options-prelude</var><span class="roman">]</span> <span class="roman">[</span><code>ld-options:</code> <var>ld-options</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-gsc-3"></a>
<a name="index-load"></a>
<a name="index-object-file"></a>

<p>The <var>file</var>, <var>options</var>, and <var>output</var> parameters have the
same meaning as for the <code>compile-file-to-target</code> procedure, except that
<var>file</var> may be a Scheme source file or a
C file possibly generated by the Gambit Scheme compiler (for example
with the <code>compile-file-to-target</code> procedure).  The
<var>cc-options</var> parameter is a string containing the options to pass
to the C compiler and the <var>ld-options-prelude</var> and
<var>ld-options</var> parameters are strings containing the options to pass
to the C linker (the options in <var>ld-options-prelude</var> are passed to
the C linker before the input file and the options in <var>ld-options</var>
are passed after).
</p>
<p>The <code>compile-file</code> procedure compiles the source file <var>file</var>
into an object file, which is either a file dynamically loadable using
the <code>load</code> procedure, or a C linkable object file destined to be
linked with the C linker (for example to create a standalone
executable program).  The presence of the
<code>obj</code> option in <var>options</var> will cause the creation of a C
linkable object file and therefore the options
<var>ld-options-prelude</var> and <var>ld-options</var> are ignored, otherwise a
dynamically loadable file is created.  In both cases, if <var>file</var> is
a Scheme source file, the compiler first compiles <var>file</var> to a C
file which is created in the same directory as <var>file</var> regardless
of the <var>output</var> parameter.  Then the C file is compiled with the C
compiler.
</p>
<p>When the compilation is successful, <code>compile-file</code> returns the
name of the object file generated.  When there is a compilation error,
<code>#f</code> is returned.
</p>
<p>The name of the object file can be specified with the <var>output</var>
parameter.  If <var>output</var> is a string naming a directory then the
object file is created in that directory.  Otherwise the name of the
object file is <var>output</var>.
</p>
<p>In the case of a dynamically loadable object file, by default the
object file is named after <var>file</var> with the extension replaced with
&lsquo;<samp>.o<var>n</var></samp>&rsquo;, where <var>n</var> is a positive integer that acts as a
version number.  The next available version number is generated
automatically by <code>compile-file</code>.
</p>
<p>When dynamically loaded object files are loaded using the <code>load</code>
procedure, the &lsquo;<samp>.o<var>n</var></samp>&rsquo; extension can be specified (to select
a particular version) or omitted (to load the file with a
&lsquo;<samp>.o<var>n</var></samp>&rsquo; extension with the highest <var>n</var> consecutively from
1).  When the &lsquo;<samp>.o<var>n</var></samp>&rsquo; extension is not specified and older
versions are no longer needed, all versions must be deleted and the
compilation must be repeated (this is necessary because the file name,
including the extension, is used to name some of the exported symbols
of the object file).
</p>
<p>Note that dynamically loadable object files can only be generated on
host operating systems that support dynamic loading.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat h.scm</b>
(display &quot;hello&quot;) (newline)
$ <b>gsc</b>
Gambit v4.7.3

&gt; <b>(compile-file &quot;h&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.o1&quot;
&gt; <b>(load &quot;h&quot;)</b>
hello
&quot;/Users/feeley/gambit/doc/h.o1&quot;
&gt; <b>(compile-file-to-target &quot;h&quot; output: &quot;h.o99.c&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.o99.c&quot;
&gt; <b>(compile-file &quot;h.o99.c&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.o99&quot;
&gt; <b>(load &quot;h.o99&quot;)</b>
hello
&quot;/Users/feeley/gambit/doc/h.o99&quot;
&gt; <b>(compile-file-to-target &quot;h&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.c&quot;
&gt; <b>(compile-file &quot;h.c&quot; options: '(obj))</b>
&quot;/Users/feeley/gambit/doc/h.o&quot;
</pre></td></tr></table>



<a name="Definition_of_link-incremental"></a><a name="Procedure_link-incremental"></a><a name="index-link_002dincremental"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_link-incremental">link-incremental</a></b></code><i> <var>module-list</var> <span class="roman">[</span><code>output:</code> <var>output</var><span class="roman">]</span> <span class="roman">[</span><code>base:</code> <var>base</var><span class="roman">]</span> <span class="roman">[</span><code>warnings?:</code> <var>warnings?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-gsc-4"></a>

<p>The first parameter must be a non empty list of strings naming Scheme
modules to link (the file extension may be omitted).  An incremental link
file is generated for the modules specified in <var>module-list</var>.  By
default the link file generated is named &lsquo;<samp><var>last</var>_.c</samp>&rsquo;, where
<var>last</var> is the name of the last module, without the file extension.
The name of the generated
link file can be specified with the <var>output</var> parameter.  If
<var>output</var> is a string naming a directory then the link file is
created in that directory.  Otherwise the name of the link file is
<var>output</var>.
</p>
<p>The base link file is specified by the <var>base</var> parameter, which
must be a string.  By default the base link file is the Gambit runtime
library link file &lsquo;<samp>~~lib/_gambc.c</samp>&rsquo;.  However, when <var>base</var> is
supplied it is the name of the base link file (the file extension
may be omitted).
</p>
<p>The <var>warnings?</var> parameter controls whether warnings are
generated for undefined references.
</p>
<p>The following example shows how to build the executable program
&lsquo;<samp>hello</samp>&rsquo; which contains the two Scheme modules &lsquo;<samp>h.scm</samp>&rsquo; and
&lsquo;<samp>w.six</samp>&rsquo;.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Darwin 8.1.0 Power Macintosh powerpc
$ <b>cat h.scm</b>
(display &quot;hello&quot;) (newline)
$ <b>cat w.six</b>
display(&quot;world&quot;); newline();
$ <b>gsc</b>
Gambit v4.7.3

&gt; <b>(compile-file-to-target &quot;h&quot;)</b>
&quot;/Users/feeley/gambit/doc/h.c&quot;
&gt; <b>(compile-file-to-target &quot;w&quot;)</b>
&quot;/Users/feeley/gambit/doc/w.c&quot;
&gt; <b>(link-incremental '(&quot;h&quot; &quot;w&quot;) output: &quot;hello.c&quot;)</b>
&quot;/Users/feeley/gambit/doc/hello_.c&quot;
&gt; <b>,q</b>
$ <b>gsc -obj h.c w.c hello.c</b>
h.c:
w.c:
hello.c:
$ <b>gcc h.o w.o hello.o -lgambc -o hello</b>
$ <b>./hello</b>
hello
world
</pre></td></tr></table>



<a name="Definition_of_link-flat"></a><a name="Procedure_link-flat"></a><a name="index-link_002dflat"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_link-flat">link-flat</a></b></code><i> <var>module-list</var> <span class="roman">[</span><code>output:</code> <var>output</var><span class="roman">]</span> <span class="roman">[</span><code>warnings?:</code> <var>warnings?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-gsc-5"></a>

<p>The first parameter must be a non empty list of strings naming Scheme
modules to link (the file extension may be omitted).  The first string
must be the name of a Scheme module
or the name of a link file and the remaining strings must name Scheme
modules.  A flat link file
is generated for the modules specified in <var>module-list</var>.  By
default the link file generated is named &lsquo;<samp><var>last</var>_.c</samp>&rsquo;, where
<var>last</var> is the name of the last module.  The name of the generated
link file can be specified with the <var>output</var> parameter.  If
<var>output</var> is a string naming a directory then the link file is
created in that directory.  Otherwise the name of the link file is
<var>output</var>.  If a dynamically loadable object file is produced from
the link file &lsquo;<samp><var>output</var></samp>&rsquo;, then the name of the dynamically
loadable object file must be &lsquo;<samp><var>output</var></samp>&rsquo; stripped of its file
extension.
</p>
<p>The <var>warnings?</var> parameter controls whether warnings are
generated for undefined references.
</p>
<p>The following example shows how to build the dynamically loadable object
file &lsquo;<samp>lib.o1</samp>&rsquo; which contains the two Scheme modules
&lsquo;<samp>m6.scm</samp>&rsquo; and &lsquo;<samp>m7.scm</samp>&rsquo;.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>uname -srmp</b>
Darwin 8.1.0 Power Macintosh powerpc
$ <b>cat m6.scm</b>
(define (f x) (g (* x x)))
$ <b>cat m7.scm</b>
(define (g y) (+ n y))
$ <b>gsc</b>
Gambit v4.7.3

&gt; <b>(compile-file-to-target &quot;m6&quot;)</b>
&quot;/Users/feeley/gambit/doc/m6.c&quot;
&gt; <b>(compile-file-to-target &quot;m7&quot;)</b>
&quot;/Users/feeley/gambit/doc/m7.c&quot;
&gt; <b>(link-flat '(&quot;m6&quot; &quot;m7&quot;) output: &quot;lib.o1.c&quot;)</b>
*** WARNING -- &quot;*&quot; is not defined,
***            referenced in: (&quot;m6.c&quot;)
*** WARNING -- &quot;+&quot; is not defined,
***            referenced in: (&quot;m7.c&quot;)
*** WARNING -- &quot;n&quot; is not defined,
***            referenced in: (&quot;m7.c&quot;)
&quot;/Users/feeley/gambit/doc/lib.o1.c&quot;
&gt; <b>,q</b>
$ <b>gcc -bundle -D___DYNAMIC m6.c m7.c lib.o1.c -o lib.o1</b>
$ <b>gsc</b>
Gambit v4.7.3

&gt; <b>(load &quot;lib&quot;)</b>
*** WARNING -- Variable &quot;n&quot; used in module &quot;m7&quot; is undefined
&quot;/Users/feeley/gambit/doc/lib.o1&quot;
&gt; <b>(define n 10)</b>
&gt; <b>(f 5)</b>
35
&gt; <b>,q</b>
</pre></td></tr></table>

<p>The warnings indicate that there are no definitions (<code>define</code>s or
<code>set!</code>s) of the variables <code>*</code>, <code>+</code> and <code>n</code> in the
modules contained in the library.  Before the library is used, these
variables will have to be bound; either implicitly (by the runtime
library) or explicitly.
</p>


<a name="Runtime-options"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Procedures-specific-to-compiler" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Debugging" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#GSC" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Runtime-options-1"></a>
<h1 class="chapter">4. Runtime options</h1>
<a name="index-runtime-options"></a>
<a name="index-options_002c-runtime"></a>

<a name="index-gsc-6"></a>
<a name="index-gsi-2"></a>
<p>Both <code>gsi</code> and <code>gsc</code> as well as executable programs compiled
and linked using <code>gsc</code> take a &lsquo;<samp>-:</samp>&rsquo; option which supplies
parameters to the runtime system.  This option must appear first on
the command line.  The colon is followed by a comma separated list of
options with no intervening spaces.  The available options are:
</p>
<dl compact="compact">
<dt> <code>m<var>HEAPSIZE</var></code></dt>
<dd><p>Set minimum heap size in kilobytes.
</p></dd>
<dt> <code>h<var>HEAPSIZE</var></code></dt>
<dd><p>Set maximum heap size in kilobytes.
</p></dd>
<dt> <code>l<var>LIVEPERCENT</var></code></dt>
<dd><p>Set heap occupation after garbage collection.
</p></dd>
<dt> <code>s</code></dt>
<dd><p>Select standard Scheme mode.
</p></dd>
<dt> <code>S</code></dt>
<dd><p>Select Gambit Scheme mode.
</p></dd>
<dt> <code>d<span class="roman">[</span><var>OPT</var>...<span class="roman">]</span></code></dt>
<dd><p>Set debugging options.
</p></dd>
<dt> <code>@<span class="roman">[</span><var>INTF</var><span class="roman">]</span><span class="roman">[</span>:<var>PORT</var><span class="roman">]</span></code></dt>
<dd><p>Override the configuration of the main RPC server.
</p></dd>
<dt> <code>=<var>DIRECTORY</var></code></dt>
<dd><p>Override the central installation directory.
</p></dd>
<dt> <code>~~<var>DIR</var>=<var>DIRECTORY</var></code></dt>
<dd><p>Override the <var>DIR</var> installation directory.
</p></dd>
<dt> <code>+<var>ARGUMENT</var></code></dt>
<dd><p>Add <var>ARGUMENT</var> to the command line before other arguments.
</p></dd>
<dt> <code>f<span class="roman">[</span><var>OPT</var>...<span class="roman">]</span></code></dt>
<dd><p>Set file options.
</p></dd>
<dt> <code>t<span class="roman">[</span><var>OPT</var>...<span class="roman">]</span></code></dt>
<dd><p>Set terminal options.
</p></dd>
<dt> <code>-<span class="roman">[</span><var>OPT</var>...<span class="roman">]</span></code></dt>
<dd><p>Set standard input and output options.
</p></dd>
</dl>

<a name="index-_002d_003am"></a>
<p>The &lsquo;<samp>m</samp>&rsquo; option specifies the minimum size of the heap.  The
&lsquo;<samp>m</samp>&rsquo; is immediately followed by an integer indicating the number
of kilobytes of memory.  The heap will not shrink lower than this
size.  By default, the minimum size is 0.
</p>
<a name="index-_002d_003ah"></a>
<p>The &lsquo;<samp>h</samp>&rsquo; option specifies the maximum size of the heap.  The
&lsquo;<samp>h</samp>&rsquo; is immediately followed by an integer indicating the number
of kilobytes of memory.  The heap will not grow larger than this size.
By default, there is no limit (i.e.  the heap will grow until the
virtual memory is exhausted).
</p>
<a name="index-_002d_003al"></a>
<p>The &lsquo;<samp>l</samp>&rsquo; option specifies the percentage of the heap that will be
occupied with live objects after the heap is resized at the end of a
garbage collection.  The &lsquo;<samp>l</samp>&rsquo; is immediately followed by an
integer between 1 and 100 inclusively indicating the desired
percentage.  The garbage collector resizes the heap to reach this
percentage occupation.  By default, the percentage is 50.
</p>
<a name="index-_002d_003as"></a>
<a name="index-_002d_003aS"></a>
<p>The &lsquo;<samp>s</samp>&rsquo; option selects standard Scheme mode.  In this mode the
reader is case-insensitive and keywords are not recognized.  The
&lsquo;<samp>S</samp>&rsquo; option selects Gambit Scheme mode (the reader is case-sensitive
and recognizes keywords which end with a colon).  By default Gambit
Scheme mode is used.
</p>
<a name="index-_002d_003ad"></a>
<p>The &lsquo;<samp>d</samp>&rsquo; option sets various debugging options.  The letter
&lsquo;<samp>d</samp>&rsquo; is followed by a sequence of letters indicating suboptions.
</p>
<dl compact="compact">
<dt> <code>p</code></dt>
<dd><a name="index-_002d_003adp"></a>
<p>Uncaught exceptions will be treated as &ldquo;errors&rdquo; in the primordial thread
only.
</p>
</dd>
<dt> <code>a</code></dt>
<dd><a name="index-_002d_003ada"></a>
<p>Uncaught exceptions will be treated as &ldquo;errors&rdquo; in all threads.
</p>
</dd>
<dt> <code>r</code></dt>
<dd><a name="index-_002d_003adr"></a>
<p>When an &ldquo;error&rdquo; occurs a new REPL will be started.
</p>
</dd>
<dt> <code>s</code></dt>
<dd><a name="index-_002d_003ads"></a>
<p>When an &ldquo;error&rdquo; occurs a new REPL will be started.
Moreover the program starts in single-stepping mode.
</p>
</dd>
<dt> <code>q</code></dt>
<dd><a name="index-_002d_003adq"></a>
<p>When an &ldquo;error&rdquo; occurs the program will terminate with a nonzero
exit status.
</p>
</dd>
<dt> <code>R</code></dt>
<dd><a name="index-_002d_003adR"></a>
<a name="index-_005eC"></a>
<p>When a user interrupt occurs a new REPL will be started.  User
interrupts are typically obtained by typing &lt;^C&gt;.  Note that with
some system configurations &lt;^C&gt; abruptly terminates the process.
For example, under Microsoft Windows, &lt;^C&gt; works fine with the
standard console but with the MSYS terminal window it terminates the
process.
</p>
</dd>
<dt> <code>D</code></dt>
<dd><a name="index-_002d_003adD"></a>
<p>When a user interrupt occurs it will be deferred until the parameter
<code>current-user-interrupt-handler</code> is bound.
</p>
</dd>
<dt> <code>Q</code></dt>
<dd><a name="index-_002d_003adQ"></a>
<p>When a user interrupt occurs the program will terminate with a nonzero
exit status.
</p>
</dd>
<dt> <code><var>LEVEL</var></code></dt>
<dd><a name="index-_002d_003adLEVEL"></a>
<p>The verbosity level is set to <var>LEVEL</var> (a digit from 0 to 9).
At level 0 the runtime system will not display error messages
and warnings.
</p>
</dd>
<dt> <code>i</code></dt>
<dd><a name="index-_002d_003adi"></a>
<p>The REPL interaction channel will be the IDE REPL window (if the IDE
is available).
</p>
</dd>
<dt> <code>c</code></dt>
<dd><a name="index-_002d_003adc"></a>
<p>The REPL interaction channel will be the console.
</p>
</dd>
<dt> <code>-</code></dt>
<dd><a name="index-_002d_003ad_002d"></a>
<p>The REPL interaction channel will be standard input and standard output.
</p>
</dd>
<dt> <code>@<span class="roman">[</span><var>HOST</var><span class="roman">]</span><span class="roman">[</span>:<var>PORT</var><span class="roman">]</span></code></dt>
<dd><a name="index-_002d_003ad_0040_005bHOST_005d_005b_003aPORT_005d"></a>
<p>The REPL interaction channel will be connected to the remote debugger
at address <var>HOST</var>:<var>PORT</var> (if there is a remote debugger at
that address).  The default <var>HOST</var> is 127.0.0.1 and the default
<var>PORT</var> is 44555.
THIS OPTION IS NOT YET IMPLEMENTED!
</p>
</dd>
</dl>

<p>The default debugging options are equivalent to <code>-:dpqQ1i</code>
(i.e. an uncaught exception in the primordial thread terminates the
program after displaying an error message).  When the letter &lsquo;<samp>d</samp>&rsquo;
is not followed by suboptions, it is equivalent to <code>-:dprR1i</code>
(i.e. a new REPL is started only when an uncaught exception occurs in
the primordial thread).  When <code>gsi</code> and <code>gsc</code> are running
the main REPL, the debugging options are changed to cause errors in
the primordial thread and user interrupts to start a nested REPL.
</p>
<a name="index-_002d_003a_0040"></a>
<p>The &lsquo;<samp>@<span class="roman">[</span><var>INTF</var><span class="roman">]</span><span class="roman">[</span>:<var>PORT</var><span class="roman">]</span></samp>&rsquo; option
overrides the configuration of the main RPC server.  The default
<var>INTF</var> is 127.0.0.1 and the default <var>PORT</var> is 44556.
THIS OPTION IS NOT YET IMPLEMENTED!
</p>
<a name="index-_002d_003a_003d"></a>
<p>The &lsquo;<samp>=<var>DIRECTORY</var></samp>&rsquo; option overrides the setting of the
central installation directory.
</p>
<a name="index-_002d_003a_007e_007e"></a>
<p>The &lsquo;<samp>~~<var>DIR</var>=<var>DIRECTORY</var></samp>&rsquo; option overrides the setting of
the <var>DIR</var> installation directory.
</p>
<a name="index-_002d_003a_002b"></a>
<p>The &lsquo;<samp>+</samp>&rsquo; option adds the text that follows to the command line
before other arguments.
</p>
<a name="index-_002d_003af"></a>
<a name="index-_002d_003at"></a>
<a name="index-_002d_003a_002d"></a>
<p>The &lsquo;<samp>f</samp>&rsquo;, &lsquo;<samp>t</samp>&rsquo; and &lsquo;<samp>-</samp>&rsquo; options specify the default
settings of the ports created for files, terminals and standard input
and output respectively.  The default character encoding, end-of-line
encoding and buffering can be set.  Moreover, for terminals the
line-editing feature can be enabled or disabled.  The &lsquo;<samp>f</samp>&rsquo;,
&lsquo;<samp>t</samp>&rsquo; and &lsquo;<samp>-</samp>&rsquo; must be followed by a sequence of these options:
</p>
<dl compact="compact">
<dt> <code>A</code></dt>
<dd><p>ASCII character encoding.
</p></dd>
<dt> <code>1</code></dt>
<dd><p>ISO-8859-1 character encoding.
</p></dd>
<dt> <code>2</code></dt>
<dd><p>UCS-2 character encoding.
</p></dd>
<dt> <code>4</code></dt>
<dd><p>UCS-4 character encoding.
</p></dd>
<dt> <code>6</code></dt>
<dd><p>UTF-16 character encoding.
</p></dd>
<dt> <code>8</code></dt>
<dd><p>UTF-8 character encoding.
</p></dd>
<dt> <code>U</code></dt>
<dd><p>UTF character encoding with fallback to UTF-8 on input if no BOM is present.
</p></dd>
<dt> <code>UA</code></dt>
<dd><p>UTF character encoding with fallback to ASCII on input if no BOM is present.
</p></dd>
<dt> <code>U1</code></dt>
<dd><p>UTF character encoding with fallback to ISO-8859-1 on input if no BOM is present.
</p></dd>
<dt> <code>U6</code></dt>
<dd><p>UTF character encoding with fallback to UTF-16 on input if no BOM is present.
</p></dd>
<dt> <code>U8</code></dt>
<dd><p>UTF character encoding with fallback to UTF-8 on input if no BOM is present.
</p></dd>
<dt> <code>c</code></dt>
<dd><p>End-of-line is encoded as CR (carriage-return).
</p></dd>
<dt> <code>l</code></dt>
<dd><p>End-of-line is encoded as LF (linefeed)
</p></dd>
<dt> <code>cl</code></dt>
<dd><p>End-of-line is encoded as CR-LF.
</p></dd>
<dt> <code>u</code></dt>
<dd><p>Unbuffered I/O.
</p></dd>
<dt> <code>n</code></dt>
<dd><p>Line buffered I/O (&lsquo;<samp>n</samp>&rsquo; for &ldquo;at newline&rdquo;).
</p></dd>
<dt> <code>f</code></dt>
<dd><p>Fully buffered I/O.
</p></dd>
<dt> <code>r</code></dt>
<dd><p>Illegal character encoding is treated as an error (exception raised).
</p></dd>
<dt> <code>R</code></dt>
<dd><p>Silently replace illegal character encodings with Unicode character #xfffd
(replacement character).
</p></dd>
<dt> <code>e</code></dt>
<dd><p>Enable line-editing (applies to terminals only).
</p></dd>
<dt> <code>E</code></dt>
<dd><p>Disable line-editing (applies to terminals only).
</p></dd>
</dl>

<a name="index-_002d_003a_003a"></a>
<a name="index-GAMBCOPT_002c-environment-variable"></a>
<p>When a program&rsquo;s execution starts, the runtime system obtains the
runtime options by processing in turn four sources of runtime options:
the defaults, the environment variable &lsquo;<samp>GAMBCOPT</samp>&rsquo;, the script
line of the source code, and the first command line argument of the
program.  Any runtime option can be overriden by a subsequent source
of runtime options.  It is sometimes useful to prevent overriding
the runtime options of the script line.  This can be achieved by
starting the script line runtime options with &lsquo;<samp>-::</samp>&rsquo;.  In
this case the environment variable &lsquo;<samp>GAMBCOPT</samp>&rsquo; is ignored,
and the first command line argument of the program is
not used for runtime options (it is treated like a normal
command line argument).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>GAMBCOPT=d0,=~/my-gambit2</b>
$ <b>export GAMBCOPT</b>
$ <b>gsi -e '(pretty-print (path-expand &quot;~~&quot;)) (/ 1 0)'</b>
&quot;/Users/feeley/my-gambit2/&quot;
$ <b>echo $?</b>
70
$ <b>gsi -:d1 -e '(pretty-print (path-expand &quot;~~&quot;)) (/ 1 0)'</b>
&quot;/Users/feeley/my-gambit2/&quot;
*** ERROR IN (string)@1.3 -- Divide by zero
(/ 1 0)
</pre></td></tr></table>

<a name="Debugging"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Runtime-options" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Debugging-model" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Runtime-options" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Debugging-1"></a>
<h1 class="chapter">5. Debugging</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Debugging-model">5.1 Debugging model</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Debugging-example">5.3 Debugging example</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Console-line_002dediting">5.5 Console line-editing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Emacs-interface">5.6 Emacs interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#GUIDE">5.7 GUIDE</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Debugging-model"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Debugging" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Debugging-commands" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Debugging-model-1"></a>
<h2 class="section">5.1 Debugging model</h2>

<p>The evaluation of an expression may stop before it is completed for the
following reasons:
</p>
<ol>
<li> An evaluation error has occured, such as attempting to
divide by zero.

<a name="index-_005eC-1"></a>
</li><li> The user has interrupted the evaluation (usually by typing &lt;^C&gt;).

</li><li> A breakpoint has been reached or <code>(step)</code> was evaluated.

</li><li> Single-stepping mode is enabled.

</li></ol>

<p>When an evaluation stops, a message is displayed indicating the reason
and location where the evaluation was stopped.  The location
information includes, if known, the name of the procedure where the
evaluation was stopped and the source code location in the format
&lsquo;<samp><var>stream</var>@<var>line</var>.<var>column</var></samp>&rsquo;, where <var>stream</var> is
either a string naming a file or a symbol within parentheses, such as
&lsquo;<samp>(console)</samp>&rsquo;.
</p>
<p>A <em>nested REPL</em> is then initiated in the context of the point of
execution where the evaluation was stopped.  The nested REPL&rsquo;s
continuation and evaluation environment are the same as the point where
the evaluation was stopped.  For example when evaluating the expression
&lsquo;<samp>(let ((y (- 1 1))) (* (/ x y) 2))</samp>&rsquo;, a &ldquo;divide by zero&rdquo; error is
reported and the nested REPL&rsquo;s continuation is the one that takes the
result and multiplies it by two.  The REPL&rsquo;s lexical environment
includes the lexical variable &lsquo;<samp>y</samp>&rsquo;.  This allows the inspection of
the evaluation context (i.e. the lexical and dynamic environments and
continuation), which is particularly useful to determine the exact
location and cause of an error.
</p>
<a name="index-_005eD"></a>
<p>The prompt of nested REPLs includes the nesting level; &lsquo;<samp>1&gt;</samp>&rsquo; is the
prompt at the first nesting level, &lsquo;<samp>2&gt;</samp>&rsquo; at the second nesting
level, and so on.  An end of file (usually &lt;^D&gt;) will cause the
current REPL to be terminated and the enclosing REPL (one nesting level
less) to be resumed.
</p>
<p>At any time the user can examine the frames in the REPL&rsquo;s
continuation, which is useful to determine which chain of procedure
calls lead to an error.  A backtrace that lists the chain of active
continuation frames in the REPL&rsquo;s continuation can be obtained with
the &lsquo;<samp>,b</samp>&rsquo; command.  The frames are numbered from 0, that is frame
0 is the most recent frame of the continuation where execution
stopped, frame 1 is the parent frame of frame 0, and so on.  It is
also possible to move the REPL to a specific parent continuation
(i.e. a specific frame of the continuation where execution stopped)
with the &lsquo;<samp>,<var>N</var></samp>&rsquo;, &lsquo;<samp>,<var>N</var>+</samp>&rsquo;, &lsquo;<samp>,<var>N</var>-</samp>&rsquo;,
&lsquo;<samp>,+</samp>&rsquo;, &lsquo;<samp>,-</samp>&rsquo;, &lsquo;<samp>,++</samp>&rsquo;, and &lsquo;<samp>,--</samp>&rsquo; commands.  When the
frame number of the frame being examined is not zero, it is shown in
the prompt after the nesting level, for example &lsquo;<samp>1\5&gt;</samp>&rsquo; is the
prompt when the REPL nesting level is 1 and the frame number is 5.
</p>
<p>Expressions entered at a nested REPL are evaluated in the environment
(both lexical and dynamic) of the continuation frame currently being
examined if that frame was created by interpreted Scheme code.  If the
frame was created by compiled Scheme code then expressions get evaluated
in the global interaction environment.  This feature may be used in
interpreted code to fetch the value of a variable in the current frame
or to change its value with <code>set!</code>.  Note that some special forms
(<code>define</code> in particular) can only be evaluated in the global
interaction environment.
</p>
<a name="Debugging-commands"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Debugging-model" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Debugging-example" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Debugging-commands-1"></a>
<h2 class="section">5.2 Debugging commands</h2>

<p>In addition to expressions, the REPL accepts the following special
&ldquo;comma&rdquo; commands:
</p>
<dl compact="compact">
<dt> <code>,?</code></dt>
<dd><a name="index-_002c_003f"></a>
<p>Give a summary of the REPL commands.
</p>
</dd>
<dt> <code>,(h <var>subject</var>)</code></dt>
<dd><a name="index-_002c_0028h-subject_0029"></a>
<p>This command will show the section of the Gambit manual with the
definition of the procedure or special form <var>subject</var>, which must
be a symbol.  For example &lsquo;<samp>,(h time)</samp>&rsquo; will show the section
documenting the <code>time</code> special form.  Please see the <code>help</code>
procedure for additional information.
</p>
</dd>
<dt> <code>,h</code></dt>
<dd><a name="index-_002ch"></a>
<p>This command will show the section of the Gambit manual with the
definition of the procedure which raised the exception for which this
REPL was started.
</p>
</dd>
<dt> <code>,q</code></dt>
<dd><a name="index-_002cq"></a>
<p>Terminate the process with exit status 0.  This is equivalent to
calling <code>(exit 0)</code>.
</p>
</dd>
<dt> <code>,qt</code></dt>
<dd><a name="index-_002cqt"></a>
<p>Terminate the current thread (note that terminating the primordial
thread terminates the process).
</p>
</dd>
<dt> <code>,t</code></dt>
<dd><a name="index-_002ct"></a>
<p>Return to the outermost REPL, also known as the &ldquo;top-level REPL&rdquo;.
</p>
</dd>
<dt> <code>,d</code></dt>
<dd><a name="index-_002cd"></a>
<p>Leave the current REPL and resume the enclosing REPL.  This command does
nothing in the top-level REPL.
</p>
</dd>
<dt> <code>,(c <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028c-expr_0029"></a>
<p>Leave the current REPL and continue the computation that initiated the
REPL with a specific value.  This command can only be used to continue
a computation that signaled an error.  The expression <var>expr</var> is
evaluated in the current context and the resulting value is returned
as the value of the expression which signaled the error.  For example,
if the evaluation of the expression &lsquo;<samp>(* (/ x y) 2)</samp>&rsquo; signaled an
error because &lsquo;<samp>y</samp>&rsquo; is zero, then in the nested REPL a &lsquo;<samp>,(c (+
4 y))</samp>&rsquo; will resume the computation of &lsquo;<samp>(* (/ x y) 2)</samp>&rsquo; as though
the value of &lsquo;<samp>(/ x y)</samp>&rsquo; was 4.  This command must be used
carefully because the context where the error occured may rely on the
result being of a particular type.  For instance a &lsquo;<samp>,(c #f)</samp>&rsquo; in
the previous example will cause &lsquo;<samp>*</samp>&rsquo; to signal a type error (this
problem is the most troublesome when debugging Scheme code that was
compiled with type checking turned off so be careful).
</p>
</dd>
<dt> <code>,c</code></dt>
<dd><a name="index-_002cc"></a>
<p>Leave the current REPL and continue the computation that initiated the
REPL.  This command can only be used to continue a computation that was
stopped due to a user interrupt, breakpoint or a single-step.
</p>
</dd>
<dt> <code>,s</code></dt>
<dd><a name="index-_002cs"></a>
<p>Leave the current REPL and continue the computation that initiated the
REPL in single-stepping mode.  The computation will perform an
evaluation step (as defined by <code>step-level-set!</code>) and then stop,
causing a nested REPL to be entered.  Just before the evaluation step is
performed, a line is displayed (in the same format as <code>trace</code>)
which indicates the expression that is being evaluated.  If the
evaluation step produces a result, the result is also displayed on
another line.  A nested REPL is then entered after displaying a message
which describes the next step of the computation.  This command can
only be used to continue a computation that was stopped due to a user
interrupt, breakpoint or a single-step.
</p>
</dd>
<dt> <code>,l</code></dt>
<dd><a name="index-_002cl"></a>
<p>This command is similar to &lsquo;<samp>,s</samp>&rsquo; except that it &ldquo;leaps&rdquo; over
procedure calls, that is procedure calls are treated like a single step.
Single-stepping mode will resume when the procedure call returns, or if
and when the execution of the called procedure encounters a breakpoint.
</p>
</dd>
<dt> <code>,<var>N</var></code></dt>
<dd><a name="index-_002cN"></a>
<p>Move to frame number <var>N</var> of the continuation.  After changing the
current frame, a one-line summary of the frame is displayed as if the
&lsquo;<samp>,y</samp>&rsquo; command was entered.
</p>
</dd>
<dt> <code>,<var>N</var>+</code></dt>
<dd><a name="index-_002cN_002b"></a>
<p>Move forward by <var>N</var> frames in the chain of continuation frames
(i.e.  towards older continuation frames).  After changing the current
frame, a one-line summary of the frame is displayed as if the
&lsquo;<samp>,y</samp>&rsquo; command was entered.
</p>
</dd>
<dt> <code>,<var>N</var>-</code></dt>
<dd><a name="index-_002cN_002d"></a>
<p>Move backward by <var>N</var> frames in the chain of continuation frames
(i.e.  towards more recent continuation frames).  After changing the
current frame, a one-line summary of the frame is displayed as if the
&lsquo;<samp>,y</samp>&rsquo; command was entered.
</p>
</dd>
<dt> <code>,+</code></dt>
<dd><a name="index-_002c_002b"></a>
<p>Equivalent to &lsquo;<samp>,1+</samp>&rsquo;.
</p>
</dd>
<dt> <code>,-</code></dt>
<dd><a name="index-_002c_002d"></a>
<p>Equivalent to &lsquo;<samp>,1-</samp>&rsquo;.
</p>
</dd>
<dt> <code>,++</code></dt>
<dd><a name="index-_002c_002b_002b"></a>
<p>Equivalent to &lsquo;<samp>,<var>N</var>+</samp>&rsquo; where <var>N</var> is the number of
continuation frames displayed at the head of a backtrace.
</p>
</dd>
<dt> <code>,--</code></dt>
<dd><a name="index-_002c_002d_002d"></a>
<p>Equivalent to &lsquo;<samp>,<var>N</var>-</samp>&rsquo; where <var>N</var> is the number of
continuation frames displayed at the head of a backtrace.
</p>
</dd>
<dt> <code>,y</code></dt>
<dd><a name="index-_002cy"></a>
<p>Display a one-line summary of the current frame.  The information is
displayed in four fields.  The first field is the frame number.  The
second field is the procedure that created the frame or
&lsquo;<samp>(interaction)</samp>&rsquo; if the frame was created by an expression entered
at the REPL.  The remaining fields describe the subproblem associated
with the frame, that is the expression whose value is being computed.
The third field is the location of the subproblem&rsquo;s source code and
the fourth field is a reproduction of the source code, possibly
truncated to fit on the line.  The last two fields may be missing if
that information is not available.  In particular, the third field is
missing when the frame was created by a user call to the &lsquo;<samp>eval</samp>&rsquo;
procedure or by a compiled procedure not compiled with the declaration
&lsquo;<samp>debug-location</samp>&rsquo;, and the last field is missing when the frame
was created by a compiled procedure not compiled with the declaration
&lsquo;<samp>debug-source</samp>&rsquo;.
</p>
</dd>
<dt> <code>,b</code></dt>
<dd><a name="index-_002cb"></a>
<p>Display a backtrace summarizing each frame in the chain of continuation
frames starting with the current frame.  For each frame, the same
information as for the &lsquo;<samp>,y</samp>&rsquo; command is displayed (except that
location information is displayed in the format
&lsquo;<samp><var>stream</var>@<var>line</var>:<var>column</var></samp>&rsquo;).  If there are more than 15
frames in the chain of continuation frames, some of the middle frames
will be omitted.
</p>
</dd>
<dt> <code>,be</code></dt>
<dd><a name="index-_002cbe"></a>
<p>Like the &lsquo;<samp>,b</samp>&rsquo; command but also display the environment.
</p>
</dd>
<dt> <code>,bed</code></dt>
<dd><a name="index-_002cbed"></a>
<p>Like the &lsquo;<samp>,be</samp>&rsquo; command but also display the dynamic environment.
</p>
</dd>
<dt> <code>,(b <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028b-expr_0029"></a>
<p>Display the backtrace of <var>expr</var>&rsquo;s value, <var>X</var>, which is
obtained by evaluating <var>expr</var> in the current frame.  <var>X</var> must
be a continuation or a thread.  When <var>X</var> is a continuation, the
frames in that continuation are displayed.  When <var>X</var> is a thread,
the backtrace of the current continuation of that thread is displayed.
</p>
</dd>
<dt> <code>,(be <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028be-expr_0029"></a>
<p>Like the &lsquo;<samp>,(b <var>expr</var>)</samp>&rsquo; command but also display the
environment.
</p>
</dd>
<dt> <code>,(bed <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028bed-expr_0029"></a>
<p>Like the &lsquo;<samp>,(be <var>expr</var>)</samp>&rsquo; command but also display the dynamic
environment.
</p>
</dd>
<dt> <code>,i</code></dt>
<dd><a name="index-_002ci"></a>
<p>Pretty print the procedure that created the current frame or
&lsquo;<samp>(interaction)</samp>&rsquo; if the frame was created by an expression entered
at the REPL.  Compiled procedures will only be pretty printed when
they are compiled with the declaration &lsquo;<samp>debug-source</samp>&rsquo;.
</p>
</dd>
<dt> <code>,e</code></dt>
<dd><a name="index-_002ce"></a>
<p>Display the environment which is accessible from the current frame.
The lexical environment is displayed, followed by the dynamic
environment if the parameter object
<code>repl-display-dynamic-environment?</code> is not false.  Global lexical
variables are not displayed.  Moreover the frame must have been
created by interpreted code or code compiled with the declaration
&lsquo;<samp>debug-environments</samp>&rsquo;.  Due to space safety
considerations and compiler optimizations, some of the lexical
variable bindings may be missing.  Lexical variable bindings are
displayed using the format &lsquo;<samp><var>variable</var> = <var>expression</var></samp>&rsquo;
(when <var>variable</var> is mutable) or &lsquo;<samp><var>variable</var> == <var>expression</var></samp>&rsquo;
(when <var>variable</var> is immutable, which may happen in compiled code
due to compiler optimization)
and dynamically-bound parameter bindings are displayed using the
format &lsquo;<samp>(<var>parameter</var>) = <var>expression</var></samp>&rsquo;.  Note that
<var>expression</var> can be a self-evaluating expression (number, string,
boolean, character, ...), a quoted expression, a lambda expression or
a global variable (the last two cases, which are only used when the
value of the variable or parameter is a procedure, simplifies the
debugging of higher-order procedures).  A <var>parameter</var> can be a
quoted expression or a global variable.  Lexical bindings are
displayed in inverse binding order (most deeply nested first) and
shadowed variables are included in the list.
</p>
</dd>
<dt> <code>,ed</code></dt>
<dd><a name="index-_002ced"></a>
<p>Like the &lsquo;<samp>,e</samp>&rsquo; command but the dynamic environment is always
displayed.
</p>
</dd>
<dt> <code>,(e <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028e-expr_0029"></a>
<p>Display the environment of <var>expr</var>&rsquo;s value, <var>X</var>, which is
obtained by evaluating <var>expr</var> in the current frame.  <var>X</var> must
be a continuation, a thread, a procedure, or a nonnegative integer.
When <var>X</var> is a continuation, the environment at that point in the
code is displayed.  When <var>X</var> is a thread, the environment of the
current continuation of that thread is displayed. When <var>X</var> is a
procedure, the lexical environment where <var>X</var> was created is
combined with the current continuation and this combined environment
is displayed.  When <var>X</var> is an integer, the environment at frame
number <var>X</var> of the continuation is displayed.
</p>
</dd>
<dt> <code>,(ed <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028ed-expr_0029"></a>
<p>Like the &lsquo;<samp>,(e <var>expr</var>)</samp>&rsquo; command but the dynamic environment is
always displayed.
</p>
</dd>
<dt> <code>,st</code></dt>
<dd><a name="index-_002cst"></a>
<p>Display the state of the threads in the current thread&rsquo;s thread group.
A thread can be: uninitialized, initialized, active, and
terminated (normally or abnormally).  Active threads can be
running, sleeping and waiting on a synchronization object
(mutex, condition variable or port) possibly with a timeout.
</p>
</dd>
<dt> <code>,(st <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028st-expr_0029"></a>
<p>Display the state of a specific thread or thread group.
The value of <var>expr</var> must be a thread or thread group.
</p>
</dd>
<dt> <code>,(v <var>expr</var>)</code></dt>
<dd><a name="index-_002c_0028v-expr_0029"></a>
<p>Start a new REPL visiting <var>expr</var>&rsquo;s value, <var>X</var>, which is
obtained by evaluating <var>expr</var> in the current frame.  <var>X</var> must
be a continuation, a thread, a procedure, or a nonnegative integer.
When <var>X</var> is a continuation, the new REPL&rsquo;s continuation is <var>X</var>
and evaluations are done in the environment at that point in the code.
When <var>X</var> is a thread, the thread is interrupted and the new REPL&rsquo;s
continuation is the point where the thread was interrupted.  When
<var>X</var> is a procedure, the lexical environment where <var>X</var> was
created is combined with the current continuation and evaluations are
done in this combined environment.  When <var>X</var> is an integer, the
REPL is started in frame number <var>X</var> of the continuation.
</p>
</dd>
</dl>

<a name="Debugging-example"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Debugging-commands" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Procedures-related-to-debugging" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Debugging-example-1"></a>
<h2 class="section">5.3 Debugging example</h2>

<p>Here is a sample interaction with <code>gsi</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(define (invsqr x) (/ 1 (expt x 2)))</b>
&gt; <b>(define (mymap fn lst)
    (define (mm in)
      (if (null? in)
          '()
          (cons (fn (car in)) (mm (cdr in)))))
    (mm lst))</b>
&gt; <b>(mymap invsqr '(5 2 hello 9 1))</b>
*** ERROR IN invsqr, (console)@1.25 -- (Argument 1) NUMBER expected
(expt 'hello 2)
1&gt; <b>,i</b>
#&lt;procedure #2 invsqr&gt; =
(lambda (x) (/ 1 (expt x 2)))
1&gt; <b>,e</b>
x = 'hello
1&gt; <b>,b</b>
0  invsqr                    (console)@1:25          (expt x 2)
1  #&lt;procedure #4&gt;           (console)@6:17          (fn (car in))
2  #&lt;procedure #4&gt;           (console)@6:31          (mm (cdr in))
3  #&lt;procedure #4&gt;           (console)@6:31          (mm (cdr in))
4  (interaction)             (console)@8:1           (mymap invsqr '(5 2 hel...
1&gt; <b>,+</b>
1  #&lt;procedure #4&gt;           (console)@6.17          (fn (car in))
1\1&gt; <b>(pp #4)</b>
(lambda (in) (if (null? in) '() (cons (fn (car in)) (mm (cdr in)))))
1\1&gt; <b>,e</b>
in = '(hello 9 1)
mm = (lambda (in) (if (null? in) '() (cons (fn (car in)) (mm (cdr in)))))
fn = invsqr
lst = '(5 2 hello 9 1)
1\1&gt; <b>,(e mm)</b>
mm = (lambda (in) (if (null? in) '() (cons (fn (car in)) (mm (cdr in)))))
fn = invsqr
lst = '(5 2 hello 9 1)
1\1&gt; <b>fn</b>
#&lt;procedure #2 invsqr&gt;
1\1&gt; <b>(pp fn)</b>
(lambda (x) (/ 1 (expt x 2)))
1\1&gt; <b>,+</b>
2  #&lt;procedure #4&gt;           (console)@6.31          (mm (cdr in))
1\2&gt; <b>,e</b>
in = '(2 hello 9 1)
mm = (lambda (in) (if (null? in) '() (cons (fn (car in)) (mm (cdr in)))))
fn = invsqr
lst = '(5 2 hello 9 1)
1\2&gt; <b>,(c (list 3 4 5))</b>
(1/25 1/4 3 4 5)
&gt; <b>,q</b>
</pre></td></tr></table>

<a name="Procedures-related-to-debugging"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Debugging-example" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Console-line_002dediting" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Procedures-related-to-debugging-1"></a>
<h2 class="section">5.4 Procedures related to debugging</h2>

<a name="Definition_of_help"></a><a name="Procedure_help"></a><a name="index-help"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_help">help</a></b></code><i> <var>subject</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_help-browser"></a><a name="Procedure_help-browser"></a><a name="index-help_002dbrowser"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_help-browser">help-browser</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>help</code> procedure displays the section of the Gambit manual
with the definition of the procedure or special form <var>subject</var>,
which must be a procedure or symbol.  For example the call <code>(help
gensym)</code> will show the section documenting the <code>gensym</code> procedure
and the call <code>(help 'time)</code> will show the section documenting the
<code>time</code> special form.  The <code>help</code> procedure returns the void
object.
</p>
<p>The parameter object <code>help-browser</code> is bound to a string naming
the external program that is used by the <code>help</code> procedure to view
the documentation.  Initially it is bound to the empty string.  In
normal circumstances when <code>help-browser</code> is bound to an empty
string the <code>help</code> procedure runs the script
<code>~~bin/gambc-doc.bat</code> which searches for a suitable web browser
to open the documentation in HTML format.  Unless the system was built
with the command &lsquo;<samp>configure --enable-help-browser=...</samp>&rsquo;, the
text-only browser &lsquo;<samp>lynx</samp>&rsquo; (see <a href="event:browse:http://lynx.isc.org/">http://lynx.isc.org/</a>) will
be used by default if it is available.  We highly recommend that you
install this browser if you are interested in viewing the
documentation within the console in which the REPL is running.  You
can exit &lsquo;<samp>lynx</samp>&rsquo; conveniently by typing an end of file (usually
&lt;^D&gt;).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(help-browser &quot;firefox&quot;)</b> <span class="roman"><i>; use firefox instead of lynx</i></span>
&gt; <b>(help 'gensym)</b>
&gt; <b>(help gensym)</b> <span class="roman"><i>; OK because gensym is a procedure</i></span>
&gt; <b>(help 'time)</b>
&gt; <b>(help time)</b> <span class="roman"><i>; not OK because time is a special form</i></span>
*** ERROR IN (console)@5.7 -- Macro name can't be used as a variable: time
&gt; 
</pre></td></tr></table>



<a name="Definition_of_repl-result-history-ref"></a><a name="Procedure_repl-result-history-ref"></a><a name="index-repl_002dresult_002dhistory_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_repl-result-history-ref">repl-result-history-ref</a></b></code><i> <var>i</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_repl-result-history-max-length-set!"></a><a name="Procedure_repl-result-history-max-length-set!"></a><a name="index-repl_002dresult_002dhistory_002dmax_002dlength_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_repl-result-history-max-length-set!">repl-result-history-max-length-set!</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-_0023"></a>
<a name="index-_0023_0023"></a>
<p>The REPL keeps a history of the last few results printed by the
REPL. The call <code>(repl-result-history-ref <var>i</var>)</code> returns the
<var>i</var>th previous result (the last for <var>i</var>=0, the next to last
for <var>i</var>=1, etc).  By default the REPL result history remembers up
to 3 results.  The maximal length of the history can be set to <var>n</var>
between 0 and 10 by a call to
<code>(repl-result-history-max-length-set! <var>n</var>)</code>.
</p>
<p>For convenience the reader defines an abbreviation for calling
<code>repl-result-history-ref</code>.  Tokens formed by a sequence of one or
more hash signs, such as &lsquo;<samp><code>#</code></samp>&rsquo;, &lsquo;<samp><code>##</code></samp>&rsquo;, etc, are
expanded by the reader into the list <code>(repl-result-history-ref
<var>i</var>)</code>, where <var>i</var> is the number of hash signs minus 1.  In
other words, &lsquo;<samp><code>#</code></samp>&rsquo; will return the last result printed by
the REPL, &lsquo;<samp><code>##</code></samp>&rsquo; will return the next to last, etc.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map (lambda (x) (* x x)) '(1 2 3))</b>
(1 4 9)
&gt; <b>(reverse #)</b>
(9 4 1)
&gt; <b>(append # ##)</b>
(9 4 1 1 4 9)
&gt; <b>1</b>
1
&gt; <b>1</b>
1
&gt; <b>(+ # ##)</b>
2
&gt; <b>(+ # ##)</b>
3
&gt; <b>(+ # ##)</b>
5
&gt; <b>####</b>
*** ERROR IN (console)@9.1 -- (Argument 1) Out of range
(repl-result-history-ref 3)
1&gt; 
</pre></td></tr></table>



<a name="Definition_of_trace"></a><a name="Procedure_trace"></a><a name="index-trace"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_trace">trace</a></b></code><i> <var>proc</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_untrace"></a><a name="Procedure_untrace"></a><a name="index-untrace"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_untrace">untrace</a></b></code><i> <var>proc</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>trace</code> procedure starts tracing calls to the specified
procedures.  When a traced procedure is called, a line containing the
procedure and its arguments is displayed (using the procedure call
expression syntax).  The line is indented with a sequence of vertical
bars which indicate the nesting depth of the procedure&rsquo;s continuation.
After the vertical bars is a greater-than sign which indicates that
the evaluation of the call is starting.
</p>
<p>When a traced procedure returns a result, it is displayed with the same
indentation as the call but without the greater-than sign.  This makes
it easy to match calls and results (the result of a given call is the
value at the same indentation as the greater-than sign).  If a traced
procedure P1 performs a tail call to a traced procedure P2, then P2 will
use the same indentation as P1.  This makes it easy to spot tail calls.
The special handling for tail calls is needed to preserve the space
complexity of the program (i.e. tail calls are implemented as required
by Scheme even when they involve traced procedures).
</p>
<p>The <code>untrace</code> procedure stops tracing calls to the specified
procedures.  When no argument is passed to the <code>trace</code>
procedure, the list of procedures currently being traced is returned.
The void object is returned by the <code>trace</code> procedure when it is
passed one or more arguments.  When no argument is passed to the
<code>untrace</code> procedure stops all tracing and returns the void
object.  A compiled procedure may be traced but only if it is bound to
a global variable.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (fact n) (if (&lt; n 2) 1 (* n (fact (- n 1)))))</b>
&gt; <b>(trace fact)</b>
&gt; <b>(fact 5)</b>
| &gt; (fact 5)
| | &gt; (fact 4)
| | | &gt; (fact 3)
| | | | &gt; (fact 2)
| | | | | &gt; (fact 1)
| | | | | 1
| | | | 2
| | | 6
| | 24
| 120
120
&gt; <b>(trace -)</b>
*** WARNING -- Rebinding global variable &quot;-&quot; to an interpreted procedure
&gt; <b>(define (fact-iter n r) (if (&lt; n 2) r (fact-iter (- n 1) (* n r))))</b>
&gt; <b>(trace fact-iter)</b>
&gt; <b>(fact-iter 5 1)</b>
| &gt; (fact-iter 5 1)
| | &gt; (- 5 1)
| | 4
| &gt; (fact-iter 4 5)
| | &gt; (- 4 1)
| | 3
| &gt; (fact-iter 3 20)
| | &gt; (- 3 1)
| | 2
| &gt; (fact-iter 2 60)
| | &gt; (- 2 1)
| | 1
| &gt; (fact-iter 1 120)
| 120
120
&gt; <b>(trace)</b>
(#&lt;procedure #2 fact-iter&gt; #&lt;procedure #3 -&gt; #&lt;procedure #4 fact&gt;)
&gt; <b>(untrace)</b>
&gt; <b>(fact 5)</b>
120
</pre></td></tr></table>



<a name="Definition_of_step"></a><a name="Procedure_step"></a><a name="index-step"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_step">step</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_step-level-set!"></a><a name="Procedure_step-level-set!"></a><a name="index-step_002dlevel_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_step-level-set!">step-level-set!</a></b></code><i> <var>level</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>step</code> procedure enables single-stepping mode.  After the call
to <code>step</code> the computation will stop just before the interpreter
executes the next evaluation step (as defined by
<code>step-level-set!</code>).  A nested REPL is then started.  Note that
because single-stepping is stopped by the REPL whenever the prompt is
displayed it is pointless to enter <code>(step)</code> by itself.  On the
other hand entering <code>(begin (step) <var>expr</var>)</code> will evaluate
<var>expr</var> in single-stepping mode.
</p>
<p>The procedure <code>step-level-set!</code> sets the stepping level which
determines the granularity of the evaluation steps when single-stepping
is enabled.  The stepping level <var>level</var> must be an exact integer in
the range 0 to 7.  At a level of 0, the interpreter ignores
single-stepping mode.  At higher levels the interpreter stops the
computation just before it performs the following operations, depending
on the stepping level:
</p>
<ol>
<li>
procedure call


</li><li>
<code>delay</code> special form and operations at lower levels

</li><li>
<code>lambda</code> special form and operations at lower levels

</li><li>
<code>define</code> special form and operations at lower levels

</li><li>
<code>set!</code> special form and operations at lower levels

</li><li>
variable reference and operations at lower levels

</li><li>
constant reference and operations at lower levels

</li></ol>

<p>The default stepping level is 7.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (fact n) (if (&lt; n 2) 1 (* n (fact (- n 1)))))</b>
&gt; <b>(step-level-set! 1)</b>
&gt; <b>(begin (step) (fact 5))</b>
*** STOPPED IN (console)@3.15
1&gt; <b>,s</b>
| &gt; (fact 5)
*** STOPPED IN fact, (console)@1.22
1&gt; <b>,s</b>
| | &gt; (&lt; n 2)
| | #f
*** STOPPED IN fact, (console)@1.43
1&gt; <b>,s</b>
| | &gt; (- n 1)
| | 4
*** STOPPED IN fact, (console)@1.37
1&gt; <b>,s</b>
| | &gt; (fact (- n 1))
*** STOPPED IN fact, (console)@1.22
1&gt; <b>,s</b>
| | | &gt; (&lt; n 2)
| | | #f
*** STOPPED IN fact, (console)@1.43
1&gt; <b>,s</b>
| | | &gt; (- n 1)
| | | 3
*** STOPPED IN fact, (console)@1.37
1&gt; <b>,l</b>
| | | &gt; (fact (- n 1))
*** STOPPED IN fact, (console)@1.22
1&gt; <b>,l</b>
| | &gt; (* n (fact (- n 1)))
| | 24
*** STOPPED IN fact, (console)@1.32
1&gt; <b>,l</b>
| &gt; (* n (fact (- n 1)))
| 120
120
</pre></td></tr></table>



<a name="Definition_of_break"></a><a name="Procedure_break"></a><a name="index-break"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_break">break</a></b></code><i> <var>proc</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbreak"></a><a name="Procedure_unbreak"></a><a name="index-unbreak"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbreak">unbreak</a></b></code><i> <var>proc</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>break</code> procedure places a breakpoint on each of the
specified procedures.  When a procedure is called that has a
breakpoint, the interpreter will enable single-stepping mode (as if
<code>step</code> had been called).  This typically causes the computation
to stop soon inside the procedure if the stepping level is high
enough.
</p>
<p>The <code>unbreak</code> procedure removes the breakpoints on the specified
procedures.  With no argument, <code>break</code> returns the list of
procedures currently containing breakpoints.  The void object is
returned by <code>break</code> if it is passed one or more arguments.  With
no argument <code>unbreak</code> removes all the breakpoints and returns the
void object.  A breakpoint can be placed on a compiled procedure but
only if it is bound to a global variable.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (double x) (+ x x))</b>
&gt; <b>(define (triple y) (- (double (double y)) y))</b>
&gt; <b>(define (f z) (* (triple z) 10))</b>
&gt; <b>(break double)</b>
&gt; <b>(break -)</b>
*** WARNING -- Rebinding global variable &quot;-&quot; to an interpreted procedure
&gt; <b>(f 5)</b>
*** STOPPED IN double, (console)@1.21
1&gt; <b>,b</b>
0  double                    (console)@1:21          +
1  triple                    (console)@2:31          (double y)
2  f                         (console)@3:18          (triple z)
3  (interaction)             (console)@6:1           (f 5)
1&gt; <b>,e</b>
x = 5
1&gt; <b>,c</b>
*** STOPPED IN double, (console)@1.21
1&gt; <b>,c</b>
*** STOPPED IN f, (console)@3.29
1&gt; <b>,c</b>
150
&gt; <b>(break)</b>
(#&lt;procedure #3 -&gt; #&lt;procedure #4 double&gt;)
&gt; <b>(unbreak)</b>
&gt; <b>(f 5)</b>
150
</pre></td></tr></table>



<a name="Definition_of_generate-proper-tail-calls"></a><a name="Procedure_generate-proper-tail-calls"></a><a name="index-generate_002dproper_002dtail_002dcalls"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_generate-proper-tail-calls">generate-proper-tail-calls</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-proper-tail_002dcalls"></a>
<a name="index-tail_002dcalls"></a>

<p>[Note: this procedure is DEPRECATED and will be removed
in a future version of Gambit.  Use the &lsquo;<samp>proper-tail-calls</samp>&rsquo;
declaration instead.]
</p>
<p>The parameter object <code>generate-proper-tail-calls</code> is bound to a
boolean value controlling how the interpreter handles tail calls.
When it is bound to <code>#f</code> the interpreter will treat tail calls
like nontail calls, that is a new continuation will be created for the
call.  This setting is useful for debugging, because when a primitive
signals an error the location information will point to the call site
of the primitive even if this primitive was called with a tail call.
The initial value of this parameter object is <code>#t</code>, which means
that a tail call will reuse the continuation of the calling function.
</p>
<p>This parameter object only affects code that is subsequently processed
by <code>load</code> or <code>eval</code>, or entered at the REPL.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(generate-proper-tail-calls)</b>
#t
&gt; <b>(let loop ((i 1)) (if (&lt; i 10) (loop (* i 2)) oops))</b>
*** ERROR IN #&lt;procedure #2&gt;, (console)@2.47 -- Unbound variable: oops
1&gt; <b>,b</b>
0  #&lt;procedure #2&gt;           (console)@2:47          oops
1  (interaction)             (console)@2:1           ((letrec ((loop (lambda...
1&gt; <b>,t</b>
&gt; <b>(generate-proper-tail-calls #f)</b>
&gt; <b>(let loop ((i 1)) (if (&lt; i 10) (loop (* i 2)) oops))</b>
*** ERROR IN #&lt;procedure #3&gt;, (console)@6.47 -- Unbound variable: oops
1&gt; <b>,b</b>
0  #&lt;procedure #3&gt;           (console)@6:47          oops
1  #&lt;procedure #3&gt;           (console)@6:32          (loop (* i 2))
2  #&lt;procedure #3&gt;           (console)@6:32          (loop (* i 2))
3  #&lt;procedure #3&gt;           (console)@6:32          (loop (* i 2))
4  #&lt;procedure #3&gt;           (console)@6:32          (loop (* i 2))
5  (interaction)             (console)@6:1           ((letrec ((loop (lambda...

</pre></td></tr></table>



<a name="Definition_of_display-environment-set!"></a><a name="Procedure_display-environment-set!"></a><a name="index-display_002denvironment_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-environment-set!">display-environment-set!</a></b></code><i> <var>display?</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>[Note: this procedure is DEPRECATED and will be removed
in a future version of Gambit.  Use the parameter object
<code>repl-display-environment?</code> instead.]
</p>
<p>This procedure sets a flag that controls the automatic display of the
environment by the REPL.  If <var>display?</var> is true, the environment
is displayed by the REPL before the prompt.  The default setting is
not to display the environment.
</p>


<a name="Definition_of_repl-display-environment?"></a><a name="Procedure_repl-display-environment?"></a><a name="index-repl_002ddisplay_002denvironment_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_repl-display-environment?">repl-display-environment?</a></b></code><i> <var>display?</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The parameter object <code>repl-display-environment?</code> is bound to a
boolean value that controls the automatic display of the environment
by the REPL.  If <var>display?</var> is true, the environment is displayed
by the REPL before the prompt.  This is particularly useful in
single-stepping mode.  The default setting is not to display the
environment.
</p>


<a name="Definition_of_display-dynamic-environment?"></a><a name="Procedure_display-dynamic-environment?"></a><a name="index-display_002ddynamic_002denvironment_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-dynamic-environment?">display-dynamic-environment?</a></b></code><i> <var>display?</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The parameter object <code>display-dynamic-environment?</code> is bound to a
boolean value that controls wether the dynamic environment is
displayed when the environment is displayed.  The default setting is
not to display the dynamic environment.
</p>


<a name="Definition_of_pretty-print"></a><a name="Procedure_pretty-print"></a><a name="index-pretty_002dprint"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_pretty-print">pretty-print</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure pretty-prints <var>obj</var> on the port <var>port</var>.  If it
is not specified, <var>port</var> defaults to the current output-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(pretty-print
    (let* ((x '(1 2 3 4)) (y (list x x x))) (list y y y)))</b>
(((1 2 3 4) (1 2 3 4) (1 2 3 4))
 ((1 2 3 4) (1 2 3 4) (1 2 3 4))
 ((1 2 3 4) (1 2 3 4) (1 2 3 4)))
</pre></td></tr></table>



<a name="Definition_of_pp"></a><a name="Procedure_pp"></a><a name="index-pp"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_pp">pp</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure pretty-prints <var>obj</var> on the port <var>port</var>.  When
<var>obj</var> is a procedure created by the interpreter or a procedure
created by code compiled with the declaration
&lsquo;<samp>debug-source</samp>&rsquo;, the procedure&rsquo;s source code is
displayed.  If it is not specified, <var>port</var> defaults to the
interaction channel (i.e. the output will appear at the REPL).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (f g) (+ (time (g 100)) (time (g 1000))))</b>
&gt; <b>(pp f)</b>
(lambda (g)
  (+ (##time (lambda () (g 100)) '(g 100))
     (##time (lambda () (g 1000)) '(g 1000))))
</pre></td></tr></table>



<a name="Definition_of_gc-report-set!"></a><a name="Procedure_gc-report-set!"></a><a name="index-gc_002dreport_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_gc-report-set!">gc-report-set!</a></b></code><i> <var>report?</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-GC"></a>

<p>This procedure controls the generation of reports during garbage
collections.  If the argument is true, a brief report of memory usage
is generated after every garbage collection.  It contains: the time
taken for this garbage collection, the amount of memory allocated in
megabytes since the program was started, the size of the heap in
megabytes, the heap memory in megabytes occupied by live data, the
proportion of the heap occupied by live data, and the number of bytes
occupied by movable and nonmovable objects.
</p>


<a name="Console-line_002dediting"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Procedures-related-to-debugging" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Emacs-interface" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Console-line_002dediting-1"></a>
<h2 class="section">5.5 Console line-editing</h2>

<p>The console implements a simple Scheme-friendly line-editing
user-interface that is enabled by default.  It offers parentheses
balancing, a history of previous commands, symbol completion, and
several emacs-compatible keyboard commands.  The user&rsquo;s input is
displayed in a bold font and the output produced by the system is in a
plain font.  The history of previous commands is saved in the file
&lsquo;<tt>~/.gambc_history</tt>&rsquo;.  It is restored when a REPL is started.
</p>
<p>Symbol completion is triggered with the tab key.  When the cursor is
after a sequence of characters that can form a symbol, typing the tab
key will search the symbol table for the first symbol (in alphabetical
order) that begins with that sequence and insert that symbol.  Typing
the tab key in succession will cycle through all symbols with that
prefix.  When all possible symbols have been shown or there are no
possible completions, the text reverts to the uncompleted symbol and
the bell is rung.
</p>
<p>Here are the keyboard commands available (where the &lsquo;<samp><code>M-</code></samp>&rsquo;
prefix means the escape key is typed and the &lsquo;<samp><code>C-</code></samp>&rsquo; prefix
means the control key is pressed):
</p>
<dl compact="compact">
<dt> <code>C-d</code></dt>
<dd><p>Generate an end-of-file when the line is empty, otherwise delete
character at cursor.
</p>
</dd>
<dt> <code>delete <span class="roman">or backspace</span></code></dt>
<dd><p>Delete character before cursor.
</p>
</dd>
<dt> <code>M-C-d</code></dt>
<dd><p>Delete word forward and keep a copy of this text on the clipboard.
</p>
</dd>
<dt> <code>M-delete</code></dt>
<dd><p>Delete word backward and keep a copy of this text on the clipboard.
</p>
</dd>
<dt> <code>M-backspace</code></dt>
<dd><p>Delete S-expression backward and keep a copy of this text on the clipboard.
</p>
</dd>
<dt> <code>C-a</code></dt>
<dd><p>Move cursor to beginning of line.
</p>
</dd>
<dt> <code>C-e</code></dt>
<dd><p>Move cursor to end of line.
</p>
</dd>
<dt> <code>C-b <span class="roman">or <i>left-arrow</i></span></code></dt>
<dd><p>Move cursor left one character.
</p>
</dd>
<dt> <code>M-b</code></dt>
<dd><p>Move cursor left one word.
</p>
</dd>
<dt> <code>M-C-b <span class="roman">or <code>M-</code><i>left-arrow</i></span></code></dt>
<dd><p>Move cursor left one S-expression.
</p>
</dd>
<dt> <code>C-f <span class="roman">or <i>right-arrow</i></span></code></dt>
<dd><p>Move cursor right one character.
</p>
</dd>
<dt> <code>M-f</code></dt>
<dd><p>Move cursor right one word.
</p>
</dd>
<dt> <code>M-C-f <span class="roman">or <code>M-</code><i>right-arrow</i></span></code></dt>
<dd><p>Move cursor right one S-expression.
</p>
</dd>
<dt> <code>C-p <span class="roman">or <code>M-p</code> or <i>up-arrow</i></span></code></dt>
<dd><p>Move to previous line in history.
</p>
</dd>
<dt> <code>C-n <span class="roman">or <code>M-n</code> or <i>down-arrow</i></span></code></dt>
<dd><p>Move to next line in history.
</p>
</dd>
<dt> <code>C-t</code></dt>
<dd><p>Transpose character at cursor with previous character.
</p>
</dd>
<dt> <code>M-t</code></dt>
<dd><p>Transpose word after cursor with previous word.
</p>
</dd>
<dt> <code>M-C-t</code></dt>
<dd><p>Transpose S-expression after cursor with previous S-expression.
</p>
</dd>
<dt> <code>C-l</code></dt>
<dd><p>Clear console and redraw line being edited.
</p>
</dd>
<dt> <code>C-<i>nul</i></code></dt>
<dd><p>Set the mark to the cursor.
</p>
</dd>
<dt> <code>C-w</code></dt>
<dd><p>Delete the text between the cursor and the mark and keep a copy
of this text on the clipboard.
</p>
</dd>
<dt> <code>C-k</code></dt>
<dd><p>Delete the text from the cursor to the end of the line and keep a copy
of this text on the clipboard.
</p>
</dd>
<dt> <code>C-y</code></dt>
<dd><p>Paste the text that is on the clipboard.
</p>
</dd>
<dt> <code>F8</code></dt>
<dd><p>Same as typing &lsquo;<samp>#||#,c;</samp>&rsquo; (REPL command to continue the computation).
</p>
</dd>
<dt> <code>F9</code></dt>
<dd><p>Same as typing &lsquo;<samp>#||#,-;</samp>&rsquo; (REPL command to move to newer frame).
</p>
</dd>
<dt> <code>F10</code></dt>
<dd><p>Same as typing &lsquo;<samp>#||#,+;</samp>&rsquo; (REPL command to move to older frame).
</p>
</dd>
<dt> <code>F11</code></dt>
<dd><p>Same as typing &lsquo;<samp>#||#,s;</samp>&rsquo; (REPL command to step the computation).
</p>
</dd>
<dt> <code>F12</code></dt>
<dd><p>Same as typing &lsquo;<samp>#||#,l;</samp>&rsquo; (REPL command to leap the computation).
</p>
</dd>
</dl>

<p>On Mac OS X, depending on your configuration, you may have to press
the <code>fn</code> key to access the function key <code>F12</code> and the
<code>option</code> key to access the other function keys.
</p>
<p>On Microsoft Windows the clipboard is the system clipboard.  This
allows text to be copied and pasted between the program and other
applications.  On other operating systems the clipboard is internal to
the program (it is not integrated with the operating system).
</p>
<a name="Emacs-interface"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Console-line_002dediting" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#GUIDE" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Emacs-interface-1"></a>
<h2 class="section">5.6 Emacs interface</h2>
<a name="index-Emacs"></a>
<a name="index-gambit_002eel"></a>

<p>Gambit comes with the Emacs package &lsquo;<samp>gambit.el</samp>&rsquo; which provides a
nice environment for running Gambit from within the Emacs editor.
This package filters the standard output of the Gambit process and
when it intercepts a location information (in the format
&lsquo;<samp><var>stream</var>@<var>line</var>.<var>column</var></samp>&rsquo; where <var>stream</var> is
either &lsquo;<samp>(stdin)</samp>&rsquo; when the expression was obtained from standard
input, &lsquo;<samp>(console)</samp>&rsquo; when the expression was obtained from the
console, or a string naming a file) it opens a window to highlight the
corresponding expression.
</p>
<p>To use this package, make sure the file &lsquo;<samp>gambit.el</samp>&rsquo; is accessible
from your load-path and that the following lines are in your
&lsquo;<samp>.emacs</samp>&rsquo; file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(autoload 'gambit-inferior-mode &quot;gambit&quot; &quot;Hook Gambit mode into cmuscheme.&quot;)
(autoload 'gambit-mode &quot;gambit&quot; &quot;Hook Gambit mode into scheme.&quot;)
(add-hook 'inferior-scheme-mode-hook (function gambit-inferior-mode))
(add-hook 'scheme-mode-hook (function gambit-mode))
(setq scheme-program-name &quot;gsi -:d-&quot;)
</pre></td></tr></table>

<p>Alternatively, if you don&rsquo;t mind always loading this package,
you can simply add this line to your &lsquo;<samp>.emacs</samp>&rsquo; file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(require 'gambit)
</pre></td></tr></table>

<p>You can then start an inferior Gambit process by typing &lsquo;<samp>M-x
run-scheme</samp>&rsquo;.  The commands provided in &lsquo;<samp>cmuscheme</samp>&rsquo; mode will be
available in the Gambit interaction buffer (i.e. &lsquo;<samp>*scheme*</samp>&rsquo;) and in
buffers attached to Scheme source files.  Here is a list of the most
useful commands (for a complete list type &lsquo;<samp>C-h m</samp>&rsquo; in the Gambit
interaction buffer):
</p><dl compact="compact">
<dt> <code>C-x C-e</code></dt>
<dd><p>Evaluate the expression which is before the cursor (the expression will
be copied to the Gambit interaction buffer).
</p></dd>
<dt> <code>C-c C-z</code></dt>
<dd><p>Switch to Gambit interaction buffer.
</p></dd>
<dt> <code>C-c C-l</code></dt>
<dd><p>Load a file (file attached to current buffer is default) using
<code>(load <var>file</var>)</code>.
</p></dd>
<dt> <code>C-c C-k</code></dt>
<dd><p>Compile a file (file attached to current buffer is default) using
<code>(compile-file <var>file</var>)</code>.
</p></dd>
</dl>

<p>The file &lsquo;<samp>gambit.el</samp>&rsquo; provides these additional commands:
</p>
<dl compact="compact">
<dt> <code>F8 <span class="roman"><i>or</i></span> C-c c</code></dt>
<dd><p>Continue the computation (same as typing &lsquo;<samp>#||#,c;</samp>&rsquo; to the REPL).
</p></dd>
<dt> <code>F9 <span class="roman"><i>or</i></span> C-c ]</code></dt>
<dd><p>Move to newer frame (same as typing &lsquo;<samp>#||#,-;</samp>&rsquo; to the REPL).
</p></dd>
<dt> <code>F10 <span class="roman"><i>or</i></span> C-c [</code></dt>
<dd><p>Move to older frame (same as typing &lsquo;<samp>#||#,+;</samp>&rsquo; to the REPL).
</p></dd>
<dt> <code>F11 <span class="roman"><i>or</i></span> C-c s</code></dt>
<dd><p>Step the computation (same as typing &lsquo;<samp>#||#,s;</samp>&rsquo; to the REPL).
</p></dd>
<dt> <code>F12 <span class="roman"><i>or</i></span> C-c l</code></dt>
<dd><p>Leap the computation (same as typing &lsquo;<samp>#||#,l;</samp>&rsquo; to the REPL).
</p></dd>
<dt> <code>C-c _</code></dt>
<dd><p>Removes the last window that was opened to highlight an expression.
</p></dd>
</dl>

<p>The two keystroke version of these commands can be shortened to
&lsquo;<samp>M-c</samp>&rsquo;, &lsquo;<samp>M-[</samp>&rsquo;, &lsquo;<samp>M-]</samp>&rsquo;, &lsquo;<samp>M-s</samp>&rsquo;, &lsquo;<samp>M-l</samp>&rsquo;, and
&lsquo;<samp>M-_</samp>&rsquo; respectively by adding this line to your &lsquo;<samp>.emacs</samp>&rsquo;
file:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(setq gambit-repl-command-prefix &quot;\e&quot;)
</pre></td></tr></table>

<p>This is more convenient to type than the two keystroke &lsquo;<samp>C-c</samp>&rsquo; based
sequences but the purist may not like this because it does not follow
normal Emacs conventions.
</p>
<p>Here is what a typical &lsquo;<samp>.emacs</samp>&rsquo; file will look like:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(setq load-path ; add directory containing gambit.el
  (cons &quot;/usr/local/Gambit-C/share/emacs/site-lisp&quot;
        load-path))
(setq scheme-program-name &quot;/tmp/gsi -:d-&quot;) ; if gsi not in executable path
(setq gambit-highlight-color &quot;gray&quot;) ; if you don't like the default
(setq gambit-repl-command-prefix &quot;\e&quot;) ; if you want M-c, M-s, etc
(require 'gambit)
</pre></td></tr></table>

<a name="GUIDE"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Emacs-interface" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Debugging" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="GUIDE-1"></a>
<h2 class="section">5.7 GUIDE</h2>

<p>The implementation and documentation for GUIDE, the Gambit Universal
IDE, are not yet complete.
</p>
<a name="Scheme-extensions"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#GUIDE" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Extensions-to-standard-procedures" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Debugging" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Scheme-extensions-1"></a>
<h1 class="chapter">6. Scheme extensions</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Extensions-to-standard-special-forms">6.2 Extensions to standard special forms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Extensions-to-standard-procedures"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Scheme-extensions" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Extensions-to-standard-special-forms" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Extensions-to-standard-procedures-1"></a>
<h2 class="section">6.1 Extensions to standard procedures</h2>

<a name="Definition_of_transcript-on"></a><a name="Procedure_transcript-on"></a><a name="index-transcript_002don"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_transcript-on">transcript-on</a></b></code><i> <var>file</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_transcript-off"></a><a name="Procedure_transcript-off"></a><a name="index-transcript_002doff"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_transcript-off">transcript-off</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures do nothing.
</p>


<a name="Definition_of_call-with-current-continuation"></a><a name="Procedure_call-with-current-continuation"></a><a name="index-call_002dwith_002dcurrent_002dcontinuation"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-current-continuation">call-with-current-continuation</a></b></code><i> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call/cc"></a><a name="Procedure_call/cc"></a><a name="index-call_002fcc"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call/cc">call/cc</a></b></code><i> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>call-with-current-continuation</code> is bound to the
global variables <code>call-with-current-continuation</code> and
<code>call/cc</code>.
</p>


<a name="Extensions-to-standard-special-forms"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Extensions-to-standard-procedures" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Miscellaneous-extensions" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Extensions-to-standard-special-forms-1"></a>
<h2 class="section">6.2 Extensions to standard special forms</h2>

<a name="Definition_of_lambda"></a><a name="Special_form_lambda"></a><a name="index-lambda"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_lambda">lambda</a></b></code><i> <span class="roman"><i>lambda-formals</i></span> <span class="roman"><i>body</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_define"></a><a name="Special_form_define"></a><a name="index-define"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define">define</a></b></code><i> (<span class="roman"><i>variable</i></span> <span class="roman"><i>define-formals</i></span>) <span class="roman"><i>body</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<ul class="toc">
<li> <var> </var> 
<i>lambda-formals</i> = <code>(</code> <i>formal-argument-list</i> <code>)</code> | <i>r4rs-lambda-formals</i>
</li><li> <var> </var> 
<i>define-formals</i> = <i>formal-argument-list</i> | <i>r4rs-define-formals</i>
</li><li> <var> </var> 
<i>formal-argument-list</i> = <i>dsssl-formal-argument-list</i> | <i>rest-at-end-formal-argument-list</i>
</li><li> <var> </var> 
<i>dsssl-formal-argument-list</i> = <i>reqs</i> <i>opts</i> <i>rest</i> <i>keys</i>
</li><li> <var> </var> 
<i>rest-at-end-formal-argument-list</i> = <i>reqs</i> <i>opts</i> <i>keys</i> <i>rest</i> | <i>reqs</i> <i>opts</i> <i>keys</i> <code>.</code> <i>rest-formal-argument</i>
</li><li> <var> </var> 
<i>reqs</i> = <i>required-formal-argument</i>*
</li><li> <var> </var> 
<i>required-formal-argument</i> = <i>variable</i>
</li><li> <var> </var> 
<i>opts</i> = <code>#!optional</code> <i>optional-formal-argument</i>* | <i>empty</i>
</li><li> <var> </var> 
<i>optional-formal-argument</i> = <i>variable</i> | <code>(</code> <i>variable</i> <i>initializer</i> <code>)</code>
</li><li> <var> </var> 
<i>rest</i> = <code>#!rest</code> <i>rest-formal-argument</i> | <i>empty</i>
</li><li> <var> </var> 
<i>rest-formal-argument</i> = <i>variable</i>
</li><li> <var> </var> 
<i>keys</i> = <code>#!key</code> <i>keyword-formal-argument</i>* | <i>empty</i>
</li><li> <var> </var> 
<i>keyword-formal-argument</i> = <i>variable</i> | <code>(</code> <i>variable</i> <i>initializer</i> <code>)</code>
</li><li> <var> </var> 
<i>initializer</i> = <i>expression</i>
</li><li> <var> </var> 
<i>r4rs-lambda-formals</i> = <code>(</code> <i>variable</i>* <code>)</code> |
<code>(</code> <i>variable</i>+ <code>.</code> <i>variable</i> <code>)</code> |
<i>variable</i>
</li><li> <var> </var> 
<i>r4rs-define-formals</i> = <i>variable</i>* | <i>variable</i>* <code>.</code> <i>variable</i>
</li></ul>

<p>These forms are extended versions of the <code>lambda</code> and <code>define</code>
special forms of standard Scheme.  They allow the use of optional formal
arguments, either positional or named, and support the syntax and semantics
of the DSSSL standard.
</p>
<p>When the procedure introduced by a <code>lambda</code> (or <code>define</code>) is
applied to a list of actual arguments, the formal and actual arguments
are processed as specified in the R4RS if the <i>lambda-formals</i> (or
<i>define-formals</i>) is a <i>r4rs-lambda-formals</i> (or
<i>r4rs-define-formals</i>).
</p>
<p>If the <i>formal-argument-list</i> matches
<i>dsssl-formal-argument-list</i> or <i>extended-formal-argument-list</i>
they are processed as follows:
</p>
<ol>
<li>
<i>Variable</i>s in <i>required-formal-argument</i>s are bound to
successive actual arguments starting with the first actual argument.  It
shall be an error if there are fewer actual arguments than
<i>required-formal-argument</i>s.

</li><li>
Next <i>variable</i>s in <i>optional-formal-argument</i>s are bound to
remaining actual arguments.  If there are fewer remaining actual
arguments than <i>optional-formal-argument</i>s, then the variables are
bound to the result of evaluating <i>initializer</i>, if one was
specified, and otherwise to <code>#f</code>.  The <i>initializer</i> is
evaluated in an environment in which all previous formal arguments have
been bound.

</li><li>
If <code>#!key</code> does not appear in the <i>formal-argument-list</i>
and there is no <i>rest-formal-argument</i> then it shall be an error
if there are any remaining actual arguments.

</li><li>
If <code>#!key</code> does not appear in the <i>formal-argument-list</i>
and there is a <i>rest-formal-argument</i> then the
<i>rest-formal-argument</i> is bound to a list of all remaining actual
arguments.

</li><li>
If <code>#!key</code> appears in the <i>formal-argument-list</i> and there is
no <i>rest-formal-argument</i> then there shall be an even number of
remaining actual arguments.  These are interpreted as a series of
pairs, where the first member of each pair is a keyword specifying the
argument name, and the second is the corresponding value.  It shall be
an error if the first member of a pair is not a keyword.  It shall be
an error if the argument name is not the same as a variable in a
<i>keyword-formal-argument</i>.  If the same argument name occurs more
than once in the list of actual arguments, then the first value is
used.  If there is no actual argument for a particular
<i>keyword-formal-argument</i>, then the variable is bound to the
result of evaluating <i>initializer</i> if one was specified, and
otherwise to <code>#f</code>.  The <i>initializer</i> is evaluated in an
environment in which all previous formal arguments have been bound.

</li><li>
If <code>#!key</code> appears in the <i>formal-argument-list</i> and there is
a <i>rest-formal-argument</i> <b>before</b> the <code>#!key</code> then there
may be an even or odd number of remaining actual arguments and the
<i>rest-formal-argument</i> is bound to a list of all remaining actual
arguments.  Then, these remaining actual arguments are scanned from
left to right in pairs, stopping at the first pair whose first element
is not a keyword.  Each pair whose first element is a keyword matching
the name of a <i>keyword-formal-argument</i> gives the value (i.e. the
second element of the pair) of the corresponding formal argument.  If
the same argument name occurs more than once in the list of actual
arguments, then the first value is used.  If there is no actual
argument for a particular <i>keyword-formal-argument</i>, then the
variable is bound to the result of evaluating <i>initializer</i> if one
was specified, and otherwise to <code>#f</code>.  The <i>initializer</i> is
evaluated in an environment in which all previous formal arguments
have been bound.

</li><li>
If <code>#!key</code> appears in the <i>formal-argument-list</i> and there is
a <i>rest-formal-argument</i> <b>after</b> the <code>#!key</code> then there may
be an even or odd number of remaining actual arguments.  The remaining
actual arguments are scanned from left to right in pairs, stopping at
the first pair whose first element is not a keyword.  Each pair shall
have as its first element a keyword matching the name of a
<i>keyword-formal-argument</i>; the second element gives the value of
the corresponding formal argument.  If the same argument name occurs
more than once in the list of actual arguments, then the first value
is used.  If there is no actual argument for a particular
<i>keyword-formal-argument</i>, then the variable is bound to the
result of evaluating <i>initializer</i> if one was specified, and
otherwise to <code>#f</code>.  The <i>initializer</i> is evaluated in an
environment in which all previous formal arguments have been bound.
Finally, the <i>rest-formal-argument</i> is bound to the list of the
actual arguments that were not scanned (i.e. after the last
keyword/value pair).
</li></ol>

<p>In all cases it is an error for a <i>variable</i> to appear more than
once in a <i>formal-argument-list</i>.
</p>
<p>Note that this specification is compatible with the DSSSL language
standard (i.e. a correct DSSSL program will have the same semantics
when run with Gambit).
</p>
<p>It is unspecified whether variables receive their value by binding or by
assignment.  Currently the compiler and interpreter use different
methods, which can lead to different semantics if
<code>call-with-current-continuation</code> is used in an <i>initializer</i>.
Note that this is irrelevant for DSSSL programs because
<code>call-with-current-continuation</code> does not exist in DSSSL.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>((lambda (#!rest x) x) 1 2 3)</b>
(1 2 3)
&gt; <b>(define (f a #!optional b) (list a b))</b>
&gt; <b>(define (g a #!optional (b a) #!key (k (* a b))) (list a b k))</b>
&gt; <b>(define (h1 a #!rest r #!key k) (list a k r))</b>
&gt; <b>(define (h2 a #!key k #!rest r) (list a k r))</b>
&gt; <b>(f 1)</b>
(1 #f)
&gt; <b>(f 1 2)</b>
(1 2)
&gt; <b>(g 3)</b>
(3 3 9)
&gt; <b>(g 3 4)</b>
(3 4 12)
&gt; <b>(g 3 4 k: 5)</b>
(3 4 5)
&gt; <b>(g 3 4 k: 5 k: 6)</b>
(3 4 5)
&gt; <b>(h1 7)</b>
(7 #f ())
&gt; <b>(h1 7 k: 8 9)</b>
(7 8 (k: 8 9))
&gt; <b>(h1 7 k: 8 z: 9)</b>
(7 8 (k: 8 z: 9))
&gt; <b>(h2 7)</b>
(7 #f ())
&gt; <b>(h2 7 k: 8 9)</b>
(7 8 (9))
&gt; <b>(h2 7 k: 8 z: 9)</b>
*** ERROR IN (console)@17.1 -- Unknown keyword argument passed to procedure
(h2 7 k: 8 z: 9)
</pre></td></tr></table>



<a name="Miscellaneous-extensions"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Extensions-to-standard-special-forms" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Undocumented-extensions" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Miscellaneous-extensions-1"></a>
<h2 class="section">6.3 Miscellaneous extensions</h2>

<a name="Definition_of_vector-copy"></a><a name="Procedure_vector-copy"></a><a name="index-vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_vector-copy">vector-copy</a></b></code><i> <var>vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a newly allocated vector with the same content
as the vector <var>vector</var>.  Note that the elements are not
recursively copied.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v1 '#(1 2 3))</b>
&gt; <b>(define v2 (vector-copy v1))</b>
&gt; <b>v2</b>
#(1 2 3)
&gt; <b>(eq? v1 v2)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_subvector"></a><a name="Procedure_subvector"></a><a name="index-subvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subvector">subvector</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure is the vector analog of the <code>substring</code>
procedure.  It returns a newly allocated vector formed from the
elements of the vector <var>vector</var> beginning with index <var>start</var>
(inclusive) and ending with index <var>end</var> (exclusive).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(subvector '#(a b c d e f) 3 5)</b>
#(d e)
</pre></td></tr></table>



<a name="Definition_of_vector-append"></a><a name="Procedure_vector-append"></a><a name="index-vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_vector-append">vector-append</a></b></code><i> <var>vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure is the vector analog of the <code>string-append</code>
procedure.  It returns a newly allocated vector whose elements
form the concatenation of the given vectors.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v '#(1 2 3))</b>
&gt; <b>(vector-append v v v)</b>
#(1 2 3 1 2 3 1 2 3)
</pre></td></tr></table>



<a name="Definition_of_append-vectors"></a><a name="Procedure_append-vectors"></a><a name="index-append_002dvectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-vectors">append-vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a newly allocated vector whose elements form
the concatenation of all the vectors in the list <var>lst</var>. It is
equivalent to <code>(apply vector-append <span class="roman"><var>lst</var></span>)</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v '#(1 2 3))</b>
&gt; <b>(append-vectors (list v v v))</b>
#(1 2 3 1 2 3 1 2 3)
</pre></td></tr></table>



<a name="Definition_of_subvector-fill!"></a><a name="Procedure_subvector-fill!"></a><a name="index-subvector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subvector-fill!">subvector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure is like <code>vector-fill!</code>, but fills a selected part
of the given vector. It sets the elements of the vector <var>vector</var>,
beginning with index <var>start</var> (inclusive) and ending with index
<var>end</var> (exclusive) to <var>fill</var>.  The value returned is
unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v (vector 'a 'b 'c 'd 'e 'f))</b>
&gt; <b>(subvector-fill! v 3 5 'x)</b>
&gt; <b>v</b>
#(a b c x x f)
</pre></td></tr></table>



<a name="Definition_of_subvector-move!"></a><a name="Procedure_subvector-move!"></a><a name="index-subvector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subvector-move!">subvector-move!</a></b></code><i> <var>src-vector</var> <var>src-start</var> <var>src-end</var> <var>dst-vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure replaces part of the contents of vector
<var>dst-vector</var> with part of the contents of vector
<var>src-vector</var>. It copies elements from <var>src-vector</var>, beginning
with index <var>src-start</var> (inclusive) and ending with index
<var>src-end</var> (exclusive) to <var>dst-vector</var> beginning with index
<var>dst-start</var> (inclusive).  The value returned is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v1 '#(1 2 3 4 5 6))</b>
&gt; <b>(define v2 (vector 'a 'b 'c 'd 'e 'f))</b>
&gt; <b>(subvector-move! v1 3 5 v2 1)</b>
&gt; <b>v2</b>
#(a 4 5 d e f)
</pre></td></tr></table>



<a name="Definition_of_vector-shrink!"></a><a name="Procedure_vector-shrink!"></a><a name="index-vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_vector-shrink!">vector-shrink!</a></b></code><i> <var>vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure shortens the vector <var>vector</var> so that its new size
is <var>k</var>.  The value returned is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v (vector 'a 'b 'c 'd 'e 'f))</b>
&gt; <b>v</b>
#(a b c d e f)
&gt; <b>(vector-shrink! v 3)</b>
&gt; <b>v</b>
#(a b c)
</pre></td></tr></table>



<a name="Definition_of_append-strings"></a><a name="Procedure_append-strings"></a><a name="index-append_002dstrings"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-strings">append-strings</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a newly allocated string whose elements form
the concatenation of all the strings in the list <var>lst</var>. It is
equivalent to <code>(apply string-append <span class="roman"><var>lst</var></span>)</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s &quot;abc&quot;)</b>
&gt; <b>(append-strings (list s s s))</b>
&quot;abcabcabc&quot;
</pre></td></tr></table>



<a name="Definition_of_substring-fill!"></a><a name="Procedure_substring-fill!"></a><a name="index-substring_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_substring-fill!">substring-fill!</a></b></code><i> <var>string</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure is like <code>string-fill!</code>, but fills a selected part
of the given string. It sets the elements of the string <var>string</var>,
beginning with index <var>start</var> (inclusive) and ending with index
<var>end</var> (exclusive) to <var>fill</var>.  The value returned is
unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (string #\a #\b #\c #\d #\e #\f))</b>
&gt; <b>(substring-fill! s 3 5 #\x)</b>
&gt; <b>s</b>
&quot;abcxxf&quot;
</pre></td></tr></table>



<a name="Definition_of_substring-move!"></a><a name="Procedure_substring-move!"></a><a name="index-substring_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_substring-move!">substring-move!</a></b></code><i> <var>src-string</var> <var>src-start</var> <var>src-end</var> <var>dst-string</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure replaces part of the contents of string
<var>dst-string</var> with part of the contents of string
<var>src-string</var>. It copies elements from <var>src-string</var>, beginning
with index <var>src-start</var> (inclusive) and ending with index
<var>src-end</var> (exclusive) to <var>dst-string</var> beginning with index
<var>dst-start</var> (inclusive).  The value returned is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s1 &quot;123456&quot;)</b>
&gt; <b>(define s2 (string #\a #\b #\c #\d #\e #\f))</b>
&gt; <b>(substring-move! s1 3 5 s2 1)</b>
&gt; <b>s2</b>
&quot;a45def&quot;
</pre></td></tr></table>



<a name="Definition_of_string-shrink!"></a><a name="Procedure_string-shrink!"></a><a name="index-string_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-shrink!">string-shrink!</a></b></code><i> <var>string</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure shortens the string <var>string</var> so that its new size
is <var>k</var>.  The value returned is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (string #\a #\b #\c #\d #\e #\f))</b>
&gt; <b>s</b>
&quot;abcdef&quot;
&gt; <b>(string-shrink! s 3)</b>
&gt; <b>s</b>
&quot;abc&quot;
</pre></td></tr></table>



<a name="Definition_of_box"></a><a name="Procedure_box"></a><a name="index-box"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_box">box</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_box?"></a><a name="Procedure_box?"></a><a name="index-box_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_box?">box?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbox"></a><a name="Procedure_unbox"></a><a name="index-unbox"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbox">unbox</a></b></code><i> <var>box</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_set-box!"></a><a name="Procedure_set-box!"></a><a name="index-set_002dbox_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_set-box!">set-box!</a></b></code><i> <var>box</var> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-boxes"></a>

<p>These procedures implement the <em>box</em> data type.  A box is a
cell containing a single mutable field.  The lexical syntax
of a box containing the object <var>obj</var> is <code>#&amp;<var>obj</var></code>
(see section <a href="#Box-syntax">Box syntax</a>).
</p>
<p>The procedure <code>box</code> returns a new box object whose content is
initialized to <var>obj</var>.  The procedure <code>box?</code> returns <code>#t</code>
if <var>obj</var> is a box, and otherwise returns <code>#f</code>.  The procedure
<code>unbox</code> returns the content of the box <var>box</var>.  The procedure
<code>set-box!</code> changes the content of the box <var>box</var> to <var>obj</var>.
The procedure <code>set-box!</code> returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define b (box 0))</b>
&gt; <b>b</b>
#&amp;0
&gt; <b>(define (inc!) (set-box! b (+ (unbox b) 1)))</b>
&gt; <b>(inc!)</b>
&gt; <b>b</b>
#&amp;1
&gt; <b>(unbox b)</b>
1
</pre></td></tr></table>



<a name="Definition_of_keyword?"></a><a name="Procedure_keyword?"></a><a name="index-keyword_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword?">keyword?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_keyword-%3Estring"></a><a name="Procedure_keyword-%3Estring"></a><a name="index-keyword_002d_003estring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword-%3Estring">keyword-&gt;string</a></b></code><i> <var>keyword</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-%3Ekeyword"></a><a name="Procedure_string-%3Ekeyword"></a><a name="index-string_002d_003ekeyword"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-%3Ekeyword">string-&gt;keyword</a></b></code><i> <var>string</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-keywords"></a>

<p>These procedures implement the <em>keyword</em> data type.  Keywords are
similar to symbols but are self evaluating and distinct from the
symbol data type.  The lexical syntax of keywords is specified in
<a href="#Keyword-syntax">Keyword syntax</a>.
</p>
<p>The procedure <code>keyword?</code> returns <code>#t</code> if <var>obj</var> is a
keyword, and otherwise returns <code>#f</code>.  The procedure
<code>keyword-&gt;string</code> returns the name of <var>keyword</var> as a string.
The procedure <code>string-&gt;keyword</code> returns the keyword whose name is
<var>string</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(keyword? 'color)</b>
#f
&gt; <b>(keyword? color:)</b>
#t
&gt; <b>(keyword-&gt;string color:)</b>
&quot;color&quot;
&gt; <b>(string-&gt;keyword &quot;color&quot;)</b>
color:
</pre></td></tr></table>



<a name="Definition_of_gensym"></a><a name="Procedure_gensym"></a><a name="index-gensym"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_gensym">gensym</a></b></code><i> <span class="roman">[</span><var>prefix</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a new <em>uninterned symbol</em>.  Uninterned symbols
are guaranteed to be distinct from the symbols generated by the
procedures <code>read</code> and <code>string-&gt;symbol</code>.  The symbol
<var>prefix</var> is the prefix used to generate the new symbol&rsquo;s name.  If
it is not specified, the prefix defaults to &lsquo;<samp>g</samp>&rsquo;.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(gensym)</b>
#:g0
&gt; <b>(gensym)</b>
#:g1
&gt; <b>(gensym 'star-trek-)</b>
#:star-trek-2
</pre></td></tr></table>



<a name="Definition_of_make-uninterned-symbol"></a><a name="Procedure_make-uninterned-symbol"></a><a name="index-make_002duninterned_002dsymbol"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-uninterned-symbol">make-uninterned-symbol</a></b></code><i> <var>name</var> <span class="roman">[</span><var>hash</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uninterned-symbol?"></a><a name="Procedure_uninterned-symbol?"></a><a name="index-uninterned_002dsymbol_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uninterned-symbol?">uninterned-symbol?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>make-uninterned-symbol</code> returns a new uninterned
symbol whose name is <var>name</var> and hash is <var>hash</var>.  The name must
be a string and the hash must be a nonnegative fixnum.
</p>
<p>The procedure <code>uninterned-symbol?</code> returns <code>#t</code> when
<var>obj</var> is a symbol that is uninterned and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(uninterned-symbol? (gensym))</b>
#t
&gt; <b>(make-uninterned-symbol &quot;foo&quot;)</b>
#:foo:
&gt; <b>(uninterned-symbol? (make-uninterned-symbol &quot;foo&quot;))</b>
#t
&gt; <b>(uninterned-symbol? 'hello)</b>
#f
&gt; <b>(uninterned-symbol? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_make-uninterned-keyword"></a><a name="Procedure_make-uninterned-keyword"></a><a name="index-make_002duninterned_002dkeyword"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-uninterned-keyword">make-uninterned-keyword</a></b></code><i> <var>name</var> <span class="roman">[</span><var>hash</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uninterned-keyword?"></a><a name="Procedure_uninterned-keyword?"></a><a name="index-uninterned_002dkeyword_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uninterned-keyword?">uninterned-keyword?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>make-uninterned-keyword</code> returns a new uninterned
keyword whose name is <var>name</var> and hash is <var>hash</var>.  The name must
be a string and the hash must be a nonnegative fixnum.
</p>
<p>The procedure <code>uninterned-keyword?</code> returns <code>#t</code> when
<var>obj</var> is a keyword that is uninterned and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(make-uninterned-keyword &quot;foo&quot;)</b>
#:foo:
&gt; <b>(uninterned-keyword? (make-uninterned-keyword &quot;foo&quot;))</b>
#t
&gt; <b>(uninterned-keyword? hello:)</b>
#f
&gt; <b>(uninterned-keyword? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_void"></a><a name="Procedure_void"></a><a name="index-void"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_void">void</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the void object.  The read-eval-print loop
prints nothing when the result is the void object.
</p>


<a name="Definition_of_eval"></a><a name="Procedure_eval"></a><a name="index-eval"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_eval">eval</a></b></code><i> <var>expr</var> <span class="roman">[</span><var>env</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The first parameter is a datum representing an expression.  The
<code>eval</code> procedure evaluates this expression in the global
interaction environment and returns the result.  If present, the
second parameter is ignored (it is provided for compatibility with
R5RS).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(eval '(+ 1 2))</b>
3
&gt; <b>((eval 'car) '(1 2))</b>
1
&gt; <b>(eval '(define x 5))</b>
&gt; <b>x</b>
5
</pre></td></tr></table>



<a name="Definition_of_include"></a><a name="Special_form_include"></a><a name="index-include"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_include">include</a></b></code><i> <span class="roman"><i>file</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>The <i>file</i> parameter must be a string naming an existing file
containing Scheme source code.  The <code>include</code> special form
splices the content of the specified source file.  This form can only
appear where a <code>define</code> form is acceptable.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(include &quot;macros.scm&quot;)

(define (f lst)
  (include &quot;sort.scm&quot;)
  (map sqrt (sort lst)))
</pre></td></tr></table>



<a name="Definition_of_define-macro"></a><a name="Special_form_define-macro"></a><a name="index-define_002dmacro"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-macro">define-macro</a></b></code><i> (<span class="roman"><i>name</i></span> <span class="roman"><i>define-formals</i></span>) <span class="roman"><i>body</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="index-include-1"></a>

<p>Define <i>name</i> as a macro special form which expands into <i>body</i>.
This form can only appear where a <code>define</code> form is acceptable.
Macros are lexically scoped.  The scope of a local macro definition
extends from the definition to the end of the body of the surrounding
binding construct.  Macros defined at the top level of a Scheme module
are only visible in that module.  To have access to the macro
definitions contained in a file, that file must be included using the
<code>include</code> special form.  Macros which are visible from the REPL are
also visible during the compilation of Scheme source files.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define-macro (unless test . body)
  `(if ,test #f (begin ,@body)))

(define-macro (push var #!optional val)
  `(set! ,var (cons ,val ,var)))
</pre></td></tr></table>

<p>To examine the code into which a macro expands you can use the
compiler&rsquo;s &lsquo;<samp>-expansion</samp>&rsquo; option or the <code>pp</code> procedure.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define-macro (push var #!optional val)
    `(set! ,var (cons ,val ,var)))</b>
&gt; <b>(pp (lambda () (push stack 1) (push stack) (push stack 3)))</b>
(lambda ()
  (set! stack (cons 1 stack))
  (set! stack (cons #f stack))
  (set! stack (cons 3 stack)))
</pre></td></tr></table>



<a name="Definition_of_define-syntax"></a><a name="Special_form_define-syntax"></a><a name="index-define_002dsyntax"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-syntax">define-syntax</a></b></code><i> <span class="roman"><i>name</i></span> <span class="roman"><i>expander</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="index-define_002dsyntax-1"></a>
<a name="index-syntax_002drules"></a>
<a name="index-syntax_002dcase"></a>
<a name="index-_002d_003as-1"></a>

<p>Define <i>name</i> as a macro special form whose expansion is specified
by <i>expander</i>.  This form is available only when the runtime option
&lsquo;<samp>-:s</samp>&rsquo; is used.  This option causes the loading of the
<code>~~lib/syntax-case</code> support library, which is the Hieb and Dybvig
portable <code>syntax-case</code> implementation which has been ported to
the Gambit interpreter and compiler.  Note that this implementation of
<code>syntax-case</code> does not support special forms that are specific to
Gambit.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi -:s</b>
Gambit v4.7.3

&gt; <b>(define-syntax unless
    (syntax-rules ()
      ((unless test body ...)
       (if test #f (begin body ...)))))</b>
&gt; <b>(let ((test 111)) (unless (= 1 2) (list test test)))</b>
(111 111)
&gt; <b>(pp (lambda () (let ((test 111)) (unless (= 1 2) (list test test)))))</b>
(lambda () ((lambda (%%test14) (if (= 1 2) #f (list %%test14 %%test14))) 111))
&gt; <b>(unless #f (pp xxx))</b>
*** ERROR IN (console)@7.16 -- Unbound variable: xxx
</pre></td></tr></table>



<a name="Definition_of_declare"></a><a name="Special_form_declare"></a><a name="index-declare"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_declare">declare</a></b></code><i> <span class="roman"><i>declaration</i></span>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>

<p>This form introduces declarations to be used by the compiler
(currently the interpreter ignores the declarations).  This form can
only appear where a <code>define</code> form is acceptable.  Declarations
are lexically scoped in the same way as macros.  The following
declarations are accepted by the compiler:
</p>
<dl compact="compact">
<dt> <code>(<var>dialect</var>)</code></dt>
<dd><a name="index-ieee_002dscheme"></a>
<a name="index-r4rs_002dscheme"></a>
<a name="index-r5rs_002dscheme"></a>
<a name="index-gambit_002dscheme"></a>
<p>Use the given dialect&rsquo;s semantics.  <var>dialect</var> can be:
&lsquo;<samp>ieee-scheme</samp>&rsquo;, &lsquo;<samp>r4rs-scheme</samp>&rsquo;, &lsquo;<samp>r5rs-scheme</samp>&rsquo;
or &lsquo;<samp>gambit-scheme</samp>&rsquo;.
</p>
</dd>
<dt> <code>(<var>strategy</var>)</code></dt>
<dd><a name="index-block"></a>
<a name="index-separate"></a>
<p>Select block compilation or separate compilation.  In block
compilation, the compiler assumes that global variables defined in the
current file that are not mutated in the file will never be mutated.
<var>strategy</var> can be: &lsquo;<samp>block</samp>&rsquo; or &lsquo;<samp>separate</samp>&rsquo;.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> inline)</code></dt>
<dd><a name="index-inline"></a>
<p>Allow (or disallow) inlining of user procedures.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> inline-primitives <var>primitive</var>&hellip;)</code></dt>
<dd><a name="index-inline_002dprimitives"></a>
<p>The given primitives should (or should not) be inlined
if possible (all primitives if none specified).
</p>
</dd>
<dt> <code>(inlining-limit <var>n</var>)</code></dt>
<dd><a name="index-inlining_002dlimit"></a>
<p>Select the degree to which the compiler inlines user procedures.
<var>n</var> is the upper-bound, in percent, on code expansion that will
result from inlining.  Thus, a value of 300 indicates that the size of
the program will not grow by more than 300 percent (i.e. it will be at
most 4 times the size of the original).  A value of 0 disables inlining.
The size of a program is the total number of subexpressions it contains
(i.e. the size of an expression is one plus the size of its immediate
subexpressions).  The following conditions must hold for a procedure to
be inlined: inlining the procedure must not cause the size of the call
site to grow more than specified by the inlining limit, the site of
definition (the <code>define</code> or <code>lambda</code>) and the call site must
be declared as <code>(inline)</code>, and the compiler must be able to find
the definition of the procedure referred to at the call site (if the
procedure is bound to a global variable, the definition site must have a
<code>(block)</code> declaration).  Note that inlining usually causes much
less code expansion than specified by the inlining limit (an expansion
around 10% is common for <var>n</var>=350).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> lambda-lift)</code></dt>
<dd><a name="index-lambda_002dlift"></a>
<p>Lambda-lift (or don&rsquo;t lambda-lift) locally defined procedures.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> constant-fold)</code></dt>
<dd><a name="index-constant_002dfold"></a>
<p>Allow (or disallow) constant-folding of primitive procedures.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> standard-bindings <var>var</var>&hellip;)</code></dt>
<dd><a name="index-standard_002dbindings"></a>
<p>The given global variables are known (or not known) to be equal to
the value defined for them in the dialect (all variables defined in
the standard if none specified).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> extended-bindings <var>var</var>&hellip;)</code></dt>
<dd><a name="index-extended_002dbindings"></a>
<p>The given global variables are known (or not known) to be equal to the
value defined for them in the runtime system (all variables defined
in the runtime if none specified).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> run-time-bindings <var>var</var>&hellip;)</code></dt>
<dd><a name="index-run_002dtime_002dbindings"></a>
<p>The given global variables will be tested at run time to see if they
are equal to the value defined for them in the runtime system (all
variables defined in the runtime if none specified).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> safe)</code></dt>
<dd><a name="index-safe"></a>
<p>Generate (or don&rsquo;t generate) code that will prevent fatal errors at
run time.  Note that in &lsquo;<samp>safe</samp>&rsquo; mode certain semantic errors will
not be checked as long as they can&rsquo;t crash the system.  For example
the primitive <code>char=?</code> may disregard the type of its arguments in
&lsquo;<samp>safe</samp>&rsquo; as well as &lsquo;<samp>not safe</samp>&rsquo; mode.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> interrupts-enabled)</code></dt>
<dd><a name="index-interrupts_002denabled"></a>
<p>Generate (or don&rsquo;t generate) interrupt checks.  Interrupt checks are
used to detect user interrupts and also to check for stack overflows.
Interrupt checking should not be turned off casually.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> debug)</code></dt>
<dd><a name="index-debug-1"></a>
<a name="index-_002ddebug-1"></a>
<p>Enable (or disable) the generation of debugging information.  The kind
of debugging information that is generated depends on the declarations
&lsquo;<samp>debug-location</samp>&rsquo;, &lsquo;<samp>debug-source</samp>&rsquo;, and
&lsquo;<samp>debug-environments</samp>&rsquo;.  If any of the command line options
&lsquo;<samp>-debug</samp>&rsquo;, &lsquo;<samp>-debug-location</samp>&rsquo;, &lsquo;<samp>-debug-source</samp>&rsquo; and
&lsquo;<samp>-debug-environments</samp>&rsquo; are present, the &lsquo;<samp>debug</samp>&rsquo; declaration
is initially enabled, otherwise it is initially disabled.  When all
kinds of debugging information are generated there is a substantial
increase in the C compilation time and the size of the generated code.
When compiling a 3000 line Scheme file it was observed that the total
compilation time is 500% longer and the executable code is 150%
bigger.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> debug-location)</code></dt>
<dd><a name="index-debug_002dlocation-1"></a>
<a name="index-_002ddebug_002dlocation-1"></a>
<p>Select (or deselect) source code location debugging information.  When
this declaration and the &lsquo;<samp>debug</samp>&rsquo; declaration are in effect, run
time error messages indicate the location of the error in the source
code file.  If any of the command line options &lsquo;<samp>-debug-source</samp>&rsquo;
and &lsquo;<samp>-debug-environments</samp>&rsquo; are present and &lsquo;<samp>-debug-location</samp>&rsquo;
is absent, the &lsquo;<samp>debug-location</samp>&rsquo; declaration is initially
disabled, otherwise it is initially enabled.  When compiling a 3000
line Scheme file it was observed that the total compilation time is
200% longer and the executable code is 60% bigger.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> debug-source)</code></dt>
<dd><a name="index-debug_002dsource-1"></a>
<a name="index-_002ddebug_002dsource-1"></a>
<p>Select (or deselect) source code debugging information.  When this
declaration and the &lsquo;<samp>debug</samp>&rsquo; declaration are in effect, run time
error messages indicate the source code, the backtraces are more
precise, and the <code>pp</code> procedure will display the source code of
compiled procedures.  If any of the command line options
&lsquo;<samp>-debug-location</samp>&rsquo; and &lsquo;<samp>-debug-environments</samp>&rsquo; are present and
&lsquo;<samp>-debug-source</samp>&rsquo; is absent, the &lsquo;<samp>debug-source</samp>&rsquo; declaration is
initially disabled, otherwise it is initially enabled.  When compiling
a 3000 line Scheme file it was observed that the total compilation
time is 90% longer and the executable code is 90% bigger.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> debug-environments)</code></dt>
<dd><a name="index-debug_002denvironments-1"></a>
<a name="index-_002ddebug_002denvironments-1"></a>
<p>Select (or deselect) environment debugging information.  When this
declaration and the &lsquo;<samp>debug</samp>&rsquo; declaration are in effect, the
debugger will have access to the environments of the continuations.
In other words the local variables defined in compiled procedures (and
not optimized away by the compiler) will be shown by the &lsquo;<samp>,e</samp>&rsquo;
REPL command.  If any of the command line options
&lsquo;<samp>-debug-location</samp>&rsquo; and &lsquo;<samp>-debug-source</samp>&rsquo; are present and
&lsquo;<samp>-debug-environments</samp>&rsquo; is absent, the &lsquo;<samp>debug-environments</samp>&rsquo;
declaration is initially disabled, otherwise it is initially enabled.
When compiling a 3000 line Scheme file it was observed that the total
compilation time is 70% longer and the executable code is 40% bigger.
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> proper-tail-calls)</code></dt>
<dd><a name="index-proper_002dtail_002dcalls"></a>
<a name="index-proper-tail_002dcalls-1"></a>
<a name="index-tail_002dcalls-1"></a>
<p>Generate (or don&rsquo;t generate) proper tail calls.  When proper tail
calls are turned off, tail calls are handled like non-tail calls, that
is a continuation frame will be created for all calls regardless of
their kind.  This is useful for debugging because the caller of a
procedure will be visible in the backtrace produced by the REPL&rsquo;s
&lsquo;<samp>,b</samp>&rsquo; command even when the call is a tail call.  Be advised that
this does cause stack space to be consumed for tail calls which may
cause the stack to overflow when performing long iterations with tail
calls (whether they are expressed with a <code>letrec</code>, named
<code>let</code>, <code>do</code>, or other form).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> generative-lambda)</code></dt>
<dd><a name="index-generative_002dlambda"></a>
<a name="index-generative_002dlambda-1"></a>
<p>Force (or don&rsquo;t force) the creation of fresh closures when evaluating
lambda-expressions.  A fresh closure is always created when a
lambda-expression has at least one free variable (that has not been
eliminated by dead-code elimination or other compiler optimization) or
when the generative-lambda declaration is turned on.  When a
lambda-expression has no free variables and the generative-lambda
declaration is turned off, the value of the lambda-expression may be
the same procedure (in the sense of <code>eq?</code>).
</p>
</dd>
<dt> <code>(<span class="roman">[</span>not<span class="roman">]</span> optimize-dead-local-variables)</code></dt>
<dd><a name="index-optimize_002ddead_002dlocal_002dvariables"></a>
<p>Remove (or preserve) the dead local variables in the environment.
Preserving the dead local variables is useful for debugging because
continuations will contain the dead variables.  Thus, if the code is
also compiled with the declaration &lsquo;<samp>debug-environments</samp>&rsquo;
the &lsquo;<samp>,e</samp>&rsquo;, &lsquo;<samp>,ed</samp>&rsquo;, &lsquo;<samp>,be</samp>&rsquo;, and &lsquo;<samp>,bed</samp>&rsquo; REPL
commands will display the dead variables.  On the other hand,
preserving the dead local variables may change the space complexity of
the program (i.e. some of the data that would normally be reclaimed by
the garbage collector will not be).  Note that due to other compiler
optimizations some dead local variables may be removed regardless of
this declaration.
</p>
</dd>
<dt> <code>(<var>number-type</var> <var>primitive</var>&hellip;)</code></dt>
<dd><a name="index-generic"></a>
<a name="index-fixnum"></a>
<a name="index-flonum"></a>
<p>Numeric arguments and result of the specified primitives are
known to be of the given type (all primitives if none specified).
<var>number-type</var> can be: &lsquo;<samp>generic</samp>&rsquo;, &lsquo;<samp>fixnum</samp>&rsquo;, or
&lsquo;<samp>flonum</samp>&rsquo;.
</p>
</dd>
<dt> <code>(<var>mostly-number-type</var> <var>primitive</var>&hellip;)</code></dt>
<dd><a name="index-mostly_002dgeneric"></a>
<a name="index-mostly_002dfixnum"></a>
<a name="index-mostly_002dfixnum_002dflonum"></a>
<a name="index-mostly_002dflonum"></a>
<a name="index-mostly_002dflonum_002dfixnum"></a>
<p>Numeric arguments and result of the specified primitives are expected
to be most often of the given type (all primitives if none specified).
<var>mostly-number-type</var> can be: &lsquo;<samp>mostly-generic</samp>&rsquo;,
&lsquo;<samp>mostly-fixnum</samp>&rsquo;, &lsquo;<samp>mostly-fixnum-flonum</samp>&rsquo;,
&lsquo;<samp>mostly-flonum</samp>&rsquo;, or &lsquo;<samp>mostly-flonum-fixnum</samp>&rsquo;.
</p>
</dd>
</dl>

<p>The default declarations used by the compiler are equivalent to:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(declare
  (gambit-scheme)
  (separate)
  (inline)
  (inline-primitives)
  (inlining-limit 350)
  (constant-fold)
  (lambda-lift)
  (not standard-bindings)
  (not extended-bindings)
  (run-time-bindings)
  (safe)
  (interrupts-enabled)
  (not debug)           ;; depends on debugging command line options
  (debug-location)      ;; depends on debugging command line options
  (debug-source)        ;; depends on debugging command line options
  (debug-environments)  ;; depends on debugging command line options
  (proper-tail-calls)
  (not generative-lambda)
  (optimize-dead-local-variables)
  (generic)
  (mostly-fixnum-flonum)
)
</pre></td></tr></table>

<p>These declarations are compatible with the semantics of R5RS Scheme
and includes a few procedures from R6RS (mainly fixnum specific and
flonum specific procedures).  Typically used declarations that enhance
performance, at the cost of violating the R5RS Scheme semantics, are:
<code>(standard-bindings)</code>, <code>(block)</code>, <code>(not safe)</code> and
<code>(fixnum)</code>.
</p>


<a name="Undocumented-extensions"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Miscellaneous-extensions" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Namespaces" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Undocumented-extensions-1"></a>
<h2 class="section">6.4 Undocumented extensions</h2>

<p>The procedures in this section are not yet documented.
</p>
<a name="Definition_of_continuation?"></a><a name="Procedure_continuation?"></a><a name="index-continuation_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_continuation?">continuation?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_continuation-capture"></a><a name="Procedure_continuation-capture"></a><a name="index-continuation_002dcapture"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_continuation-capture">continuation-capture</a></b></code><i> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_continuation-graft"></a><a name="Procedure_continuation-graft"></a><a name="index-continuation_002dgraft"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_continuation-graft">continuation-graft</a></b></code><i> <var>cont</var> <var>proc</var> <var>obj</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_continuation-return"></a><a name="Procedure_continuation-return"></a><a name="index-continuation_002dreturn"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_continuation-return">continuation-return</a></b></code><i> <var>cont</var> <var>obj</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures provide access to internal first-class continuations
which are represented using continuation objects distinct from procedures.
</p>
<p>The procedure <code>continuation?</code> returns <code>#t</code> when <var>obj</var> is
a continuation object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>continuation-capture</code> is similar to the
<code>call/cc</code> procedure but it represents the continuation with a
continuation object.  The <var>proc</var> parameter must be a procedure
accepting a single argument.  The procedure
<code>continuation-capture</code> reifies its continuation and calls
<var>proc</var> with the corresponding continuation object as its sole
argument.  Like for <code>call/cc</code>, the implicit continuation of the
call to <var>proc</var> is the implicit continuation of the call to
<code>continuation-capture</code>.
</p>
<p>The procedure <code>continuation-graft</code> performs a procedure call to
the procedure <var>proc</var> with arguments <var>obj</var>&hellip; and the
implicit continuation corresponding to the continuation object
<var>cont</var>.  The current continuation of the call to procedure
<code>continuation-graft</code> is ignored.
</p>
<p>The procedure <code>continuation-return</code> invokes the implicit
continuation corresponding to the continuation object <var>cont</var> with
the result(s) <var>obj</var>&hellip;.  This procedure can be easily
defined in terms of <code>continuation-graft</code>:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">(define (continuation-return cont . objs)
  (continuation-graft (lambda () (apply values objs))))
</pre></td></tr></table>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define x #f)</b>
&gt; <b>(define p (make-parameter 11))</b>
&gt; <b>(pp (parameterize ((p 22))
        (cons 33 (continuation-capture
                  (lambda (c) (set! x c) 44)))))</b>
(33 . 44)
&gt; <b>x</b>
#&lt;continuation #2&gt;
&gt; <b>(continuation-return x 55)</b>
(33 . 55)
&gt; <b>(continuation-graft x (lambda () (expt 2 10)))</b>
(33 . 1024)
&gt; <b>(continuation-graft x expt 2 10)</b>
(33 . 1024)
&gt; <b>(continuation-graft x (lambda () (p)))</b>
(33 . 22)
&gt; <b>(define (map-sqrt1 lst)
    (call/cc
     (lambda (k)
       (map (lambda (x)
              (if (&lt; x 0)
                  (k 'error)
                  (sqrt x)))
            lst))))</b>
&gt; <b>(map-sqrt1 '(1 4 9))</b>
(1 2 3)
&gt; <b>(map-sqrt1 '(1 -1 9))</b>
error
&gt; <b>(define (map-sqrt2 lst)
    (continuation-capture
     (lambda (c)
       (map (lambda (x)
              (if (&lt; x 0)
                  (continuation-return c 'error)
                  (sqrt x)))
            lst))))</b>
&gt; <b>(map-sqrt2 '(1 4 9))</b>
(1 2 3)
&gt; <b>(map-sqrt2 '(1 -1 9))</b>
error
</pre></td></tr></table>



<a name="Definition_of_display-exception"></a><a name="Procedure_display-exception"></a><a name="index-display_002dexception"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-exception">display-exception</a></b></code><i> <var>exc</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_display-exception-in-context"></a><a name="Procedure_display-exception-in-context"></a><a name="index-display_002dexception_002din_002dcontext"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-exception-in-context">display-exception-in-context</a></b></code><i> <var>exc</var> <var>cont</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_display-procedure-environment"></a><a name="Procedure_display-procedure-environment"></a><a name="index-display_002dprocedure_002denvironment"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-procedure-environment">display-procedure-environment</a></b></code><i> <var>proc</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_display-continuation-environment"></a><a name="Procedure_display-continuation-environment"></a><a name="index-display_002dcontinuation_002denvironment"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-continuation-environment">display-continuation-environment</a></b></code><i> <var>cont</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_display-continuation-dynamic-environment"></a><a name="Procedure_display-continuation-dynamic-environment"></a><a name="index-display_002dcontinuation_002ddynamic_002denvironment"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-continuation-dynamic-environment">display-continuation-dynamic-environment</a></b></code><i> <var>cont</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_display-continuation-backtrace"></a><a name="Procedure_display-continuation-backtrace"></a><a name="index-display_002dcontinuation_002dbacktrace"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_display-continuation-backtrace">display-continuation-backtrace</a></b></code><i> <var>cont</var> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>all-frames?</var> <span class="roman">[</span><var>display-env?</var> <span class="roman">[</span><var>max-head</var> <span class="roman">[</span><var>max-tail</var> <span class="roman">[</span><var>depth</var><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>display-continuation-backtrace</code> displays the
frames of the continuation corresponding to the continuation object
<var>cont</var> on the port <var>port</var>.  If it is not specified, <var>port</var>
defaults to the current output-port.  The frames are displayed in the
same format as the REPL&rsquo;s &lsquo;<samp>,b</samp>&rsquo; command.
</p>
<p>The parameter <var>all-frames?</var>, which defaults to <code>#f</code>, controls
which frames are displayed.  Some frames of ancillary importance, such
as internal frames created by the interpreter, are not displayed when
<var>all-frames?</var> is <code>#f</code>.  Otherwise all frames are displayed.
</p>
<p>The parameter <var>display-env?</var>, which defaults to <code>#f</code>, controls
if the frames are displayed with its environment (the variables
accessible and their bindings).
</p>
<p>The parameters <var>max-head</var> and <var>max-tail</var>, which default to 10
and 4 respectively, control how many frames are displayed at the head
and tail of the continuation.
</p>
<p>The parameter <var>depth</var>, which defaults to 0, causes the frame numbers
to be offset by that value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define x #f)</b>
&gt; <b>(define (fib n)
    (if (&lt; n 2)
        (continuation-capture
         (lambda (c) (set! x c) 1))
        (+ (fib (- n 1))
           (fib (- n 2)))))</b>
&gt; <b>(fib 10)</b>
89
&gt; <b>(display-continuation-backtrace x)</b>
0  fib             (console)@7:12     (fib (- n 2))
1  fib             (console)@7:12     (fib (- n 2))
2  fib             (console)@7:12     (fib (- n 2))
3  fib             (console)@7:12     (fib (- n 2))
4  fib             (console)@7:12     (fib (- n 2))
5  (interaction)   (console)@8:1      (fib 10)
#f
&gt; <b>(display-continuation-backtrace x (current-output-port) #t)</b>
0  fib             (console)@7:12     (fib (- n 2))
1  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
2  fib             (console)@7:12     (fib (- n 2))
3  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
4  fib             (console)@7:12     (fib (- n 2))
5  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
6  fib             (console)@7:12     (fib (- n 2))
7  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
8  fib             (console)@7:12     (fib (- n 2))
9  fib             (console)@6:9      (+ (fib (- n 1)) (fib (- ...
...
13 ##with-no-result-expected-toplevel 
14 ##repl-debug            
15 ##repl-debug-main       
16 ##kernel-handlers       
#f
&gt; <b>(display-continuation-backtrace x (current-output-port) #f #t)</b>
0  fib             (console)@7:12     (fib (- n 2))
        n = 2
1  fib             (console)@7:12     (fib (- n 2))
        n = 4
2  fib             (console)@7:12     (fib (- n 2))
        n = 6
3  fib             (console)@7:12     (fib (- n 2))
        n = 8
4  fib             (console)@7:12     (fib (- n 2))
        n = 10
5  (interaction)   (console)@8:1      (fib 10)
#f
&gt; <b>(display-continuation-backtrace x (current-output-port) #f #f 2 1 100)</b>
100 fib            (console)@7:12     (fib (- n 2))
101 fib            (console)@7:12     (fib (- n 2))
...
105 (interaction)  (console)@8:1      (fib 10)
#f
</pre></td></tr></table>



<a name="Definition_of_make-thread-group"></a><a name="Procedure_make-thread-group"></a><a name="index-make_002dthread_002dgroup"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-thread-group">make-thread-group</a></b></code><i> <span class="roman">[</span><var>name</var> <span class="roman">[</span><var>thread-group</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group?"></a><a name="Procedure_thread-group?"></a><a name="index-thread_002dgroup_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group?">thread-group?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-name"></a><a name="Procedure_thread-group-name"></a><a name="index-thread_002dgroup_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-name">thread-group-name</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-parent"></a><a name="Procedure_thread-group-parent"></a><a name="index-thread_002dgroup_002dparent"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-parent">thread-group-parent</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-resume!"></a><a name="Procedure_thread-group-resume!"></a><a name="index-thread_002dgroup_002dresume_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-resume!">thread-group-resume!</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-suspend!"></a><a name="Procedure_thread-group-suspend!"></a><a name="index-thread_002dgroup_002dsuspend_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-suspend!">thread-group-suspend!</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-terminate!"></a><a name="Procedure_thread-group-terminate!"></a><a name="index-thread_002dgroup_002dterminate_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-terminate!">thread-group-terminate!</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-%3Ethread-group-list"></a><a name="Procedure_thread-group-%3Ethread-group-list"></a><a name="index-thread_002dgroup_002d_003ethread_002dgroup_002dlist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-%3Ethread-group-list">thread-group-&gt;thread-group-list</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-%3Ethread-group-vector"></a><a name="Procedure_thread-group-%3Ethread-group-vector"></a><a name="index-thread_002dgroup_002d_003ethread_002dgroup_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-%3Ethread-group-vector">thread-group-&gt;thread-group-vector</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-%3Ethread-list"></a><a name="Procedure_thread-group-%3Ethread-list"></a><a name="index-thread_002dgroup_002d_003ethread_002dlist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-%3Ethread-list">thread-group-&gt;thread-list</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-group-%3Ethread-vector"></a><a name="Procedure_thread-group-%3Ethread-vector"></a><a name="index-thread_002dgroup_002d_003ethread_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-group-%3Ethread-vector">thread-group-&gt;thread-vector</a></b></code><i> <var>thread-group</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_thread-state"></a><a name="Procedure_thread-state"></a><a name="index-thread_002dstate"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state">thread-state</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-uninitialized?"></a><a name="Procedure_thread-state-uninitialized?"></a><a name="index-thread_002dstate_002duninitialized_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-uninitialized?">thread-state-uninitialized?</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-initialized?"></a><a name="Procedure_thread-state-initialized?"></a><a name="index-thread_002dstate_002dinitialized_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-initialized?">thread-state-initialized?</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-active?"></a><a name="Procedure_thread-state-active?"></a><a name="index-thread_002dstate_002dactive_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-active?">thread-state-active?</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-active-waiting-for"></a><a name="Procedure_thread-state-active-waiting-for"></a><a name="index-thread_002dstate_002dactive_002dwaiting_002dfor"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-active-waiting-for">thread-state-active-waiting-for</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-active-timeout"></a><a name="Procedure_thread-state-active-timeout"></a><a name="index-thread_002dstate_002dactive_002dtimeout"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-active-timeout">thread-state-active-timeout</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-normally-terminated?"></a><a name="Procedure_thread-state-normally-terminated?"></a><a name="index-thread_002dstate_002dnormally_002dterminated_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-normally-terminated?">thread-state-normally-terminated?</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-normally-terminated-result"></a><a name="Procedure_thread-state-normally-terminated-result"></a><a name="index-thread_002dstate_002dnormally_002dterminated_002dresult"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-normally-terminated-result">thread-state-normally-terminated-result</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-abnormally-terminated?"></a><a name="Procedure_thread-state-abnormally-terminated?"></a><a name="index-thread_002dstate_002dabnormally_002dterminated_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-abnormally-terminated?">thread-state-abnormally-terminated?</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-state-abnormally-terminated-reason"></a><a name="Procedure_thread-state-abnormally-terminated-reason"></a><a name="index-thread_002dstate_002dabnormally_002dterminated_002dreason"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-state-abnormally-terminated-reason">thread-state-abnormally-terminated-reason</a></b></code><i> <var>thread-state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_top"></a><a name="Procedure_top"></a><a name="index-top"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_top">top</a></b></code><i> <span class="roman">[</span><var>thread-group</var> <span class="roman">[</span><var>port</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_thread-interrupt!"></a><a name="Procedure_thread-interrupt!"></a><a name="index-thread_002dinterrupt_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-interrupt!">thread-interrupt!</a></b></code><i> <var>thread</var> <span class="roman">[</span><var>thunk</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_thread-suspend!"></a><a name="Procedure_thread-suspend!"></a><a name="index-thread_002dsuspend_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-suspend!">thread-suspend!</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-resume!"></a><a name="Procedure_thread-resume!"></a><a name="index-thread_002dresume_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-resume!">thread-resume!</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_thread-thread-group"></a><a name="Procedure_thread-thread-group"></a><a name="index-thread_002dthread_002dgroup"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-thread-group">thread-thread-group</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_define-type-of-thread"></a><a name="Special_form_define-type-of-thread"></a><a name="index-define_002dtype_002dof_002dthread"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-type-of-thread">define-type-of-thread</a></b></code><i> <span class="roman"><i>name</i></span> <span class="roman"><i>field</i></span>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_thread-init!"></a><a name="Procedure_thread-init!"></a><a name="index-thread_002dinit_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-init!">thread-init!</a></b></code><i> <var>thread</var> <var>thunk</var> <span class="roman">[</span><var>name</var> <span class="roman">[</span><var>thread-group</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_initialized-thread-exception?"></a><a name="Procedure_initialized-thread-exception?"></a><a name="index-initialized_002dthread_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_initialized-thread-exception?">initialized-thread-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_initialized-thread-exception-procedure"></a><a name="Procedure_initialized-thread-exception-procedure"></a><a name="index-initialized_002dthread_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_initialized-thread-exception-procedure">initialized-thread-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_initialized-thread-exception-arguments"></a><a name="Procedure_initialized-thread-exception-arguments"></a><a name="index-initialized_002dthread_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_initialized-thread-exception-arguments">initialized-thread-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_uninitialized-thread-exception?"></a><a name="Procedure_uninitialized-thread-exception?"></a><a name="index-uninitialized_002dthread_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uninitialized-thread-exception?">uninitialized-thread-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uninitialized-thread-exception-procedure"></a><a name="Procedure_uninitialized-thread-exception-procedure"></a><a name="index-uninitialized_002dthread_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uninitialized-thread-exception-procedure">uninitialized-thread-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uninitialized-thread-exception-arguments"></a><a name="Procedure_uninitialized-thread-exception-arguments"></a><a name="index-uninitialized_002dthread_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uninitialized-thread-exception-arguments">uninitialized-thread-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_inactive-thread-exception?"></a><a name="Procedure_inactive-thread-exception?"></a><a name="index-inactive_002dthread_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_inactive-thread-exception?">inactive-thread-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_inactive-thread-exception-procedure"></a><a name="Procedure_inactive-thread-exception-procedure"></a><a name="index-inactive_002dthread_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_inactive-thread-exception-procedure">inactive-thread-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_inactive-thread-exception-arguments"></a><a name="Procedure_inactive-thread-exception-arguments"></a><a name="index-inactive_002dthread_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_inactive-thread-exception-arguments">inactive-thread-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_rpc-remote-error-exception?"></a><a name="Procedure_rpc-remote-error-exception?"></a><a name="index-rpc_002dremote_002derror_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_rpc-remote-error-exception?">rpc-remote-error-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_rpc-remote-error-exception-procedure"></a><a name="Procedure_rpc-remote-error-exception-procedure"></a><a name="index-rpc_002dremote_002derror_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_rpc-remote-error-exception-procedure">rpc-remote-error-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_rpc-remote-error-exception-arguments"></a><a name="Procedure_rpc-remote-error-exception-arguments"></a><a name="index-rpc_002dremote_002derror_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_rpc-remote-error-exception-arguments">rpc-remote-error-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_rpc-remote-error-exception-message"></a><a name="Procedure_rpc-remote-error-exception-message"></a><a name="index-rpc_002dremote_002derror_002dexception_002dmessage"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_rpc-remote-error-exception-message">rpc-remote-error-exception-message</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_timeout-%3Etime"></a><a name="Procedure_timeout-%3Etime"></a><a name="index-timeout_002d_003etime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_timeout-%3Etime">timeout-&gt;time</a></b></code><i> <var>timeout</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_open-dummy"></a><a name="Procedure_open-dummy"></a><a name="index-open_002ddummy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-dummy">open-dummy</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_port-settings-set!"></a><a name="Procedure_port-settings-set!"></a><a name="index-port_002dsettings_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_port-settings-set!">port-settings-set!</a></b></code><i> <var>port</var> <var>settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_port-io-exception-handler-set!"></a><a name="Procedure_port-io-exception-handler-set!"></a><a name="index-port_002dio_002dexception_002dhandler_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_port-io-exception-handler-set!">port-io-exception-handler-set!</a></b></code><i> <var>port</var> <var>handler</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_input-port-bytes-buffered"></a><a name="Procedure_input-port-bytes-buffered"></a><a name="index-input_002dport_002dbytes_002dbuffered"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-bytes-buffered">input-port-bytes-buffered</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_input-port-characters-buffered"></a><a name="Procedure_input-port-characters-buffered"></a><a name="index-input_002dport_002dcharacters_002dbuffered"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-characters-buffered">input-port-characters-buffered</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_nonempty-input-port-character-buffer-exception?"></a><a name="Procedure_nonempty-input-port-character-buffer-exception?"></a><a name="index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonempty-input-port-character-buffer-exception?">nonempty-input-port-character-buffer-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonempty-input-port-character-buffer-exception-arguments"></a><a name="Procedure_nonempty-input-port-character-buffer-exception-arguments"></a><a name="index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonempty-input-port-character-buffer-exception-arguments">nonempty-input-port-character-buffer-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonempty-input-port-character-buffer-exception-procedure"></a><a name="Procedure_nonempty-input-port-character-buffer-exception-procedure"></a><a name="index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonempty-input-port-character-buffer-exception-procedure">nonempty-input-port-character-buffer-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_repl-input-port"></a><a name="Procedure_repl-input-port"></a><a name="index-repl_002dinput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_repl-input-port">repl-input-port</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_repl-output-port"></a><a name="Procedure_repl-output-port"></a><a name="index-repl_002doutput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_repl-output-port">repl-output-port</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_console-port"></a><a name="Procedure_console-port"></a><a name="index-console_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_console-port">console-port</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_current-user-interrupt-handler"></a><a name="Procedure_current-user-interrupt-handler"></a><a name="index-current_002duser_002dinterrupt_002dhandler"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-user-interrupt-handler">current-user-interrupt-handler</a></b></code><i> <span class="roman">[</span><var>handler</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_defer-user-interrupts"></a><a name="Procedure_defer-user-interrupts"></a><a name="index-defer_002duser_002dinterrupts"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_defer-user-interrupts">defer-user-interrupts</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_primordial-exception-handler"></a><a name="Procedure_primordial-exception-handler"></a><a name="index-primordial_002dexception_002dhandler"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_primordial-exception-handler">primordial-exception-handler</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_err-code-%3Estring"></a><a name="Procedure_err-code-%3Estring"></a><a name="index-err_002dcode_002d_003estring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_err-code-%3Estring">err-code-&gt;string</a></b></code><i> <var>code</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_foreign?"></a><a name="Procedure_foreign?"></a><a name="index-foreign_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_foreign?">foreign?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_foreign-tags"></a><a name="Procedure_foreign-tags"></a><a name="index-foreign_002dtags"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_foreign-tags">foreign-tags</a></b></code><i> <var>foreign</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_foreign-address"></a><a name="Procedure_foreign-address"></a><a name="index-foreign_002daddress"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_foreign-address">foreign-address</a></b></code><i> <var>foreign</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_foreign-release!"></a><a name="Procedure_foreign-release!"></a><a name="index-foreign_002drelease_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_foreign-release!">foreign-release!</a></b></code><i> <var>foreign</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_foreign-released?"></a><a name="Procedure_foreign-released?"></a><a name="index-foreign_002dreleased_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_foreign-released?">foreign-released?</a></b></code><i> <var>foreign</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_invalid-hash-number-exception?"></a><a name="Procedure_invalid-hash-number-exception?"></a><a name="index-invalid_002dhash_002dnumber_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_invalid-hash-number-exception?">invalid-hash-number-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_invalid-hash-number-exception-procedure"></a><a name="Procedure_invalid-hash-number-exception-procedure"></a><a name="index-invalid_002dhash_002dnumber_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_invalid-hash-number-exception-procedure">invalid-hash-number-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_invalid-hash-number-exception-arguments"></a><a name="Procedure_invalid-hash-number-exception-arguments"></a><a name="index-invalid_002dhash_002dnumber_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_invalid-hash-number-exception-arguments">invalid-hash-number-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_tcp-client-peer-socket-info"></a><a name="Procedure_tcp-client-peer-socket-info"></a><a name="index-tcp_002dclient_002dpeer_002dsocket_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tcp-client-peer-socket-info">tcp-client-peer-socket-info</a></b></code><i> <var>tcp-client-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tcp-client-self-socket-info"></a><a name="Procedure_tcp-client-self-socket-info"></a><a name="index-tcp_002dclient_002dself_002dsocket_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tcp-client-self-socket-info">tcp-client-self-socket-info</a></b></code><i> <var>tcp-client-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_tcp-server-socket-info"></a><a name="Procedure_tcp-server-socket-info"></a><a name="index-tcp_002dserver_002dsocket_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tcp-server-socket-info">tcp-server-socket-info</a></b></code><i> <var>tcp-server-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_socket-info?"></a><a name="Procedure_socket-info?"></a><a name="index-socket_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_socket-info?">socket-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_socket-info-address"></a><a name="Procedure_socket-info-address"></a><a name="index-socket_002dinfo_002daddress"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_socket-info-address">socket-info-address</a></b></code><i> <var>socket-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_socket-info-family"></a><a name="Procedure_socket-info-family"></a><a name="index-socket_002dinfo_002dfamily"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_socket-info-family">socket-info-family</a></b></code><i> <var>socket-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_socket-info-port-number"></a><a name="Procedure_socket-info-port-number"></a><a name="index-socket_002dinfo_002dport_002dnumber"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_socket-info-port-number">socket-info-port-number</a></b></code><i> <var>socket-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_system-version"></a><a name="Procedure_system-version"></a><a name="index-system_002dversion"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_system-version">system-version</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_system-version-string"></a><a name="Procedure_system-version-string"></a><a name="index-system_002dversion_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_system-version-string">system-version-string</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_system-type"></a><a name="Procedure_system-type"></a><a name="index-system_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_system-type">system-type</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_system-type-string"></a><a name="Procedure_system-type-string"></a><a name="index-system_002dtype_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_system-type-string">system-type-string</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_configure-command-string"></a><a name="Procedure_configure-command-string"></a><a name="index-configure_002dcommand_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_configure-command-string">configure-command-string</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_system-stamp"></a><a name="Procedure_system-stamp"></a><a name="index-system_002dstamp"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_system-stamp">system-stamp</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_future"></a><a name="Special_form_future"></a><a name="index-future"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_future">future</a></b></code><i> <var>expr</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_touch"></a><a name="Procedure_touch"></a><a name="index-touch"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_touch">touch</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_tty?"></a><a name="Procedure_tty?"></a><a name="index-tty_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty?">tty?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-history"></a><a name="Procedure_tty-history"></a><a name="index-tty_002dhistory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-history">tty-history</a></b></code><i> <var>tty</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-history-set!"></a><a name="Procedure_tty-history-set!"></a><a name="index-tty_002dhistory_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-history-set!">tty-history-set!</a></b></code><i> <var>tty</var> <var>history</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-history-max-length-set!"></a><a name="Procedure_tty-history-max-length-set!"></a><a name="index-tty_002dhistory_002dmax_002dlength_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-history-max-length-set!">tty-history-max-length-set!</a></b></code><i> <var>tty</var> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-paren-balance-duration-set!"></a><a name="Procedure_tty-paren-balance-duration-set!"></a><a name="index-tty_002dparen_002dbalance_002dduration_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-paren-balance-duration-set!">tty-paren-balance-duration-set!</a></b></code><i> <var>tty</var> <var>duration</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-text-attributes-set!"></a><a name="Procedure_tty-text-attributes-set!"></a><a name="index-tty_002dtext_002dattributes_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-text-attributes-set!">tty-text-attributes-set!</a></b></code><i> <var>tty</var> <var>attributes</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-mode-set!"></a><a name="Procedure_tty-mode-set!"></a><a name="index-tty_002dmode_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-mode-set!">tty-mode-set!</a></b></code><i> <var>tty</var> <var>mode</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tty-type-set!"></a><a name="Procedure_tty-type-set!"></a><a name="index-tty_002dtype_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tty-type-set!">tty-type-set!</a></b></code><i> <var>tty</var> <var>type</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_with-input-from-port"></a><a name="Procedure_with-input-from-port"></a><a name="index-with_002dinput_002dfrom_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-port">with-input-from-port</a></b></code><i> <var>port</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-port"></a><a name="Procedure_with-output-to-port"></a><a name="index-with_002doutput_002dto_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-port">with-output-to-port</a></b></code><i> <var>port</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_input-port-char-position"></a><a name="Procedure_input-port-char-position"></a><a name="index-input_002dport_002dchar_002dposition"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-char-position">input-port-char-position</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-char-position"></a><a name="Procedure_output-port-char-position"></a><a name="index-output_002dport_002dchar_002dposition"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-char-position">output-port-char-position</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_open-event-queue"></a><a name="Procedure_open-event-queue"></a><a name="index-open_002devent_002dqueue"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-event-queue">open-event-queue</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_main"></a><a name="Procedure_main"></a><a name="index-main"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_main">main</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_define-record-type"></a><a name="Special_form_define-record-type"></a><a name="index-define_002drecord_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-record-type">define-record-type</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_define-type"></a><a name="Special_form_define-type"></a><a name="index-define_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-type">define-type</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_namespace"></a><a name="Special_form_namespace"></a><a name="index-namespace"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_namespace">namespace</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_this-source-file"></a><a name="Special_form_this-source-file"></a><a name="index-this_002dsource_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_this-source-file">this-source-file</a></b></code><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_receive"></a><a name="Special_form_receive"></a><a name="index-receive"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_receive">receive</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_cond-expand"></a><a name="Special_form_cond-expand"></a><a name="index-cond_002dexpand"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_cond-expand">cond-expand</a></b></code><i> &hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_define-cond-expand-feature"></a><a name="Special_form_define-cond-expand-feature"></a><a name="index-define_002dcond_002dexpand_002dfeature"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-cond-expand-feature">define-cond-expand-feature</a></b></code><i> <var>ident</var></i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Definition_of_finite?"></a><a name="Procedure_finite?"></a><a name="index-finite_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_finite?">finite?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_infinite?"></a><a name="Procedure_infinite?"></a><a name="index-infinite_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_infinite?">infinite?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nan?"></a><a name="Procedure_nan?"></a><a name="index-nan_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nan?">nan?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_six.!"></a><a name="Undefined_six.!"></a><a name="index-six_002e_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.!">six.!</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.!x"></a><a name="Special_form_six.!x"></a><a name="index-six_002e_0021x"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.!x">six.!x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.&amp;x"></a><a name="Special_form_six.&amp;x"></a><a name="index-six_002e_0026x"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.&amp;x">six.&amp;x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.%2Ax"></a><a name="Special_form_six.%2Ax"></a><a name="index-six_002e_002ax"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.%2Ax">six.*x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.%2B%2Bx"></a><a name="Special_form_six.%2B%2Bx"></a><a name="index-six_002e_002b_002bx"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.%2B%2Bx">six.++x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.%2Bx"></a><a name="Special_form_six.%2Bx"></a><a name="index-six_002e_002bx"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.%2Bx">six.+x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.--x"></a><a name="Special_form_six.--x"></a><a name="index-six_002e_002d_002dx"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.--x">six.--x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.-x"></a><a name="Special_form_six.-x"></a><a name="index-six_002e_002dx"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.-x">six.-x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.arrow"></a><a name="Special_form_six.arrow"></a><a name="index-six_002earrow"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.arrow">six.arrow</a></b></code><i> <var>expr</var> <var>ident</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.break"></a><a name="Undefined_six.break"></a><a name="index-six_002ebreak"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.break">six.break</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.call"></a><a name="Special_form_six.call"></a><a name="index-six_002ecall"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.call">six.call</a></b></code><i> <var>func</var> <var>arg</var>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.case"></a><a name="Undefined_six.case"></a><a name="index-six_002ecase"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.case">six.case</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.clause"></a><a name="Undefined_six.clause"></a><a name="index-six_002eclause"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.clause">six.clause</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.compound"></a><a name="Special_form_six.compound"></a><a name="index-six_002ecompound"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.compound">six.compound</a></b></code><i> <var>statement</var>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.cons"></a><a name="Special_form_six.cons"></a><a name="index-six_002econs"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.cons">six.cons</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.continue"></a><a name="Undefined_six.continue"></a><a name="index-six_002econtinue"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.continue">six.continue</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.define-procedure"></a><a name="Special_form_six.define-procedure"></a><a name="index-six_002edefine_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.define-procedure">six.define-procedure</a></b></code><i> <var>ident</var> <var>proc</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.define-variable"></a><a name="Special_form_six.define-variable"></a><a name="index-six_002edefine_002dvariable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.define-variable">six.define-variable</a></b></code><i> <var>ident</var> <var>type</var> <var>dims</var> <var>init</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.do-while"></a><a name="Special_form_six.do-while"></a><a name="index-six_002edo_002dwhile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.do-while">six.do-while</a></b></code><i> <var>stat</var> <var>expr</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.dot"></a><a name="Special_form_six.dot"></a><a name="index-six_002edot"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.dot">six.dot</a></b></code><i> <var>expr</var> <var>ident</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.for"></a><a name="Special_form_six.for"></a><a name="index-six_002efor"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.for">six.for</a></b></code><i> <var>stat1</var> <var>expr2</var> <var>expr3</var> <var>stat2</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.goto"></a><a name="Undefined_six.goto"></a><a name="index-six_002egoto"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.goto">six.goto</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.identifier"></a><a name="Special_form_six.identifier"></a><a name="index-six_002eidentifier"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.identifier">six.identifier</a></b></code><i> <var>ident</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.if"></a><a name="Special_form_six.if"></a><a name="index-six_002eif"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.if">six.if</a></b></code><i> <var>expr</var> <var>stat1</var> <span class="roman">[</span><var>stat2</var><span class="roman">]</span></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.index"></a><a name="Special_form_six.index"></a><a name="index-six_002eindex"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.index">six.index</a></b></code><i> <var>expr1</var> <var>expr2</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.label"></a><a name="Undefined_six.label"></a><a name="index-six_002elabel"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.label">six.label</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.list"></a><a name="Special_form_six.list"></a><a name="index-six_002elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.list">six.list</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.literal"></a><a name="Special_form_six.literal"></a><a name="index-six_002eliteral"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.literal">six.literal</a></b></code><i> <var>value</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.make-array"></a><a name="Procedure_six.make-array"></a><a name="index-six_002emake_002darray"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_six.make-array">six.make-array</a></b></code><i> <var>init</var> <var>dim</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_six.new"></a><a name="Special_form_six.new"></a><a name="index-six_002enew"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.new">six.new</a></b></code><i> <var>ident</var> <var>arg</var>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.null"></a><a name="Special_form_six.null"></a><a name="index-six_002enull"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.null">six.null</a></b></code><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.prefix"></a><a name="Special_form_six.prefix"></a><a name="index-six_002eprefix"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.prefix">six.prefix</a></b></code><i> <var>datum</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.procedure"></a><a name="Special_form_six.procedure"></a><a name="index-six_002eprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.procedure">six.procedure</a></b></code><i> <var>type</var> <var>params</var> <var>stat</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.procedure-body"></a><a name="Special_form_six.procedure-body"></a><a name="index-six_002eprocedure_002dbody"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.procedure-body">six.procedure-body</a></b></code><i> <var>stat</var>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.return"></a><a name="Undefined_six.return"></a><a name="index-six_002ereturn"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.return">six.return</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.switch"></a><a name="Undefined_six.switch"></a><a name="index-six_002eswitch"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.switch">six.switch</a></b></code><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.while"></a><a name="Special_form_six.while"></a><a name="index-six_002ewhile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.while">six.while</a></b></code><i> <var>expr</var> <var>stat</var>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x!=y"></a><a name="Special_form_six.x!=y"></a><a name="index-six_002ex_0021_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x!=y">six.x!=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%25=y"></a><a name="Special_form_six.x%25=y"></a><a name="index-six_002ex_0025_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%25=y">six.x%=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%25y"></a><a name="Special_form_six.x%25y"></a><a name="index-six_002ex_0025y"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%25y">six.x%y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x&amp;&amp;y"></a><a name="Special_form_six.x&amp;&amp;y"></a><a name="index-six_002ex_0026_0026y"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x&amp;&amp;y">six.x&amp;&amp;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x&amp;=y"></a><a name="Special_form_six.x&amp;=y"></a><a name="index-six_002ex_0026_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x&amp;=y">six.x&amp;=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x&amp;y"></a><a name="Special_form_six.x&amp;y"></a><a name="index-six_002ex_0026y"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x&amp;y">six.x&amp;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%2A=y"></a><a name="Special_form_six.x%2A=y"></a><a name="index-six_002ex_002a_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%2A=y">six.x*=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%2Ay"></a><a name="Special_form_six.x%2Ay"></a><a name="index-six_002ex_002ay"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%2Ay">six.x*y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%2B%2B"></a><a name="Special_form_six.x%2B%2B"></a><a name="index-six_002ex_002b_002b"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%2B%2B">six.x++</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%2B=y"></a><a name="Special_form_six.x%2B=y"></a><a name="index-six_002ex_002b_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%2B=y">six.x+=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%2By"></a><a name="Special_form_six.x%2By"></a><a name="index-six_002ex_002by"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%2By">six.x+y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_|six.x"></a><a name="Special_form_|six.x"></a><a name="index-_007csix_002ex"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_|six.x">|six.x</a></b></code><i>,y| <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x--"></a><a name="Special_form_six.x--"></a><a name="index-six_002ex_002d_002d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x--">six.x--</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x-=y"></a><a name="Special_form_six.x-=y"></a><a name="index-six_002ex_002d_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x-=y">six.x-=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x-y"></a><a name="Special_form_six.x-y"></a><a name="index-six_002ex_002dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x-y">six.x-y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x/=y"></a><a name="Special_form_six.x/=y"></a><a name="index-six_002ex_002f_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x/=y">six.x/=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x/y"></a><a name="Special_form_six.x/y"></a><a name="index-six_002ex_002fy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x/y">six.x/y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x:-y"></a><a name="Undefined_six.x:-y"></a><a name="index-six_002ex_003a_002dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Undefined_six.x:-y">six.x:-y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">undefined</td></tr></table>
<a name="Definition_of_six.x:=y"></a><a name="Special_form_six.x:=y"></a><a name="index-six_002ex_003a_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x:=y">six.x:=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x:y"></a><a name="Special_form_six.x:y"></a><a name="index-six_002ex_003ay"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x:y">six.x:y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3C%3C=y"></a><a name="Special_form_six.x%3C%3C=y"></a><a name="index-six_002ex_003c_003c_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3C%3C=y">six.x&lt;&lt;=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3C%3Cy"></a><a name="Special_form_six.x%3C%3Cy"></a><a name="index-six_002ex_003c_003cy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3C%3Cy">six.x&lt;&lt;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3C=y"></a><a name="Special_form_six.x%3C=y"></a><a name="index-six_002ex_003c_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3C=y">six.x&lt;=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3Cy"></a><a name="Special_form_six.x%3Cy"></a><a name="index-six_002ex_003cy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3Cy">six.x&lt;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x==y"></a><a name="Special_form_six.x==y"></a><a name="index-six_002ex_003d_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x==y">six.x==y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x=y"></a><a name="Special_form_six.x=y"></a><a name="index-six_002ex_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x=y">six.x=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3E=y"></a><a name="Special_form_six.x%3E=y"></a><a name="index-six_002ex_003e_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3E=y">six.x&gt;=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3E%3E=y"></a><a name="Special_form_six.x%3E%3E=y"></a><a name="index-six_002ex_003e_003e_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3E%3E=y">six.x&gt;&gt;=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3E%3Ey"></a><a name="Special_form_six.x%3E%3Ey"></a><a name="index-six_002ex_003e_003ey"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3E%3Ey">six.x&gt;&gt;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x%3Ey"></a><a name="Special_form_six.x%3Ey"></a><a name="index-six_002ex_003ey"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x%3Ey">six.x&gt;y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x?y:z"></a><a name="Special_form_six.x?y:z"></a><a name="index-six_002ex_003fy_003az"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x?y:z">six.x?y:z</a></b></code><i> <var>x</var> <var>y</var> <var>z</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x^=y"></a><a name="Special_form_six.x^=y"></a><a name="index-six_002ex_005e_003dy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x^=y">six.x^=y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.x^y"></a><a name="Special_form_six.x^y"></a><a name="index-six_002ex_005ey"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.x^y">six.x^y</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_|six.x\|=y|"></a><a name="Special_form_|six.x\|=y|"></a><a name="index-_007csix_002ex_005c_007c_003dy_007c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_|six.x\|=y|">|six.x\|=y|</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_|six.x\|y|"></a><a name="Special_form_|six.x\|y|"></a><a name="index-_007csix_002ex_005c_007cy_007c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_|six.x\|y|">|six.x\|y|</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_|six.x\|\|y|"></a><a name="Special_form_|six.x\|\|y|"></a><a name="index-_007csix_002ex_005c_007c_005c_007cy_007c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_|six.x\|\|y|">|six.x\|\|y|</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">special form</td></tr></table>
<a name="Definition_of_six.~x"></a><a name="Special_form_six.~x"></a><a name="index-six_002e_007ex"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_six.~x">six.~x</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">special form</td></tr></table>


<a name="Namespaces"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Undocumented-extensions" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Scheme-extensions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Namespaces-1"></a>
<h1 class="chapter">7. Namespaces</h1>

<p>TO DO!
</p>
<a name="Characters-and-strings"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Namespaces" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Extensions-to-character-procedures" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Namespaces" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Characters-and-strings-1"></a>
<h1 class="chapter">8. Characters and strings</h1>

<p>Gambit supports the Unicode character encoding standard.  Scheme
characters can be any of the characters whose Unicode encoding is in
the range 0 to #x10ffff (inclusive) but not in the range #xd800 to
#xdfff.  Source code can also contain any Unicode character, however
to read such source code properly <code>gsi</code> and <code>gsc</code> must be
told which character encoding to use for reading the source code
(i.e. ASCII, ISO-8859-1, UTF-8, etc).  This can be done by specifying
the runtime option &lsquo;<samp>-:f</samp>&rsquo; when <code>gsi</code> and <code>gsc</code> are
started.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Extensions-to-character-procedures"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Characters-and-strings" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Extensions-to-string-procedures" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Extensions-to-character-procedures-1"></a>
<h2 class="section">8.1 Extensions to character procedures</h2>

<a name="Definition_of_char-%3Einteger"></a><a name="Procedure_char-%3Einteger"></a><a name="index-char_002d_003einteger"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-%3Einteger">char-&gt;integer</a></b></code><i> <var>char</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_integer-%3Echar"></a><a name="Procedure_integer-%3Echar"></a><a name="index-integer_002d_003echar"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_integer-%3Echar">integer-&gt;char</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>char-&gt;integer</code> returns the Unicode encoding of
the character <var>char</var>.
</p>
<p>The procedure <code>integer-&gt;char</code> returns the character whose
Unicode encoding is the exact integer <var>n</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(char-&gt;integer #\!)</b>
33
&gt; <b>(integer-&gt;char 65)</b>
#\A
&gt; <b>(integer-&gt;char (char-&gt;integer #\u1234))</b>
#\u1234
&gt; <b>(integer-&gt;char #xd800)</b>
*** ERROR IN (console)@4.1 -- (Argument 1) Out of range
(integer-&gt;char 55296)
</pre></td></tr></table>



<a name="Definition_of_char=?"></a><a name="Procedure_char=?"></a><a name="index-char_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char=?">char=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char%3C?"></a><a name="Procedure_char%3C?"></a><a name="index-char_003c_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char%3C?">char&lt;?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char%3E?"></a><a name="Procedure_char%3E?"></a><a name="index-char_003e_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char%3E?">char&gt;?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char%3C=?"></a><a name="Procedure_char%3C=?"></a><a name="index-char_003c_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char%3C=?">char&lt;=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char%3E=?"></a><a name="Procedure_char%3E=?"></a><a name="index-char_003e_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char%3E=?">char&gt;=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char-ci=?"></a><a name="Procedure_char-ci=?"></a><a name="index-char_002dci_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-ci=?">char-ci=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char-ci%3C?"></a><a name="Procedure_char-ci%3C?"></a><a name="index-char_002dci_003c_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-ci%3C?">char-ci&lt;?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char-ci%3E?"></a><a name="Procedure_char-ci%3E?"></a><a name="index-char_002dci_003e_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-ci%3E?">char-ci&gt;?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char-ci%3C=?"></a><a name="Procedure_char-ci%3C=?"></a><a name="index-char_002dci_003c_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-ci%3C=?">char-ci&lt;=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_char-ci%3E=?"></a><a name="Procedure_char-ci%3E=?"></a><a name="index-char_002dci_003e_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_char-ci%3E=?">char-ci&gt;=?</a></b></code><i> <var>char1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures take any number of arguments including no argument.
This is useful to test if the elements of a list are sorted in a
particular order.  For example, testing that the list of characters
<code>lst</code> is sorted in nondecreasing order can be done with the call
<code>(apply char&lt;? lst)</code>.
</p>


<a name="Extensions-to-string-procedures"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Extensions-to-character-procedures" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Numbers" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Extensions-to-string-procedures-1"></a>
<h2 class="section">8.2 Extensions to string procedures</h2>

<a name="Definition_of_string=?"></a><a name="Procedure_string=?"></a><a name="index-string_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string=?">string=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string%3C?"></a><a name="Procedure_string%3C?"></a><a name="index-string_003c_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string%3C?">string&lt;?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string%3E?"></a><a name="Procedure_string%3E?"></a><a name="index-string_003e_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string%3E?">string&gt;?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string%3C=?"></a><a name="Procedure_string%3C=?"></a><a name="index-string_003c_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string%3C=?">string&lt;=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string%3E=?"></a><a name="Procedure_string%3E=?"></a><a name="index-string_003e_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string%3E=?">string&gt;=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-ci=?"></a><a name="Procedure_string-ci=?"></a><a name="index-string_002dci_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci=?">string-ci=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-ci%3C?"></a><a name="Procedure_string-ci%3C?"></a><a name="index-string_002dci_003c_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci%3C?">string-ci&lt;?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-ci%3E?"></a><a name="Procedure_string-ci%3E?"></a><a name="index-string_002dci_003e_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci%3E?">string-ci&gt;?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-ci%3C=?"></a><a name="Procedure_string-ci%3C=?"></a><a name="index-string_002dci_003c_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci%3C=?">string-ci&lt;=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_string-ci%3E=?"></a><a name="Procedure_string-ci%3E=?"></a><a name="index-string_002dci_003e_003d_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci%3E=?">string-ci&gt;=?</a></b></code><i> <var>string1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures take any number of arguments including no argument.
This is useful to test if the elements of a list are sorted in a
particular order.  For example, testing that the list of strings
<code>lst</code> is sorted in nondecreasing order can be done with the call
<code>(apply string&lt;? lst)</code>.
</p>


<a name="Numbers"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Extensions-to-string-procedures" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Extensions-to-numeric-procedures" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Characters-and-strings" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Numbers-1"></a>
<h1 class="chapter">9. Numbers</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#IEEE-floating-point-arithmetic">9.2 IEEE floating point arithmetic</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Integer-square-root-and-nth-root">9.3 Integer square root and nth root</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Operations on fixnums
</td></tr>
<tr><td align="left" valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">           Operations on flonums
</td></tr>
<tr><td align="left" valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Extensions-to-numeric-procedures"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Numbers" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#IEEE-floating-point-arithmetic" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Extensions-to-numeric-procedures-1"></a>
<h2 class="section">9.1 Extensions to numeric procedures</h2>

<a name="Definition_of_="></a><a name="Procedure_="></a><a name="index-_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_=">=</a></b></code><i> <var>z1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_%3C"></a><a name="Procedure_%3C"></a><a name="index-_003c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_%3C">&lt;</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_%3E"></a><a name="Procedure_%3E"></a><a name="index-_003e"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_%3E">&gt;</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_%3C="></a><a name="Procedure_%3C="></a><a name="index-_003c_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_%3C=">&lt;=</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_%3E="></a><a name="Procedure_%3E="></a><a name="index-_003e_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_%3E=">&gt;=</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures take any number of arguments including no argument.
This is useful to test if the elements of a list are sorted in a
particular order.  For example, testing that the list of numbers
<code>lst</code> is sorted in nondecreasing order can be done with the call
<code>(apply &lt; lst)</code>.
</p>


<a name="IEEE-floating-point-arithmetic"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Extensions-to-numeric-procedures" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Integer-square-root-and-nth-root" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="IEEE-floating-point-arithmetic-1"></a>
<h2 class="section">9.2 IEEE floating point arithmetic</h2>

<p>To better conform to IEEE floating point arithmetic the standard
numeric tower is extended with these special inexact reals:
</p>
<dl compact="compact">
<dt> <code>+inf.0</code></dt>
<dd><p>positive infinity
</p></dd>
<dt> <code>-inf.0</code></dt>
<dd><p>negative infinity
</p></dd>
<dt> <code>+nan.0</code></dt>
<dd><p>&ldquo;not a number&rdquo;
</p></dd>
<dt> <code>-0.</code></dt>
<dd><p>negative zero (&lsquo;<samp>0.</samp>&rsquo; is the positive zero)
</p></dd>
</dl>

<p>The infinities and &ldquo;not a number&rdquo; are reals (i.e. <code>(real?
+inf.0)</code> is <code>#t</code>) but are not rational (i.e. <code>(rational?
+inf.0)</code> is <code>#f</code>).
</p>
<p>Both zeros are numerically equal (i.e. <code>(= -0. 0.)</code> is <code>#t</code>)
but are not equivalent (i.e. <code>(eqv? -0. 0.)</code> and <code>(equal?
-0. 0.)</code> are <code>#f</code>).  All numerical comparisons with &ldquo;not a
number&rdquo;, including <code>(= +nan.0 +nan.0)</code>, are <code>#f</code>.
</p>
<a name="Integer-square-root-and-nth-root"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#IEEE-floating-point-arithmetic" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Bitwise_002doperations-on-exact-integers" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Integer-square-root-and-nth-root-1"></a>
<h2 class="section">9.3 Integer square root and nth root</h2>

<a name="Definition_of_integer-sqrt"></a><a name="Procedure_integer-sqrt"></a><a name="index-integer_002dsqrt"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_integer-sqrt">integer-sqrt</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the integer part of the square root of the
nonnegative exact integer <var>n</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(integer-sqrt 123)</b>
11
</pre></td></tr></table>



<a name="Definition_of_integer-nth-root"></a><a name="Procedure_integer-nth-root"></a><a name="index-integer_002dnth_002droot"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_integer-nth-root">integer-nth-root</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the integer part of <var>n1</var> raised to the
power 1/<var>n2</var>, where <var>n1</var> is a nonnegative exact integer and
<var>n2</var> is a positive exact integer.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(integer-nth-root 100 3)</b>
4
</pre></td></tr></table>



<a name="Bitwise_002doperations-on-exact-integers"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Integer-square-root-and-nth-root" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Fixnum-specific-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Bitwise_002doperations-on-exact-integers-1"></a>
<h2 class="section">9.4 Bitwise-operations on exact integers</h2>

<p>The procedures defined in this section are compatible with the
withdrawn &ldquo;Integer Bitwise-operation Library SRFI&rdquo; (SRFI 33).  Note
that some of the procedures specified in SRFI 33 are not provided.
</p>
<p>Most procedures in this section are specified in terms of the binary
representation of exact integers.  The two&rsquo;s complement representation
is assumed where an integer is composed of an infinite number of bits.
The upper section of an integer (the most significant bits) are either
an infinite sequence of ones when the integer is negative, or they are
an infinite sequence of zeros when the integer is nonnegative.
</p>
<a name="Definition_of_arithmetic-shift"></a><a name="Procedure_arithmetic-shift"></a><a name="index-arithmetic_002dshift"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_arithmetic-shift">arithmetic-shift</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <var>n1</var> shifted to the left by <var>n2</var> bits,
that is <code>(floor (* <var>n1</var> (expt 2 <var>n2</var>)))</code>.  Both <var>n1</var>
and <var>n2</var> must be exact integers.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(arithmetic-shift 1000 7)  <span class="roman"><i>; n1=...0000001111101000</i></span></b>
128000
&gt; <b>(arithmetic-shift 1000 -6) <span class="roman"><i>; n1=...0000001111101000</i></span></b>
15
&gt; <b>(arithmetic-shift -23 -3)  <span class="roman"><i>; n1=...1111111111101001</i></span></b>
-3
</pre></td></tr></table>



<a name="Definition_of_bitwise-merge"></a><a name="Procedure_bitwise-merge"></a><a name="index-bitwise_002dmerge"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bitwise-merge">bitwise-merge</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns an exact integer whose bits combine the bits
from <var>n2</var> and <var>n3</var> depending on <var>n1</var>.  The bit at index
<var>i</var> of the result depends only on the bits at index <var>i</var> in
<var>n1</var>, <var>n2</var> and <var>n3</var>: it is equal to the bit in <var>n2</var>
when the bit in <var>n1</var> is 0 and it is equal to the bit in <var>n3</var>
when the bit in <var>n1</var> is 1.  All arguments must be exact integers.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bitwise-merge -4 -11 10) <span class="roman"><i>; ...11111100 ...11110101 ...00001010</i></span></b>
9
&gt; <b>(bitwise-merge 12 -11 10) <span class="roman"><i>; ...00001100 ...11110101 ...00001010</i></span></b>
-7
</pre></td></tr></table>



<a name="Definition_of_bitwise-and"></a><a name="Procedure_bitwise-and"></a><a name="index-bitwise_002dand"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bitwise-and">bitwise-and</a></b></code><i> <var>n</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bitwise &ldquo;and&rdquo; of the exact integers
<var>n</var>&hellip;.  The value -1 is returned when there are no arguments.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bitwise-and 6 12)  <span class="roman"><i>; ...00000110 ...00001100</i></span></b>
4
&gt; <b>(bitwise-and 6 -4)  <span class="roman"><i>; ...00000110 ...11111100</i></span></b>
4
&gt; <b>(bitwise-and -6 -4) <span class="roman"><i>; ...11111010 ...11111100</i></span></b>
-8
&gt; <b>(bitwise-and)</b>
-1
</pre></td></tr></table>



<a name="Definition_of_bitwise-ior"></a><a name="Procedure_bitwise-ior"></a><a name="index-bitwise_002dior"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bitwise-ior">bitwise-ior</a></b></code><i> <var>n</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bitwise &ldquo;inclusive-or&rdquo; of the exact
integers <var>n</var>&hellip;.  The value 0 is returned when there are no
arguments.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bitwise-ior 6 12)  <span class="roman"><i>; ...00000110 ...00001100</i></span></b>
14
&gt; <b>(bitwise-ior 6 -4)  <span class="roman"><i>; ...00000110 ...11111100</i></span></b>
-2
&gt; <b>(bitwise-ior -6 -4) <span class="roman"><i>; ...11111010 ...11111100</i></span></b>
-2
&gt; <b>(bitwise-ior)</b>
0
</pre></td></tr></table>



<a name="Definition_of_bitwise-xor"></a><a name="Procedure_bitwise-xor"></a><a name="index-bitwise_002dxor"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bitwise-xor">bitwise-xor</a></b></code><i> <var>n</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bitwise &ldquo;exclusive-or&rdquo; of the exact
integers <var>n</var>&hellip;.  The value 0 is returned when there are no
arguments.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bitwise-xor 6 12)  <span class="roman"><i>; ...00000110 ...00001100</i></span></b>
10
&gt; <b>(bitwise-xor 6 -4)  <span class="roman"><i>; ...00000110 ...11111100</i></span></b>
-6
&gt; <b>(bitwise-xor -6 -4) <span class="roman"><i>; ...11111010 ...11111100</i></span></b>
6
&gt; <b>(bitwise-xor)</b>
0
</pre></td></tr></table>



<a name="Definition_of_bitwise-not"></a><a name="Procedure_bitwise-not"></a><a name="index-bitwise_002dnot"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bitwise-not">bitwise-not</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bitwise complement of the exact integer
<var>n</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bitwise-not 3)  <span class="roman"><i>; ...00000011</i></span></b>
-4
&gt; <b>(bitwise-not -1) <span class="roman"><i>; ...11111111</i></span></b>
0
</pre></td></tr></table>



<a name="Definition_of_bit-count"></a><a name="Procedure_bit-count"></a><a name="index-bit_002dcount"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bit-count">bit-count</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bit count of the exact integer <var>n</var>.  If
<var>n</var> is nonnegative, the bit count is the number of 1 bits in the
two&rsquo;s complement representation of <var>n</var>.  If <var>n</var> is negative,
the bit count is the number of 0 bits in the two&rsquo;s complement
representation of <var>n</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(bit-count 0)   <span class="roman"><i>; ...00000000</i></span></b>
0
&gt; <b>(bit-count 1)   <span class="roman"><i>; ...00000001</i></span></b>
1
&gt; <b>(bit-count 2)   <span class="roman"><i>; ...00000010</i></span></b>
1
&gt; <b>(bit-count 3)   <span class="roman"><i>; ...00000011</i></span></b>
2
&gt; <b>(bit-count 4)   <span class="roman"><i>; ...00000100</i></span></b>
1
&gt; <b>(bit-count -23) <span class="roman"><i>; ...11101001</i></span></b>
3
</pre></td></tr></table>



<a name="Definition_of_integer-length"></a><a name="Procedure_integer-length"></a><a name="index-integer_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_integer-length">integer-length</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bit length of the exact integer <var>n</var>.
If <var>n</var> is a positive integer the bit length is one more than the
index of the highest 1 bit (the least significant bit is at index 0).
If <var>n</var> is a negative integer the bit length is one more than the
index of the highest 0 bit.  If <var>n</var> is zero, the bit length is 0.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(integer-length 0)   <span class="roman"><i>; ...00000000</i></span></b>
0
&gt; <b>(integer-length 1)   <span class="roman"><i>; ...00000001</i></span></b>
1
&gt; <b>(integer-length 2)   <span class="roman"><i>; ...00000010</i></span></b>
2
&gt; <b>(integer-length 3)   <span class="roman"><i>; ...00000011</i></span></b>
2
&gt; <b>(integer-length 4)   <span class="roman"><i>; ...00000100</i></span></b>
3
&gt; <b>(integer-length -23) <span class="roman"><i>; ...11101001</i></span></b>
5
</pre></td></tr></table>



<a name="Definition_of_bit-set?"></a><a name="Procedure_bit-set?"></a><a name="index-bit_002dset_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_bit-set?">bit-set?</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a boolean indicating if the bit at index
<var>n1</var> of <var>n2</var> is set (i.e. equal to 1) or not.  Both <var>n1</var>
and <var>n2</var> must be exact integers, and <var>n1</var> must be
nonnegative.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map (lambda (i) (bit-set? i -23)) <span class="roman"><i>; ...11101001</i></span>
       '(7 6 5 4 3 2 1 0))</b>
(#t #t #t #f #t #f #f #t)
</pre></td></tr></table>



<a name="Definition_of_any-bits-set?"></a><a name="Procedure_any-bits-set?"></a><a name="index-any_002dbits_002dset_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_any-bits-set?">any-bits-set?</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a boolean indicating if the bitwise and
of <var>n1</var> and <var>n2</var> is different from zero or not.  This procedure
is implemented more efficiently than the naive definition:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define (any-bits-set? n1 n2) (not (zero? (bitwise-and n1 n2))))
</pre></td></tr></table>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(any-bits-set? 5 10)   <span class="roman"><i>; ...00000101 ...00001010</i></span></b>
#f
&gt; <b>(any-bits-set? -23 32) <span class="roman"><i>; ...11101001 ...00100000</i></span></b>
#t
</pre></td></tr></table>



<a name="Definition_of_all-bits-set?"></a><a name="Procedure_all-bits-set?"></a><a name="index-all_002dbits_002dset_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_all-bits-set?">all-bits-set?</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a boolean indicating if the bitwise and
of <var>n1</var> and <var>n2</var> is equal to <var>n1</var> or not.  This procedure
is implemented more efficiently than the naive definition:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define (all-bits-set? n1 n2) (= n1 (bitwise-and n1 n2)))
</pre></td></tr></table>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(all-bits-set? 1 3) <span class="roman"><i>; ...00000001 ...00000011</i></span></b>
#t
&gt; <b>(all-bits-set? 7 3) <span class="roman"><i>; ...00000111 ...00000011</i></span></b>
#f
</pre></td></tr></table>



<a name="Definition_of_first-bit-set"></a><a name="Procedure_first-bit-set"></a><a name="index-first_002dbit_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_first-bit-set">first-bit-set</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the bit index of the least significant bit of
<var>n</var> equal to 1 (which is also the number of 0 bits that are below
the least significant 1 bit).  This procedure returns <code>-1</code> when
<var>n</var> is zero.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(first-bit-set 24) <span class="roman"><i>; ...00011000</i></span></b>
3
&gt; <b>(first-bit-set 0)  <span class="roman"><i>; ...00000000</i></span></b>
-1
</pre></td></tr></table>



<a name="Definition_of_extract-bit-field"></a><a name="Procedure_extract-bit-field"></a><a name="index-extract_002dbit_002dfield"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_extract-bit-field">extract-bit-field</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_test-bit-field?"></a><a name="Procedure_test-bit-field?"></a><a name="index-test_002dbit_002dfield_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_test-bit-field?">test-bit-field?</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_clear-bit-field"></a><a name="Procedure_clear-bit-field"></a><a name="index-clear_002dbit_002dfield"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_clear-bit-field">clear-bit-field</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_replace-bit-field"></a><a name="Procedure_replace-bit-field"></a><a name="index-replace_002dbit_002dfield"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_replace-bit-field">replace-bit-field</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var> <var>n4</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_copy-bit-field"></a><a name="Procedure_copy-bit-field"></a><a name="index-copy_002dbit_002dfield"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_copy-bit-field">copy-bit-field</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var> <var>n4</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures operate on a bit-field which is <var>n1</var> bits wide
starting at bit index <var>n2</var>.  All arguments must be exact integers
and <var>n1</var> and <var>n2</var> must be nonnegative.
</p>
<p>The procedure <code>extract-bit-field</code> returns the bit-field of
<var>n3</var> shifted to the right so that the least significant bit of the
bit-field is the least significant bit of the result.
</p>
<p>The procedure <code>test-bit-field?</code> returns <code>#t</code> if any bit in
the bit-field of <var>n3</var> is equal to 1, otherwise <code>#f</code> is
returned.
</p>
<p>The procedure <code>clear-bit-field</code> returns <var>n3</var> with all bits
in the bit-field replaced with 0.
</p>
<p>The procedure <code>replace-bit-field</code> returns <var>n4</var> with the
bit-field replaced with the least-significant <var>n1</var> bits of
<var>n3</var>.
</p>
<p>The procedure <code>copy-bit-field</code> returns <var>n4</var> with the
bit-field replaced with the (same index and size) bit-field in
<var>n3</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(extract-bit-field 5 2 -37)    <span class="roman"><i>; ...11011011</i></span></b>
22
&gt; <b>(test-bit-field? 5 2 -37)      <span class="roman"><i>; ...11011011</i></span></b>
#t
&gt; <b>(test-bit-field? 1 2 -37)      <span class="roman"><i>; ...11011011</i></span></b>
#f
&gt; <b>(clear-bit-field 5 2 -37)      <span class="roman"><i>; ...11011011</i></span></b>
-125
&gt; <b>(replace-bit-field 5 2 -6 -37) <span class="roman"><i>; ...11111010 ...11011011</i></span></b>
-21
&gt; <b>(copy-bit-field 5 2 -6 -37)    <span class="roman"><i>; ...11111010 ...11011011</i></span></b>
-5
</pre></td></tr></table>



<a name="Fixnum-specific-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Bitwise_002doperations-on-exact-integers" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Flonum-specific-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Fixnum-specific-operations-1"></a>
<h2 class="section">9.5 Fixnum specific operations</h2>

<a name="Definition_of_fixnum?"></a><a name="Procedure_fixnum?"></a><a name="index-fixnum_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fixnum?">fixnum?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%2A"></a><a name="Procedure_fx%2A"></a><a name="index-fx_002a"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%2A">fx*</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%2B"></a><a name="Procedure_fx%2B"></a><a name="index-fx_002b"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%2B">fx+</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx-"></a><a name="Procedure_fx-"></a><a name="index-fx_002d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx-">fx-</a></b></code><i> <var>n1</var> <var>n2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%3C"></a><a name="Procedure_fx%3C"></a><a name="index-fx_003c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%3C">fx&lt;</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%3C="></a><a name="Procedure_fx%3C="></a><a name="index-fx_003c_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%3C=">fx&lt;=</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx="></a><a name="Procedure_fx="></a><a name="index-fx_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx=">fx=</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%3E"></a><a name="Procedure_fx%3E"></a><a name="index-fx_003e"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%3E">fx&gt;</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fx%3E="></a><a name="Procedure_fx%3E="></a><a name="index-fx_003e_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fx%3E=">fx&gt;=</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxabs"></a><a name="Procedure_fxabs"></a><a name="index-fxabs"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxabs">fxabs</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxand"></a><a name="Procedure_fxand"></a><a name="index-fxand"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxand">fxand</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxarithmetic-shift"></a><a name="Procedure_fxarithmetic-shift"></a><a name="index-fxarithmetic_002dshift"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxarithmetic-shift">fxarithmetic-shift</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxarithmetic-shift-left"></a><a name="Procedure_fxarithmetic-shift-left"></a><a name="index-fxarithmetic_002dshift_002dleft"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxarithmetic-shift-left">fxarithmetic-shift-left</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxarithmetic-shift-right"></a><a name="Procedure_fxarithmetic-shift-right"></a><a name="index-fxarithmetic_002dshift_002dright"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxarithmetic-shift-right">fxarithmetic-shift-right</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxbit-count"></a><a name="Procedure_fxbit-count"></a><a name="index-fxbit_002dcount"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxbit-count">fxbit-count</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxbit-set?"></a><a name="Procedure_fxbit-set?"></a><a name="index-fxbit_002dset_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxbit-set?">fxbit-set?</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxeven?"></a><a name="Procedure_fxeven?"></a><a name="index-fxeven_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxeven?">fxeven?</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxfirst-bit-set"></a><a name="Procedure_fxfirst-bit-set"></a><a name="index-fxfirst_002dbit_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxfirst-bit-set">fxfirst-bit-set</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxif"></a><a name="Procedure_fxif"></a><a name="index-fxif"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxif">fxif</a></b></code><i> <var>n1</var> <var>n2</var> <var>n3</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxior"></a><a name="Procedure_fxior"></a><a name="index-fxior"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxior">fxior</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxlength"></a><a name="Procedure_fxlength"></a><a name="index-fxlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxlength">fxlength</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxmax"></a><a name="Procedure_fxmax"></a><a name="index-fxmax"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxmax">fxmax</a></b></code><i> <var>n1</var> <var>n2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxmin"></a><a name="Procedure_fxmin"></a><a name="index-fxmin"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxmin">fxmin</a></b></code><i> <var>n1</var> <var>n2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxmodulo"></a><a name="Procedure_fxmodulo"></a><a name="index-fxmodulo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxmodulo">fxmodulo</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxnegative?"></a><a name="Procedure_fxnegative?"></a><a name="index-fxnegative_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxnegative?">fxnegative?</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxnot"></a><a name="Procedure_fxnot"></a><a name="index-fxnot"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxnot">fxnot</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxodd?"></a><a name="Procedure_fxodd?"></a><a name="index-fxodd_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxodd?">fxodd?</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxpositive?"></a><a name="Procedure_fxpositive?"></a><a name="index-fxpositive_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxpositive?">fxpositive?</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxquotient"></a><a name="Procedure_fxquotient"></a><a name="index-fxquotient"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxquotient">fxquotient</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxremainder"></a><a name="Procedure_fxremainder"></a><a name="index-fxremainder"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxremainder">fxremainder</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwrap%2A"></a><a name="Procedure_fxwrap%2A"></a><a name="index-fxwrap_002a"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwrap%2A">fxwrap*</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwrap%2B"></a><a name="Procedure_fxwrap%2B"></a><a name="index-fxwrap_002b"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwrap%2B">fxwrap+</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwrap-"></a><a name="Procedure_fxwrap-"></a><a name="index-fxwrap_002d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwrap-">fxwrap-</a></b></code><i> <var>n1</var> <var>n2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwrapabs"></a><a name="Procedure_fxwrapabs"></a><a name="index-fxwrapabs"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwrapabs">fxwrapabs</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwraparithmetic-shift"></a><a name="Procedure_fxwraparithmetic-shift"></a><a name="index-fxwraparithmetic_002dshift"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwraparithmetic-shift">fxwraparithmetic-shift</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwraparithmetic-shift-left"></a><a name="Procedure_fxwraparithmetic-shift-left"></a><a name="index-fxwraparithmetic_002dshift_002dleft"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwraparithmetic-shift-left">fxwraparithmetic-shift-left</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwraplogical-shift-right"></a><a name="Procedure_fxwraplogical-shift-right"></a><a name="index-fxwraplogical_002dshift_002dright"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwraplogical-shift-right">fxwraplogical-shift-right</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxwrapquotient"></a><a name="Procedure_fxwrapquotient"></a><a name="index-fxwrapquotient"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxwrapquotient">fxwrapquotient</a></b></code><i> <var>n1</var> <var>n2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxxor"></a><a name="Procedure_fxxor"></a><a name="index-fxxor"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxxor">fxxor</a></b></code><i> <var>n1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fxzero?"></a><a name="Procedure_fxzero?"></a><a name="index-fxzero_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fxzero?">fxzero?</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fixnum-overflow-exception?"></a><a name="Procedure_fixnum-overflow-exception?"></a><a name="index-fixnum_002doverflow_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fixnum-overflow-exception?">fixnum-overflow-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_fixnum-overflow-exception-procedure"></a><a name="Procedure_fixnum-overflow-exception-procedure"></a><a name="index-fixnum_002doverflow_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fixnum-overflow-exception-procedure">fixnum-overflow-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_fixnum-overflow-exception-arguments"></a><a name="Procedure_fixnum-overflow-exception-arguments"></a><a name="index-fixnum_002doverflow_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fixnum-overflow-exception-arguments">fixnum-overflow-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Fixnum-overflow-exception objects are raised by some of the fixnum
specific procedures when the result is larger than can fit in a
fixnum.  The parameter <var>exc</var> must be a fixnum-overflow-exception
object.
</p>
<p>The procedure <code>fixnum-overflow-exception?</code> returns
<code>#t</code> when <var>obj</var> is a fixnum-overflow-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>fixnum-overflow-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>fixnum-overflow-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (fixnum-overflow-exception? exc)
        (list (fixnum-overflow-exception-procedure exc)
              (fixnum-overflow-exception-arguments exc))
        'not-fixnum-overflow-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (fx* 100000 100000)))</b>
(#&lt;procedure #2 fx*&gt; (100000 100000))
</pre></td></tr></table>



<a name="Flonum-specific-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Fixnum-specific-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Pseudo-random-numbers" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Flonum-specific-operations-1"></a>
<h2 class="section">9.6 Flonum specific operations</h2>

<a name="Definition_of_flonum?"></a><a name="Procedure_flonum?"></a><a name="index-flonum_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flonum?">flonum?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fixnum-%3Eflonum"></a><a name="Procedure_fixnum-%3Eflonum"></a><a name="index-fixnum_002d_003eflonum"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fixnum-%3Eflonum">fixnum-&gt;flonum</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%2A"></a><a name="Procedure_fl%2A"></a><a name="index-fl_002a"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%2A">fl*</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%2B"></a><a name="Procedure_fl%2B"></a><a name="index-fl_002b"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%2B">fl+</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl-"></a><a name="Procedure_fl-"></a><a name="index-fl_002d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl-">fl-</a></b></code><i> <var>x1</var> <var>x2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl/"></a><a name="Procedure_fl/"></a><a name="index-fl_002f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl/">fl/</a></b></code><i> <var>x1</var> <var>x2</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%3C"></a><a name="Procedure_fl%3C"></a><a name="index-fl_003c"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%3C">fl&lt;</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%3C="></a><a name="Procedure_fl%3C="></a><a name="index-fl_003c_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%3C=">fl&lt;=</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl="></a><a name="Procedure_fl="></a><a name="index-fl_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl=">fl=</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%3E"></a><a name="Procedure_fl%3E"></a><a name="index-fl_003e"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%3E">fl&gt;</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fl%3E="></a><a name="Procedure_fl%3E="></a><a name="index-fl_003e_003d"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fl%3E=">fl&gt;=</a></b></code><i> <var>x1</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flabs"></a><a name="Procedure_flabs"></a><a name="index-flabs"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flabs">flabs</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flacos"></a><a name="Procedure_flacos"></a><a name="index-flacos"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flacos">flacos</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flasin"></a><a name="Procedure_flasin"></a><a name="index-flasin"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flasin">flasin</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flatan"></a><a name="Procedure_flatan"></a><a name="index-flatan"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flatan">flatan</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_flatan"></a><a name="Procedure_flatan"></a><a name="index-flatan-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flatan">flatan</a></b></code><i> <var>y</var> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flceiling"></a><a name="Procedure_flceiling"></a><a name="index-flceiling"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flceiling">flceiling</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flcos"></a><a name="Procedure_flcos"></a><a name="index-flcos"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flcos">flcos</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fldenominator"></a><a name="Procedure_fldenominator"></a><a name="index-fldenominator"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fldenominator">fldenominator</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fleven?"></a><a name="Procedure_fleven?"></a><a name="index-fleven_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fleven?">fleven?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flexp"></a><a name="Procedure_flexp"></a><a name="index-flexp"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flexp">flexp</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flexpt"></a><a name="Procedure_flexpt"></a><a name="index-flexpt"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flexpt">flexpt</a></b></code><i> <var>x</var> <var>y</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flfinite?"></a><a name="Procedure_flfinite?"></a><a name="index-flfinite_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flfinite?">flfinite?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flfloor"></a><a name="Procedure_flfloor"></a><a name="index-flfloor"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flfloor">flfloor</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flinfinite?"></a><a name="Procedure_flinfinite?"></a><a name="index-flinfinite_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flinfinite?">flinfinite?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flinteger?"></a><a name="Procedure_flinteger?"></a><a name="index-flinteger_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flinteger?">flinteger?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fllog"></a><a name="Procedure_fllog"></a><a name="index-fllog"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fllog">fllog</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flmax"></a><a name="Procedure_flmax"></a><a name="index-flmax"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flmax">flmax</a></b></code><i> <var>x1</var> <var>x2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flmin"></a><a name="Procedure_flmin"></a><a name="index-flmin"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flmin">flmin</a></b></code><i> <var>x1</var> <var>x2</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flnan?"></a><a name="Procedure_flnan?"></a><a name="index-flnan_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flnan?">flnan?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flnegative?"></a><a name="Procedure_flnegative?"></a><a name="index-flnegative_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flnegative?">flnegative?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flnumerator"></a><a name="Procedure_flnumerator"></a><a name="index-flnumerator"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flnumerator">flnumerator</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flodd?"></a><a name="Procedure_flodd?"></a><a name="index-flodd_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flodd?">flodd?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flpositive?"></a><a name="Procedure_flpositive?"></a><a name="index-flpositive_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flpositive?">flpositive?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flround"></a><a name="Procedure_flround"></a><a name="index-flround"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flround">flround</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flsin"></a><a name="Procedure_flsin"></a><a name="index-flsin"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flsin">flsin</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flsqrt"></a><a name="Procedure_flsqrt"></a><a name="index-flsqrt"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flsqrt">flsqrt</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fltan"></a><a name="Procedure_fltan"></a><a name="index-fltan"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fltan">fltan</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_fltruncate"></a><a name="Procedure_fltruncate"></a><a name="index-fltruncate"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_fltruncate">fltruncate</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_flzero?"></a><a name="Procedure_flzero?"></a><a name="index-flzero_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_flzero?">flzero?</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Pseudo-random-numbers"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Flonum-specific-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Numbers" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Pseudo-random-numbers-1"></a>
<h2 class="section">9.7 Pseudo random numbers</h2>

<p>The procedures and variables defined in this section are compatible
with the &ldquo;Sources of Random Bits SRFI&rdquo; (SRFI 27).  The
implementation is based on Pierre L&rsquo;Ecuyer&rsquo;s MRG32k3a pseudo random
number generator.  At the heart of SRFI 27&rsquo;s interface is the random
source type which encapsulates the state of a pseudo random number
generator.  The state of a random source object changes every time a
pseudo random number is generated from this random source object.
</p>
<a name="Definition_of_default-random-source"></a><a name="Variable_default-random-source"></a><a name="index-default_002drandom_002dsource"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Variable_default-random-source">default-random-source</a></b></code><code>)</code></td><td align="right">variable</td></tr></table>

<p>The global variable <code>default-random-source</code> is bound to the
random source object which is used by the <code>random-integer</code>,
<code>random-real</code>, <code>random-u8vector</code> and <code>random-f64vector</code>
procedures.
</p>


<a name="Definition_of_random-integer"></a><a name="Procedure_random-integer"></a><a name="index-random_002dinteger"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-integer">random-integer</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a pseudo random exact integer in the range 0 to
<var>n</var>-1.  The random source object in the global variable
<code>default-random-source</code> is used to generate this number.  The
parameter <var>n</var> must be a positive exact integer.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(random-integer 100)</b>
24
&gt; <b>(random-integer 100)</b>
2
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
6143360270902284438072426748425263488507
</pre></td></tr></table>



<a name="Definition_of_random-real"></a><a name="Procedure_random-real"></a><a name="index-random_002dreal"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-real">random-real</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a pseudo random inexact real between, but not
including, 0 and 1.  The random source object in the global variable
<code>default-random-source</code> is used to generate this number.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(random-real)</b>
.24230672079133753
&gt; <b>(random-real)</b>
.02317001922506932
</pre></td></tr></table>



<a name="Definition_of_random-u8vector"></a><a name="Procedure_random-u8vector"></a><a name="index-random_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-u8vector">random-u8vector</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a u8vector of length <var>n</var> containing pseudo
random exact integers in the range 0 to 255.  The random source object
in the global variable <code>default-random-source</code> is used to
generate these numbers.  The parameter <var>n</var> must be a nonnegative
exact integer.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(random-u8vector 10)</b>
#u8(200 53 29 202 3 85 208 187 73 219)
</pre></td></tr></table>



<a name="Definition_of_random-f64vector"></a><a name="Procedure_random-f64vector"></a><a name="index-random_002df64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-f64vector">random-f64vector</a></b></code><i> <var>n</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a f64vector of length <var>n</var> containing pseudo
random inexact reals between, but not including, 0 and 1.  The random
source object in the global variable <code>default-random-source</code> is
used to generate these numbers.  The parameter <var>n</var> must be a nonnegative
exact integer.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(random-f64vector 3)</b>
#f64(.7145854494613069 .47089632669147946 .5400124875182746)
</pre></td></tr></table>



<a name="Definition_of_make-random-source"></a><a name="Procedure_make-random-source"></a><a name="index-make_002drandom_002dsource"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-random-source">make-random-source</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a new random source object initialized to a
predetermined state (to initialize to a pseudo random state the
procedure <code>random-source-randomize!</code> should be called).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rs (make-random-source))</b>
&gt; <b>((random-source-make-integers rs) 10000000)</b>
8583952
</pre></td></tr></table>



<a name="Definition_of_random-source?"></a><a name="Procedure_random-source?"></a><a name="index-random_002dsource_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source?">random-source?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a random source
object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(random-source? default-random-source)</b>
#t
&gt; <b>(random-source? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_random-source-state-ref"></a><a name="Procedure_random-source-state-ref"></a><a name="index-random_002dsource_002dstate_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-state-ref">random-source-state-ref</a></b></code><i> <var>random-source</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_random-source-state-set!"></a><a name="Procedure_random-source-state-set!"></a><a name="index-random_002dsource_002dstate_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-state-set!">random-source-state-set!</a></b></code><i> <var>random-source</var> <var>state</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>random-source-state-ref</code> extracts the state of
the random source object <var>random-source</var> and returns a vector
containing the state.
</p>
<p>The procedure <code>random-source-state-set!</code> restores the state of
the random source object <var>random-source</var> to <var>state</var> which must
be a vector returned from a call to the procedure
<code>random-source-state-ref</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (random-source-state-ref default-random-source))</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
7583880188903074396261960585615270693321
&gt; <b>(random-source-state-set! default-random-source s)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
7583880188903074396261960585615270693321
</pre></td></tr></table>



<a name="Definition_of_random-source-randomize!"></a><a name="Procedure_random-source-randomize!"></a><a name="index-random_002dsource_002drandomize_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-randomize!">random-source-randomize!</a></b></code><i> <var>random-source</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_random-source-pseudo-randomize!"></a><a name="Procedure_random-source-pseudo-randomize!"></a><a name="index-random_002dsource_002dpseudo_002drandomize_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-pseudo-randomize!">random-source-pseudo-randomize!</a></b></code><i> <var>random-source</var> <var>i</var> <var>j</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures change the state of the random source object
<var>random-source</var>.  The procedure <code>random-source-randomize!</code>
sets the random source object to a state that depends on the current
time (which for typical uses can be considered to randomly initialize
the state).  The procedure <code>random-source-pseudo-randomize!</code>
sets the random source object to a state that is determined only by
the current state and the nonnegative exact integers <var>i</var> and
<var>j</var>.  For both procedures the value returned is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (random-source-state-ref default-random-source))</b>
&gt; <b>(random-source-pseudo-randomize! default-random-source 5 99)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
9816755163910623041601722050112674079767
&gt; <b>(random-source-state-set! default-random-source s)</b>
&gt; <b>(random-source-pseudo-randomize! default-random-source 5 99)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
9816755163910623041601722050112674079767
&gt; <b>(random-source-pseudo-randomize! default-random-source 5 99)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
9816755163910623041601722050112674079767
&gt; <b>(random-source-state-set! default-random-source s)</b>
&gt; <b>(random-source-randomize! default-random-source)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
2271441220851914333384493143687768110622
&gt; <b>(random-source-state-set! default-random-source s)</b>
&gt; <b>(random-source-randomize! default-random-source)</b>
&gt; <b>(random-integer 10000000000000000000000000000000000000000)</b>
6247966138948323029033944059178072366895
</pre></td></tr></table>



<a name="Definition_of_random-source-make-integers"></a><a name="Procedure_random-source-make-integers"></a><a name="index-random_002dsource_002dmake_002dintegers"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-make-integers">random-source-make-integers</a></b></code><i> <var>random-source</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a procedure for generating pseudo random exact
integers using the random source object <var>random-source</var>.  The
returned procedure accepts a single parameter <var>n</var>, a positive
exact integer, and returns a pseudo random exact integer in the range
0 to <var>n</var>-1.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rs (make-random-source))</b>
&gt; <b>(define ri (random-source-make-integers rs))</b>
&gt; <b>(ri 10000000)</b>
8583952
&gt; <b>(ri 10000000)</b>
2879793
</pre></td></tr></table>



<a name="Definition_of_random-source-make-reals"></a><a name="Procedure_random-source-make-reals"></a><a name="index-random_002dsource_002dmake_002dreals"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-make-reals">random-source-make-reals</a></b></code><i> <var>random-source</var> <span class="roman">[</span><var>precision</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a procedure for generating pseudo random
inexact reals using the random source object <var>random-source</var>.  The
returned procedure accepts no parameters and returns a pseudo random
inexact real between, but not including, 0 and 1.  The optional parameter
<var>precision</var> specifies an upper bound on the minimum amount by which two
generated pseudo-random numbers can be separated.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rs (make-random-source))</b>
&gt; <b>(define rr (random-source-make-reals rs))</b>
&gt; <b>(rr)</b>
.857402537562821
&gt; <b>(rr)</b>
.2876463473845367
</pre></td></tr></table>



<a name="Definition_of_random-source-make-u8vectors"></a><a name="Procedure_random-source-make-u8vectors"></a><a name="index-random_002dsource_002dmake_002du8vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-make-u8vectors">random-source-make-u8vectors</a></b></code><i> <var>random-source</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a procedure for generating pseudo random
u8vectors using the random source object <var>random-source</var>.  The
returned procedure accepts a single parameter <var>n</var>, a nonnegative
exact integer, and returns a u8vector of length <var>n</var> containing
pseudo random exact integers in the range 0 to 255.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rs (make-random-source))</b>
&gt; <b>(define rv (random-source-make-u8vectors rs))</b>
&gt; <b>(rv 10)</b>
#u8(200 53 29 202 3 85 208 187 73 219)
&gt; <b>(rv 10)</b>
#u8(113 8 182 120 138 103 53 192 40 176)
</pre></td></tr></table>



<a name="Definition_of_random-source-make-f64vectors"></a><a name="Procedure_random-source-make-f64vectors"></a><a name="index-random_002dsource_002dmake_002df64vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_random-source-make-f64vectors">random-source-make-f64vectors</a></b></code><i> <var>random-source</var> <span class="roman">[</span><var>precision</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a procedure for generating pseudo random
f64vectors using the random source object <var>random-source</var>.  The
returned procedure accepts a single parameter <var>n</var>, a nonnegative
exact integer, and returns an f64vector of length <var>n</var> containing
pseudo random inexact reals between, but not including, 0 and 1.
The optional parameter <var>precision</var> specifies an upper bound on the
minimum amount by which two generated pseudo-random numbers can be separated.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rs (make-random-source))</b>
&gt; <b>(define rv (random-source-make-f64vectors rs))</b>
&gt; <b>(rv 3)</b>
#f64(.7342236104231586 .2876463473845367 .8574025375628211)
&gt; <b>(rv 3)</b>
#f64(.013863292728449427 .33449296573515447 .8162050798467028)
</pre></td></tr></table>



<a name="Homogeneous-vectors"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Pseudo-random-numbers" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Numbers" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Homogeneous-vectors-1"></a>
<h1 class="chapter">10. Homogeneous vectors</h1>
<a name="index-homogeneous-vectors"></a>

<p>Homogeneous vectors are vectors containing raw numbers of the same
type (signed or unsigned exact integers or inexact reals).  There are
10 types of homogeneous vectors:
&lsquo;<samp>s8vector</samp>&rsquo; (vector of exact integers in the range -2^7 to 2^7-1),
&lsquo;<samp>u8vector</samp>&rsquo; (vector of exact integers in the range 0 to 2^8-1),
&lsquo;<samp>s16vector</samp>&rsquo; (vector of exact integers in the range -2^15 to 2^15-1),
&lsquo;<samp>u16vector</samp>&rsquo; (vector of exact integers in the range 0 to 2^16-1),
&lsquo;<samp>s32vector</samp>&rsquo; (vector of exact integers in the range -2^31 to 2^31-1),
&lsquo;<samp>u32vector</samp>&rsquo; (vector of exact integers in the range 0 to 2^32-1),
&lsquo;<samp>s64vector</samp>&rsquo; (vector of exact integers in the range -2^63 to 2^63-1),
&lsquo;<samp>u64vector</samp>&rsquo; (vector of exact integers in the range 0 to 2^64-1),
&lsquo;<samp>f32vector</samp>&rsquo; (vector of 32 bit floating point numbers),
and &lsquo;<samp>f64vector</samp>&rsquo; (vector of 64 bit floating point numbers).
</p>
<p>The lexical syntax of homogeneous vectors is specified in
<a href="#Homogeneous-vector-syntax">Homogeneous vector syntax</a>.
</p>
<p>The procedures available for homogeneous vectors, listed below, are
the analog of the normal vector/string procedures for each of the
homogeneous vector types.
</p>
<a name="Definition_of_s8vector?"></a><a name="Procedure_s8vector?"></a><a name="index-s8vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector?">s8vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-s8vector"></a><a name="Procedure_make-s8vector"></a><a name="index-make_002ds8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-s8vector">make-s8vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector"></a><a name="Procedure_s8vector"></a><a name="index-s8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector">s8vector</a></b></code><i> <var>exact-int8</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-length"></a><a name="Procedure_s8vector-length"></a><a name="index-s8vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-length">s8vector-length</a></b></code><i> <var>s8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-ref"></a><a name="Procedure_s8vector-ref"></a><a name="index-s8vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-ref">s8vector-ref</a></b></code><i> <var>s8vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-set!"></a><a name="Procedure_s8vector-set!"></a><a name="index-s8vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-set!">s8vector-set!</a></b></code><i> <var>s8vector</var> <var>k</var> <var>exact-int8</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-%3Elist"></a><a name="Procedure_s8vector-%3Elist"></a><a name="index-s8vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-%3Elist">s8vector-&gt;list</a></b></code><i> <var>s8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Es8vector"></a><a name="Procedure_list-%3Es8vector"></a><a name="index-list_002d_003es8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Es8vector">list-&gt;s8vector</a></b></code><i> <var>list-of-exact-int8</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-fill!"></a><a name="Procedure_s8vector-fill!"></a><a name="index-s8vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-fill!">s8vector-fill!</a></b></code><i> <var>s8vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs8vector-fill!"></a><a name="Procedure_subs8vector-fill!"></a><a name="index-subs8vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs8vector-fill!">subs8vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-s8vectors"></a><a name="Procedure_append-s8vectors"></a><a name="index-append_002ds8vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-s8vectors">append-s8vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-copy"></a><a name="Procedure_s8vector-copy"></a><a name="index-s8vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-copy">s8vector-copy</a></b></code><i> <var>s8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-append"></a><a name="Procedure_s8vector-append"></a><a name="index-s8vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-append">s8vector-append</a></b></code><i> <var>s8vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs8vector"></a><a name="Procedure_subs8vector"></a><a name="index-subs8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs8vector">subs8vector</a></b></code><i> <var>s8vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs8vector-move!"></a><a name="Procedure_subs8vector-move!"></a><a name="index-subs8vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs8vector-move!">subs8vector-move!</a></b></code><i> <var>src-s8vector</var> <var>src-start</var> <var>src-end</var> <var>dst-s8vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s8vector-shrink!"></a><a name="Procedure_s8vector-shrink!"></a><a name="index-s8vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s8vector-shrink!">s8vector-shrink!</a></b></code><i> <var>s8vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_u8vector?"></a><a name="Procedure_u8vector?"></a><a name="index-u8vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector?">u8vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-u8vector"></a><a name="Procedure_make-u8vector"></a><a name="index-make_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-u8vector">make-u8vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector"></a><a name="Procedure_u8vector"></a><a name="index-u8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector">u8vector</a></b></code><i> <var>exact-int8</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-length"></a><a name="Procedure_u8vector-length"></a><a name="index-u8vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-length">u8vector-length</a></b></code><i> <var>u8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-ref"></a><a name="Procedure_u8vector-ref"></a><a name="index-u8vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-ref">u8vector-ref</a></b></code><i> <var>u8vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-set!"></a><a name="Procedure_u8vector-set!"></a><a name="index-u8vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-set!">u8vector-set!</a></b></code><i> <var>u8vector</var> <var>k</var> <var>exact-int8</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-%3Elist"></a><a name="Procedure_u8vector-%3Elist"></a><a name="index-u8vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-%3Elist">u8vector-&gt;list</a></b></code><i> <var>u8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Eu8vector"></a><a name="Procedure_list-%3Eu8vector"></a><a name="index-list_002d_003eu8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Eu8vector">list-&gt;u8vector</a></b></code><i> <var>list-of-exact-int8</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-fill!"></a><a name="Procedure_u8vector-fill!"></a><a name="index-u8vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-fill!">u8vector-fill!</a></b></code><i> <var>u8vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu8vector-fill!"></a><a name="Procedure_subu8vector-fill!"></a><a name="index-subu8vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu8vector-fill!">subu8vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-u8vectors"></a><a name="Procedure_append-u8vectors"></a><a name="index-append_002du8vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-u8vectors">append-u8vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-copy"></a><a name="Procedure_u8vector-copy"></a><a name="index-u8vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-copy">u8vector-copy</a></b></code><i> <var>u8vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-append"></a><a name="Procedure_u8vector-append"></a><a name="index-u8vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-append">u8vector-append</a></b></code><i> <var>u8vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu8vector"></a><a name="Procedure_subu8vector"></a><a name="index-subu8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu8vector">subu8vector</a></b></code><i> <var>u8vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu8vector-move!"></a><a name="Procedure_subu8vector-move!"></a><a name="index-subu8vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu8vector-move!">subu8vector-move!</a></b></code><i> <var>src-u8vector</var> <var>src-start</var> <var>src-end</var> <var>dst-u8vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-shrink!"></a><a name="Procedure_u8vector-shrink!"></a><a name="index-u8vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-shrink!">u8vector-shrink!</a></b></code><i> <var>u8vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_s16vector?"></a><a name="Procedure_s16vector?"></a><a name="index-s16vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector?">s16vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-s16vector"></a><a name="Procedure_make-s16vector"></a><a name="index-make_002ds16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-s16vector">make-s16vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector"></a><a name="Procedure_s16vector"></a><a name="index-s16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector">s16vector</a></b></code><i> <var>exact-int16</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-length"></a><a name="Procedure_s16vector-length"></a><a name="index-s16vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-length">s16vector-length</a></b></code><i> <var>s16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-ref"></a><a name="Procedure_s16vector-ref"></a><a name="index-s16vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-ref">s16vector-ref</a></b></code><i> <var>s16vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-set!"></a><a name="Procedure_s16vector-set!"></a><a name="index-s16vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-set!">s16vector-set!</a></b></code><i> <var>s16vector</var> <var>k</var> <var>exact-int16</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-%3Elist"></a><a name="Procedure_s16vector-%3Elist"></a><a name="index-s16vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-%3Elist">s16vector-&gt;list</a></b></code><i> <var>s16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Es16vector"></a><a name="Procedure_list-%3Es16vector"></a><a name="index-list_002d_003es16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Es16vector">list-&gt;s16vector</a></b></code><i> <var>list-of-exact-int16</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-fill!"></a><a name="Procedure_s16vector-fill!"></a><a name="index-s16vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-fill!">s16vector-fill!</a></b></code><i> <var>s16vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs16vector-fill!"></a><a name="Procedure_subs16vector-fill!"></a><a name="index-subs16vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs16vector-fill!">subs16vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-s16vectors"></a><a name="Procedure_append-s16vectors"></a><a name="index-append_002ds16vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-s16vectors">append-s16vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-copy"></a><a name="Procedure_s16vector-copy"></a><a name="index-s16vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-copy">s16vector-copy</a></b></code><i> <var>s16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-append"></a><a name="Procedure_s16vector-append"></a><a name="index-s16vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-append">s16vector-append</a></b></code><i> <var>s16vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs16vector"></a><a name="Procedure_subs16vector"></a><a name="index-subs16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs16vector">subs16vector</a></b></code><i> <var>s16vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs16vector-move!"></a><a name="Procedure_subs16vector-move!"></a><a name="index-subs16vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs16vector-move!">subs16vector-move!</a></b></code><i> <var>src-s16vector</var> <var>src-start</var> <var>src-end</var> <var>dst-s16vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s16vector-shrink!"></a><a name="Procedure_s16vector-shrink!"></a><a name="index-s16vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s16vector-shrink!">s16vector-shrink!</a></b></code><i> <var>s16vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_u16vector?"></a><a name="Procedure_u16vector?"></a><a name="index-u16vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector?">u16vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-u16vector"></a><a name="Procedure_make-u16vector"></a><a name="index-make_002du16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-u16vector">make-u16vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector"></a><a name="Procedure_u16vector"></a><a name="index-u16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector">u16vector</a></b></code><i> <var>exact-int16</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-length"></a><a name="Procedure_u16vector-length"></a><a name="index-u16vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-length">u16vector-length</a></b></code><i> <var>u16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-ref"></a><a name="Procedure_u16vector-ref"></a><a name="index-u16vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-ref">u16vector-ref</a></b></code><i> <var>u16vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-set!"></a><a name="Procedure_u16vector-set!"></a><a name="index-u16vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-set!">u16vector-set!</a></b></code><i> <var>u16vector</var> <var>k</var> <var>exact-int16</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-%3Elist"></a><a name="Procedure_u16vector-%3Elist"></a><a name="index-u16vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-%3Elist">u16vector-&gt;list</a></b></code><i> <var>u16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Eu16vector"></a><a name="Procedure_list-%3Eu16vector"></a><a name="index-list_002d_003eu16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Eu16vector">list-&gt;u16vector</a></b></code><i> <var>list-of-exact-int16</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-fill!"></a><a name="Procedure_u16vector-fill!"></a><a name="index-u16vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-fill!">u16vector-fill!</a></b></code><i> <var>u16vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu16vector-fill!"></a><a name="Procedure_subu16vector-fill!"></a><a name="index-subu16vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu16vector-fill!">subu16vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-u16vectors"></a><a name="Procedure_append-u16vectors"></a><a name="index-append_002du16vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-u16vectors">append-u16vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-copy"></a><a name="Procedure_u16vector-copy"></a><a name="index-u16vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-copy">u16vector-copy</a></b></code><i> <var>u16vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-append"></a><a name="Procedure_u16vector-append"></a><a name="index-u16vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-append">u16vector-append</a></b></code><i> <var>u16vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu16vector"></a><a name="Procedure_subu16vector"></a><a name="index-subu16vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu16vector">subu16vector</a></b></code><i> <var>u16vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu16vector-move!"></a><a name="Procedure_subu16vector-move!"></a><a name="index-subu16vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu16vector-move!">subu16vector-move!</a></b></code><i> <var>src-u16vector</var> <var>src-start</var> <var>src-end</var> <var>dst-u16vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u16vector-shrink!"></a><a name="Procedure_u16vector-shrink!"></a><a name="index-u16vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u16vector-shrink!">u16vector-shrink!</a></b></code><i> <var>u16vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_s32vector?"></a><a name="Procedure_s32vector?"></a><a name="index-s32vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector?">s32vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-s32vector"></a><a name="Procedure_make-s32vector"></a><a name="index-make_002ds32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-s32vector">make-s32vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector"></a><a name="Procedure_s32vector"></a><a name="index-s32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector">s32vector</a></b></code><i> <var>exact-int32</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-length"></a><a name="Procedure_s32vector-length"></a><a name="index-s32vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-length">s32vector-length</a></b></code><i> <var>s32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-ref"></a><a name="Procedure_s32vector-ref"></a><a name="index-s32vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-ref">s32vector-ref</a></b></code><i> <var>s32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-set!"></a><a name="Procedure_s32vector-set!"></a><a name="index-s32vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-set!">s32vector-set!</a></b></code><i> <var>s32vector</var> <var>k</var> <var>exact-int32</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-%3Elist"></a><a name="Procedure_s32vector-%3Elist"></a><a name="index-s32vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-%3Elist">s32vector-&gt;list</a></b></code><i> <var>s32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Es32vector"></a><a name="Procedure_list-%3Es32vector"></a><a name="index-list_002d_003es32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Es32vector">list-&gt;s32vector</a></b></code><i> <var>list-of-exact-int32</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-fill!"></a><a name="Procedure_s32vector-fill!"></a><a name="index-s32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-fill!">s32vector-fill!</a></b></code><i> <var>s32vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs32vector-fill!"></a><a name="Procedure_subs32vector-fill!"></a><a name="index-subs32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs32vector-fill!">subs32vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-s32vectors"></a><a name="Procedure_append-s32vectors"></a><a name="index-append_002ds32vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-s32vectors">append-s32vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-copy"></a><a name="Procedure_s32vector-copy"></a><a name="index-s32vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-copy">s32vector-copy</a></b></code><i> <var>s32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-append"></a><a name="Procedure_s32vector-append"></a><a name="index-s32vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-append">s32vector-append</a></b></code><i> <var>s32vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs32vector"></a><a name="Procedure_subs32vector"></a><a name="index-subs32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs32vector">subs32vector</a></b></code><i> <var>s32vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs32vector-move!"></a><a name="Procedure_subs32vector-move!"></a><a name="index-subs32vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs32vector-move!">subs32vector-move!</a></b></code><i> <var>src-s32vector</var> <var>src-start</var> <var>src-end</var> <var>dst-s32vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s32vector-shrink!"></a><a name="Procedure_s32vector-shrink!"></a><a name="index-s32vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s32vector-shrink!">s32vector-shrink!</a></b></code><i> <var>s32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_u32vector?"></a><a name="Procedure_u32vector?"></a><a name="index-u32vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector?">u32vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-u32vector"></a><a name="Procedure_make-u32vector"></a><a name="index-make_002du32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-u32vector">make-u32vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector"></a><a name="Procedure_u32vector"></a><a name="index-u32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector">u32vector</a></b></code><i> <var>exact-int32</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-length"></a><a name="Procedure_u32vector-length"></a><a name="index-u32vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-length">u32vector-length</a></b></code><i> <var>u32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-ref"></a><a name="Procedure_u32vector-ref"></a><a name="index-u32vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-ref">u32vector-ref</a></b></code><i> <var>u32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-set!"></a><a name="Procedure_u32vector-set!"></a><a name="index-u32vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-set!">u32vector-set!</a></b></code><i> <var>u32vector</var> <var>k</var> <var>exact-int32</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-%3Elist"></a><a name="Procedure_u32vector-%3Elist"></a><a name="index-u32vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-%3Elist">u32vector-&gt;list</a></b></code><i> <var>u32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Eu32vector"></a><a name="Procedure_list-%3Eu32vector"></a><a name="index-list_002d_003eu32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Eu32vector">list-&gt;u32vector</a></b></code><i> <var>list-of-exact-int32</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-fill!"></a><a name="Procedure_u32vector-fill!"></a><a name="index-u32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-fill!">u32vector-fill!</a></b></code><i> <var>u32vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu32vector-fill!"></a><a name="Procedure_subu32vector-fill!"></a><a name="index-subu32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu32vector-fill!">subu32vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-u32vectors"></a><a name="Procedure_append-u32vectors"></a><a name="index-append_002du32vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-u32vectors">append-u32vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-copy"></a><a name="Procedure_u32vector-copy"></a><a name="index-u32vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-copy">u32vector-copy</a></b></code><i> <var>u32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-append"></a><a name="Procedure_u32vector-append"></a><a name="index-u32vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-append">u32vector-append</a></b></code><i> <var>u32vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu32vector"></a><a name="Procedure_subu32vector"></a><a name="index-subu32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu32vector">subu32vector</a></b></code><i> <var>u32vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu32vector-move!"></a><a name="Procedure_subu32vector-move!"></a><a name="index-subu32vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu32vector-move!">subu32vector-move!</a></b></code><i> <var>src-u32vector</var> <var>src-start</var> <var>src-end</var> <var>dst-u32vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u32vector-shrink!"></a><a name="Procedure_u32vector-shrink!"></a><a name="index-u32vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u32vector-shrink!">u32vector-shrink!</a></b></code><i> <var>u32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_s64vector?"></a><a name="Procedure_s64vector?"></a><a name="index-s64vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector?">s64vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-s64vector"></a><a name="Procedure_make-s64vector"></a><a name="index-make_002ds64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-s64vector">make-s64vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector"></a><a name="Procedure_s64vector"></a><a name="index-s64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector">s64vector</a></b></code><i> <var>exact-int64</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-length"></a><a name="Procedure_s64vector-length"></a><a name="index-s64vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-length">s64vector-length</a></b></code><i> <var>s64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-ref"></a><a name="Procedure_s64vector-ref"></a><a name="index-s64vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-ref">s64vector-ref</a></b></code><i> <var>s64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-set!"></a><a name="Procedure_s64vector-set!"></a><a name="index-s64vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-set!">s64vector-set!</a></b></code><i> <var>s64vector</var> <var>k</var> <var>exact-int64</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-%3Elist"></a><a name="Procedure_s64vector-%3Elist"></a><a name="index-s64vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-%3Elist">s64vector-&gt;list</a></b></code><i> <var>s64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Es64vector"></a><a name="Procedure_list-%3Es64vector"></a><a name="index-list_002d_003es64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Es64vector">list-&gt;s64vector</a></b></code><i> <var>list-of-exact-int64</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-fill!"></a><a name="Procedure_s64vector-fill!"></a><a name="index-s64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-fill!">s64vector-fill!</a></b></code><i> <var>s64vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs64vector-fill!"></a><a name="Procedure_subs64vector-fill!"></a><a name="index-subs64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs64vector-fill!">subs64vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-s64vectors"></a><a name="Procedure_append-s64vectors"></a><a name="index-append_002ds64vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-s64vectors">append-s64vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-copy"></a><a name="Procedure_s64vector-copy"></a><a name="index-s64vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-copy">s64vector-copy</a></b></code><i> <var>s64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-append"></a><a name="Procedure_s64vector-append"></a><a name="index-s64vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-append">s64vector-append</a></b></code><i> <var>s64vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs64vector"></a><a name="Procedure_subs64vector"></a><a name="index-subs64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs64vector">subs64vector</a></b></code><i> <var>s64vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subs64vector-move!"></a><a name="Procedure_subs64vector-move!"></a><a name="index-subs64vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subs64vector-move!">subs64vector-move!</a></b></code><i> <var>src-s64vector</var> <var>src-start</var> <var>src-end</var> <var>dst-s64vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_s64vector-shrink!"></a><a name="Procedure_s64vector-shrink!"></a><a name="index-s64vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_s64vector-shrink!">s64vector-shrink!</a></b></code><i> <var>s64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_u64vector?"></a><a name="Procedure_u64vector?"></a><a name="index-u64vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector?">u64vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-u64vector"></a><a name="Procedure_make-u64vector"></a><a name="index-make_002du64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-u64vector">make-u64vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector"></a><a name="Procedure_u64vector"></a><a name="index-u64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector">u64vector</a></b></code><i> <var>exact-int64</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-length"></a><a name="Procedure_u64vector-length"></a><a name="index-u64vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-length">u64vector-length</a></b></code><i> <var>u64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-ref"></a><a name="Procedure_u64vector-ref"></a><a name="index-u64vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-ref">u64vector-ref</a></b></code><i> <var>u64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-set!"></a><a name="Procedure_u64vector-set!"></a><a name="index-u64vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-set!">u64vector-set!</a></b></code><i> <var>u64vector</var> <var>k</var> <var>exact-int64</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-%3Elist"></a><a name="Procedure_u64vector-%3Elist"></a><a name="index-u64vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-%3Elist">u64vector-&gt;list</a></b></code><i> <var>u64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Eu64vector"></a><a name="Procedure_list-%3Eu64vector"></a><a name="index-list_002d_003eu64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Eu64vector">list-&gt;u64vector</a></b></code><i> <var>list-of-exact-int64</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-fill!"></a><a name="Procedure_u64vector-fill!"></a><a name="index-u64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-fill!">u64vector-fill!</a></b></code><i> <var>u64vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu64vector-fill!"></a><a name="Procedure_subu64vector-fill!"></a><a name="index-subu64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu64vector-fill!">subu64vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-u64vectors"></a><a name="Procedure_append-u64vectors"></a><a name="index-append_002du64vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-u64vectors">append-u64vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-copy"></a><a name="Procedure_u64vector-copy"></a><a name="index-u64vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-copy">u64vector-copy</a></b></code><i> <var>u64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-append"></a><a name="Procedure_u64vector-append"></a><a name="index-u64vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-append">u64vector-append</a></b></code><i> <var>u64vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu64vector"></a><a name="Procedure_subu64vector"></a><a name="index-subu64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu64vector">subu64vector</a></b></code><i> <var>u64vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subu64vector-move!"></a><a name="Procedure_subu64vector-move!"></a><a name="index-subu64vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subu64vector-move!">subu64vector-move!</a></b></code><i> <var>src-u64vector</var> <var>src-start</var> <var>src-end</var> <var>dst-u64vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u64vector-shrink!"></a><a name="Procedure_u64vector-shrink!"></a><a name="index-u64vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u64vector-shrink!">u64vector-shrink!</a></b></code><i> <var>u64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_f32vector?"></a><a name="Procedure_f32vector?"></a><a name="index-f32vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector?">f32vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-f32vector"></a><a name="Procedure_make-f32vector"></a><a name="index-make_002df32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-f32vector">make-f32vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector"></a><a name="Procedure_f32vector"></a><a name="index-f32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector">f32vector</a></b></code><i> <var>inexact-real</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-length"></a><a name="Procedure_f32vector-length"></a><a name="index-f32vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-length">f32vector-length</a></b></code><i> <var>f32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-ref"></a><a name="Procedure_f32vector-ref"></a><a name="index-f32vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-ref">f32vector-ref</a></b></code><i> <var>f32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-set!"></a><a name="Procedure_f32vector-set!"></a><a name="index-f32vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-set!">f32vector-set!</a></b></code><i> <var>f32vector</var> <var>k</var> <var>inexact-real</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-%3Elist"></a><a name="Procedure_f32vector-%3Elist"></a><a name="index-f32vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-%3Elist">f32vector-&gt;list</a></b></code><i> <var>f32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Ef32vector"></a><a name="Procedure_list-%3Ef32vector"></a><a name="index-list_002d_003ef32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Ef32vector">list-&gt;f32vector</a></b></code><i> <var>list-of-inexact-real</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-fill!"></a><a name="Procedure_f32vector-fill!"></a><a name="index-f32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-fill!">f32vector-fill!</a></b></code><i> <var>f32vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf32vector-fill!"></a><a name="Procedure_subf32vector-fill!"></a><a name="index-subf32vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf32vector-fill!">subf32vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-f32vectors"></a><a name="Procedure_append-f32vectors"></a><a name="index-append_002df32vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-f32vectors">append-f32vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-copy"></a><a name="Procedure_f32vector-copy"></a><a name="index-f32vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-copy">f32vector-copy</a></b></code><i> <var>f32vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-append"></a><a name="Procedure_f32vector-append"></a><a name="index-f32vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-append">f32vector-append</a></b></code><i> <var>f32vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf32vector"></a><a name="Procedure_subf32vector"></a><a name="index-subf32vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf32vector">subf32vector</a></b></code><i> <var>f32vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf32vector-move!"></a><a name="Procedure_subf32vector-move!"></a><a name="index-subf32vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf32vector-move!">subf32vector-move!</a></b></code><i> <var>src-f32vector</var> <var>src-start</var> <var>src-end</var> <var>dst-f32vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f32vector-shrink!"></a><a name="Procedure_f32vector-shrink!"></a><a name="index-f32vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f32vector-shrink!">f32vector-shrink!</a></b></code><i> <var>f32vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<a name="Definition_of_f64vector?"></a><a name="Procedure_f64vector?"></a><a name="index-f64vector_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector?">f64vector?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-f64vector"></a><a name="Procedure_make-f64vector"></a><a name="index-make_002df64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-f64vector">make-f64vector</a></b></code><i> <var>k</var> <span class="roman">[</span><var>fill</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector"></a><a name="Procedure_f64vector"></a><a name="index-f64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector">f64vector</a></b></code><i> <var>inexact-real</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-length"></a><a name="Procedure_f64vector-length"></a><a name="index-f64vector_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-length">f64vector-length</a></b></code><i> <var>f64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-ref"></a><a name="Procedure_f64vector-ref"></a><a name="index-f64vector_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-ref">f64vector-ref</a></b></code><i> <var>f64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-set!"></a><a name="Procedure_f64vector-set!"></a><a name="index-f64vector_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-set!">f64vector-set!</a></b></code><i> <var>f64vector</var> <var>k</var> <var>inexact-real</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-%3Elist"></a><a name="Procedure_f64vector-%3Elist"></a><a name="index-f64vector_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-%3Elist">f64vector-&gt;list</a></b></code><i> <var>f64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_list-%3Ef64vector"></a><a name="Procedure_list-%3Ef64vector"></a><a name="index-list_002d_003ef64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Ef64vector">list-&gt;f64vector</a></b></code><i> <var>list-of-inexact-real</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-fill!"></a><a name="Procedure_f64vector-fill!"></a><a name="index-f64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-fill!">f64vector-fill!</a></b></code><i> <var>f64vector</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf64vector-fill!"></a><a name="Procedure_subf64vector-fill!"></a><a name="index-subf64vector_002dfill_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf64vector-fill!">subf64vector-fill!</a></b></code><i> <var>vector</var> <var>start</var> <var>end</var> <var>fill</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_append-f64vectors"></a><a name="Procedure_append-f64vectors"></a><a name="index-append_002df64vectors"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_append-f64vectors">append-f64vectors</a></b></code><i> <var>lst</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-copy"></a><a name="Procedure_f64vector-copy"></a><a name="index-f64vector_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-copy">f64vector-copy</a></b></code><i> <var>f64vector</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-append"></a><a name="Procedure_f64vector-append"></a><a name="index-f64vector_002dappend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-append">f64vector-append</a></b></code><i> <var>f64vector</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf64vector"></a><a name="Procedure_subf64vector"></a><a name="index-subf64vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf64vector">subf64vector</a></b></code><i> <var>f64vector</var> <var>start</var> <var>end</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_subf64vector-move!"></a><a name="Procedure_subf64vector-move!"></a><a name="index-subf64vector_002dmove_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_subf64vector-move!">subf64vector-move!</a></b></code><i> <var>src-f64vector</var> <var>src-start</var> <var>src-end</var> <var>dst-f64vector</var> <var>dst-start</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_f64vector-shrink!"></a><a name="Procedure_f64vector-shrink!"></a><a name="index-f64vector_002dshrink_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_f64vector-shrink!">f64vector-shrink!</a></b></code><i> <var>f64vector</var> <var>k</var></i><code>)</code></td><td align="right">procedure</td></tr></table>


<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v (u8vector 10 255 13))</b>
&gt; <b>(u8vector-set! v 2 99)</b>
&gt; <b>v</b>
#u8(10 255 99)
&gt; <b>(u8vector-ref v 1)</b>
255
&gt; <b>(u8vector-&gt;list v)</b>
(10 255 99)
&gt; <b>(u8vector-shrink! v 2)</b>
&gt; <b>(v)</b>
#u8(10 255)
</pre></td></tr></table>

<a name="Definition_of_object-%3Eu8vector"></a><a name="Procedure_object-%3Eu8vector"></a><a name="index-object_002d_003eu8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_object-%3Eu8vector">object-&gt;u8vector</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>encoder</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_u8vector-%3Eobject"></a><a name="Procedure_u8vector-%3Eobject"></a><a name="index-u8vector_002d_003eobject"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_u8vector-%3Eobject">u8vector-&gt;object</a></b></code><i> <var>u8vector</var> <span class="roman">[</span><var>decoder</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-serialization"></a>
<a name="index-deserialization"></a>

<p>The procedure <code>object-&gt;u8vector</code> returns a u8vector that contains
the sequence of bytes that encodes the object <var>obj</var>.  The
procedure <code>u8vector-&gt;object</code> decodes the sequence of bytes
contained in the u8vector <var>u8vector</var>, which was produced by the
procedure <code>object-&gt;u8vector</code>, and reconstructs an object
structurally equal to the original object.  In other words the
procedures <code>object-&gt;u8vector</code> and <code>u8vector-&gt;object</code>
respectively perform serialization and deserialization of Scheme
objects.  Note that some objects are non-serializable (e.g. threads,
wills, some types of ports, and any object containing a
non-serializable object).
</p>
<p>The optional <var>encoder</var> and <var>decoder</var> parameters are single
parameter procedures which default to the identity function.  The
<var>encoder</var> procedure is called during serialization.  As the
serializer walks through <var>obj</var>, it calls the <var>encoder</var>
procedure on each sub-object <var>X</var> that is encountered.  The
<var>encoder</var> transforms the object <var>X</var> into an object <var>Y</var>
that will be serialized instead of <var>X</var>.  Similarly the
<var>decoder</var> procedure is called during deserialization.  When an
object <var>Y</var> is encountered, the <var>decoder</var> procedure is called
to transform it into the object <var>X</var> that is the result of
deserialization.
</p>
<p>The <var>encoder</var> and <var>decoder</var> procedures are useful to customize
the serialized representation of objects.  In particular, it can be
used to define the semantics of serializing objects, such as threads
and ports, that would otherwise not be serializable.  The
<var>decoder</var> procedure is typically the inverse of the <var>encoder</var>
procedure, i.e. <code>(<var>decoder</var> (<var>encoder</var> <var>X</var>))</code> =
<code><var>X</var></code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (make-adder x) (lambda (y) (+ x y)))</b>
&gt; <b>(define f (make-adder 10))</b>
&gt; <b>(define a (object-&gt;u8vector f))</b>
&gt; <b>(define b (u8vector-&gt;object a))</b>
&gt; <b>(u8vector-length a)</b>
1639
&gt; <b>(f 5)</b>
15
&gt; <b>(b 5)</b>
15
&gt; <b>(pp b)</b>
(lambda (y) (+ x y))
</pre></td></tr></table>



<a name="Hashing-and-weak-references"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Hashing" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Homogeneous-vectors" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Records" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Hashing-and-weak-references-1"></a>
<h1 class="chapter">11. Hashing and weak references</h1>
<a name="index-hashing"></a>
<a name="index-weak-references"></a>
<a name="index-tables"></a>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Hashing">11.1 Hashing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Weak-references">11.2 Weak references</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Hashing"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Weak-references" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Records" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Hashing-1"></a>
<h2 class="section">11.1 Hashing</h2>

<a name="Definition_of_object-%3Eserial-number"></a><a name="Procedure_object-%3Eserial-number"></a><a name="index-object_002d_003eserial_002dnumber"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_object-%3Eserial-number">object-&gt;serial-number</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_serial-number-%3Eobject"></a><a name="Procedure_serial-number-%3Eobject"></a><a name="index-serial_002dnumber_002d_003eobject"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_serial-number-%3Eobject">serial-number-&gt;object</a></b></code><i> <var>n</var> <span class="roman">[</span><var>default</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>All Scheme objects are uniquely identified with a serial number which
is a nonnegative exact integer.  The <code>object-&gt;serial-number</code> procedure
returns the serial number of object <var>obj</var>.  This serial number is
only allocated the first time the <code>object-&gt;serial-number</code>
procedure is called on that object.  Objects which do not have an
external textual representation that can be read by the <code>read</code>
procedure, use an external textual representation that includes a
serial number of the form <code>#<var>n</var></code>.  Consequently, the
procedures <code>write</code>, <code>pretty-print</code>, etc will call the
<code>object-&gt;serial-number</code> procedure to get the serial number, and
this may cause the serial number to be allocated.
</p>
<p>The <code>serial-number-&gt;object</code> procedure takes an exact integer
parameter <var>n</var> and returns the object whose serial number is
<var>n</var>.  If no object currently exists with that serial number,
<var>default</var> is returned if it is specified, otherwise an
unbound-serial-number-exception object is raised.  The reader defines
the following abbreviation for calling <code>serial-number-&gt;object</code>:
the syntax <code>#<var>n</var></code>, where <var>n</var> is a sequence of decimal
digits and it is not followed by &lsquo;<samp><code>=</code></samp>&rsquo; or &lsquo;<samp><code>#</code></samp>&rsquo;,
is equivalent to the list <code>(serial-number-&gt;object <var>n</var>)</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define z (list (lambda (x) (* x x)) (lambda (y) (/ 1 y))))</b>
&gt; <b>z</b>
(#&lt;procedure #2&gt; #&lt;procedure #3&gt;)
&gt; <b>(#3 10)</b>
1/10
&gt; <b>'(#3 10)</b>
((serial-number-&gt;object 3) 10)
&gt; <b>car</b>
#&lt;procedure #4 car&gt;
&gt; <b>(#4 z)</b>
#&lt;procedure #2&gt;
</pre></td></tr></table>



<a name="Definition_of_unbound-serial-number-exception?"></a><a name="Procedure_unbound-serial-number-exception?"></a><a name="index-unbound_002dserial_002dnumber_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-serial-number-exception?">unbound-serial-number-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-serial-number-exception-procedure"></a><a name="Procedure_unbound-serial-number-exception-procedure"></a><a name="index-unbound_002dserial_002dnumber_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-serial-number-exception-procedure">unbound-serial-number-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-serial-number-exception-arguments"></a><a name="Procedure_unbound-serial-number-exception-arguments"></a><a name="index-unbound_002dserial_002dnumber_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-serial-number-exception-arguments">unbound-serial-number-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unbound-serial-number-exception objects are raised by the procedure
<code>serial-number-&gt;object</code> when no object currently exists with that
serial number.  The parameter <var>exc</var> must be an
unbound-serial-number-exception object.
</p>
<p>The procedure <code>unbound-serial-number-exception?</code> returns
<code>#t</code> when <var>obj</var> is a unbound-serial-number-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unbound-serial-number-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>unbound-serial-number-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (unbound-serial-number-exception? exc)
        (list (unbound-serial-number-exception-procedure exc)
              (unbound-serial-number-exception-arguments exc))
        'not-unbound-serial-number-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (serial-number-&gt;object 1000)))</b>
(#&lt;procedure #2 serial-number-&gt;object&gt; (1000))
</pre></td></tr></table>



<a name="Definition_of_symbol-hash"></a><a name="Procedure_symbol-hash"></a><a name="index-symbol_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_symbol-hash">symbol-hash</a></b></code><i> <var>symbol</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>symbol-hash</code> procedure returns the hash number of the symbol
<var>symbol</var>.  The hash number is a small exact integer (fixnum).
When <var>symbol</var> is an interned symbol the value returned is the same
as <code>(string=?-hash (symbol-&gt;string <var>symbol</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(symbol-hash 'car)</b>
444471047
</pre></td></tr></table>



<a name="Definition_of_keyword-hash"></a><a name="Procedure_keyword-hash"></a><a name="index-keyword_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword-hash">keyword-hash</a></b></code><i> <var>keyword</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>keyword-hash</code> procedure returns the hash number of the
keyword <var>keyword</var>.  The hash number is a small exact integer
(fixnum).  When <var>keyword</var> is an interned keyword the value
returned is the same as <code>(string=?-hash (keyword-&gt;string
<var>keyword</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(keyword-hash car:)</b>
444471047
</pre></td></tr></table>



<a name="Definition_of_string=?-hash"></a><a name="Procedure_string=?-hash"></a><a name="index-string_003d_003f_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string=?-hash">string=?-hash</a></b></code><i> <var>string</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>string=?-hash</code> procedure returns the hash number of the
string <var>string</var>.  The hash number is a small exact integer
(fixnum).  For any two strings <var>s1</var> and <var>s2</var>, <code>(string=?
<var>s1</var> <var>s2</var>)</code> implies <code>(= (string=?-hash <var>s1</var>)
(string=?-hash <var>s2</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(string=?-hash &quot;car&quot;)</b>
444471047
</pre></td></tr></table>



<a name="Definition_of_string-ci=?-hash"></a><a name="Procedure_string-ci=?-hash"></a><a name="index-string_002dci_003d_003f_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_string-ci=?-hash">string-ci=?-hash</a></b></code><i> <var>string</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>string-ci=?-hash</code> procedure returns the hash number of the
string <var>string</var>.  The hash number is a small exact integer
(fixnum).  For any two strings <var>s1</var> and <var>s2</var>, <code>(string-ci=?
<var>s1</var> <var>s2</var>)</code> implies <code>(= (string-ci=?-hash <var>s1</var>)
(string-ci=?-hash <var>s2</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(string-ci=?-hash &quot;CaR&quot;)</b>
444471047
</pre></td></tr></table>



<a name="Definition_of_eq?-hash"></a><a name="Procedure_eq?-hash"></a><a name="index-eq_003f_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_eq?-hash">eq?-hash</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>eq?-hash</code> procedure returns the hash number of the object
<var>obj</var>.  The hash number is a small exact integer (fixnum).  For
any two objects <var>o1</var> and <var>o2</var>, <code>(eq? <var>o1</var> <var>o2</var>)</code>
implies <code>(= (eq?-hash <var>o1</var>) (eq?-hash <var>o2</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(eq?-hash #t)</b>
536870910
</pre></td></tr></table>



<a name="Definition_of_eqv?-hash"></a><a name="Procedure_eqv?-hash"></a><a name="index-eqv_003f_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_eqv?-hash">eqv?-hash</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>eqv?-hash</code> procedure returns the hash number of the object
<var>obj</var>.  The hash number is a small exact integer (fixnum).  For
any two objects <var>o1</var> and <var>o2</var>, <code>(eqv? <var>o1</var> <var>o2</var>)</code>
implies <code>(= (eqv?-hash <var>o1</var>) (eqv?-hash <var>o2</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(eqv?-hash 1.5)</b>
496387656
</pre></td></tr></table>



<a name="Definition_of_equal?-hash"></a><a name="Procedure_equal?-hash"></a><a name="index-equal_003f_002dhash"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_equal?-hash">equal?-hash</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>equal?-hash</code> procedure returns the hash number of the object
<var>obj</var>.  The hash number is a small exact integer (fixnum).  For
any two objects <var>o1</var> and <var>o2</var>, <code>(equal? <var>o1</var> <var>o2</var>)</code>
implies <code>(= (equal?-hash <var>o1</var>) (equal?-hash <var>o2</var>))</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(equal?-hash (list 1 2 3))</b>
442438567
</pre></td></tr></table>



<a name="Weak-references"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Hashing" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Wills" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Records" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Weak-references-1"></a>
<h2 class="section">11.2 Weak references</h2>

<p>The garbage collector is responsible for reclaiming objects that are
no longer needed by the program.  This is done by analyzing the
reachability graph of all objects from the roots (i.e. the global
variables, the runnable threads, permanently allocated objects such as
procedures defined in a compiled file, nonexecutable wills, etc).  If
a root or a reachable object <var>X</var> contains a reference to an object
<var>Y</var> then <var>Y</var> is reachable.  As a general rule, unreachable
objects are reclaimed by the garbage collector.
</p>
<p>There are two types of references: strong references and weak
references.  Most objects, including pairs, vectors, records and
closures, contain strong references.  An object <var>X</var> is
<em>strongly reachable</em> if there is a path from the roots to <var>X</var>
that traverses only strong references.  Weak references only occur in
wills and tables.  There are two types of weak references: will-weak
references and table-weak references.  If all paths from the roots to
an object <var>Y</var> traverse at least one table-weak reference, then
<var>Y</var> will be reclaimed by the garbage collector.  The will-weak
references are used for finalization and are explained in the next
section.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Wills">11.2.1 Wills</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Tables">11.2.2 Tables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Wills"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Weak-references" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Tables" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Weak-references" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Records" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Wills-1"></a>
<h3 class="subsection">11.2.1 Wills</h3>

<p>The following procedures implement the <em>will</em> data type.  Will
objects provide support for finalization.  A will is an object that
contains a will-weak reference to a <var>testator</var> object (the object
attached to the will), and a strong reference to an <var>action</var>
procedure which is a one parameter procedure which is called when the
will is executed.
</p>
<a name="Definition_of_make-will"></a><a name="Procedure_make-will"></a><a name="index-make_002dwill"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-will">make-will</a></b></code><i> <var>testator</var> <var>action</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_will?"></a><a name="Procedure_will?"></a><a name="index-will_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_will?">will?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_will-testator"></a><a name="Procedure_will-testator"></a><a name="index-will_002dtestator"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_will-testator">will-testator</a></b></code><i> <var>will</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_will-execute!"></a><a name="Procedure_will-execute!"></a><a name="index-will_002dexecute_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_will-execute!">will-execute!</a></b></code><i> <var>will</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>make-will</code> procedure creates a will object with the given
<var>testator</var> object and <var>action</var> procedure.  The <code>will?</code>
procedure tests if <var>obj</var> is a will object.  The
<code>will-testator</code> procedure gets the testator object attached to
the <var>will</var>.  The <code>will-execute!</code> procedure executes
<var>will</var>.
</p>
<p>A will becomes <em>executable</em> when its <var>testator</var> object is not
strongly reachable (i.e. the <var>testator</var> object is either
unreachable or only reachable using paths from the roots that traverse
at least one weak reference).  Some objects, including symbols, small
exact integers (fixnums), booleans and characters, are considered to
be always strongly reachable.
</p>
<p>When the runtime system detects that a will has become executable the
current computation is interrupted, the will&rsquo;s testator is set to
<code>#f</code> and the will&rsquo;s action procedure is called with the will&rsquo;s
testator as the sole argument.  Currently only the garbage collector
detects when wills become executable but this may change in future
versions of Gambit (for example the compiler could perform an analysis
to infer will executability at compile time).  The garbage collector
builds a list of all executable wills.  Shortly after a garbage
collection, the action procedures of these wills will be called.  The
link from the will to the action procedure is severed when the action
procedure is called.
</p>
<p>Note that the testator object will not be reclaimed during the garbage
collection that determined executability of the will.  It is only when
an object is not reachable from the roots that it is reclaimed by the
garbage collector.
</p>
<p>A remarkable feature of wills is that an action procedure can
&ldquo;resurrect&rdquo; an object.  An action procedure could for example assign
the testator object to a global variable or create a new will with the
same testator object.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define a (list 123))</b>
&gt; <b>(set-cdr! a a) <span class="roman"><i>; create a circular list</i></span></b>
&gt; <b>(define b (vector a))</b>
&gt; <b>(define c #f)</b>
&gt; <b>(define w
    (let ((obj a))
      (make-will obj
                 (lambda (x) ; x will be eq? to obj
                   (display &quot;executing action procedure&quot;)
                   (newline)
                   (set! c x)))))</b>
&gt; <b>(will? w)</b>
#t
&gt; <b>(car (will-testator w))</b>
123
&gt; <b>(##gc)</b>
&gt; <b>(set! a #f)</b>
&gt; <b>(##gc)</b>
&gt; <b>(set! b #f)</b>
&gt; <b>(##gc)</b>
executing action procedure
&gt; <b>(will-testator w)</b>
#f
&gt; <b>(car c)</b>
123
</pre></td></tr></table>



<a name="Tables"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Wills" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Records" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Weak-references" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Records" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Tables-1"></a>
<h3 class="subsection">11.2.2 Tables</h3>

<p>The following procedures implement the <em>table</em> data type.  Tables
are heterogenous structures whose elements are indexed by keys which
are arbitrary objects.  Tables are similar to association lists but
are abstract and the access time for large tables is typically smaller.
Each key contained in the table is bound to a value.  The length of
the table is the number of key/value bindings it contains.  New
key/value bindings can be added to a table, the value bound to a key
can be changed, and existing key/value bindings can be removed.
</p>
<p>The references to the keys can either be all strong or all table-weak
and the references to the values can either be all strong or all
table-weak.  The garbage collector removes key/value bindings from a
table when 1) the key is a table-weak reference and the key is
unreachable or only reachable using paths from the roots that traverse
at least one table-weak reference, or 2) the value is a table-weak
reference and the value is unreachable or only reachable using paths
from the roots that traverse at least one table-weak reference.
Key/value bindings that are removed by the garbage collector are
reclaimed immediately.
</p>
<p>Although there are several possible ways of implementing tables, the
current implementation uses hashing with open-addressing.  This is
space efficient and provides constant-time access.  Hash tables are
automatically resized to maintain the load within specified bounds.
The load is the number of active entries (the length of the table)
divided by the total number of entries in the hash table.
</p>
<p>Tables are parameterized with a key comparison procedure.  By default
the <code>equal?</code> procedure is used, but <code>eq?</code>, <code>eqv?</code>,
<code>string=?</code>, <code>string-ci=?</code>, or a user defined procedure can
also be used.  To support arbitrary key comparison procedures, tables
are also parameterized with a hashing procedure accepting a key as its
single parameter and returning a fixnum result.  The hashing procedure
<var>hash</var> must be consistent with the key comparison procedure
<var>test</var>, that is, for any two keys <var>k1</var> and <var>k2</var> in the
table, <code>(<var>test</var> <var>k1</var> <var>k2</var>)</code> implies <code>(=
(<var>hash</var> <var>k1</var>) (<var>hash</var> <var>k2</var>))</code>.  A default hashing
procedure consistent with the key comparison procedure is provided by
the system.  The default hashing procedure generally gives good
performance when the key comparison procedure is <code>eq?</code>,
<code>eqv?</code>, <code>equal?</code>, <code>string=?</code>, and <code>string-ci=?</code>.
However, for user defined key comparison procedures, the default
hashing procedure always returns 0.  This degrades the performance of
the table to a linear search.
</p>
<p>Tables can be compared for equality using the <code>equal?</code> procedure.
Two tables <code><var>X</var></code> and <code><var>Y</var></code> are considered equal by
<code>equal?</code> when they have the same weakness attributes, the same
key comparison procedure, the same hashing procedure, the same length,
and for all the keys <code><var>k</var></code> in <code><var>X</var></code>, <code>(equal?
(table-ref <var>X</var> <var>k</var>) (table-ref <var>Y</var> <var>k</var>))</code>.
</p>
<a name="Definition_of_make-table"></a><a name="Procedure_make-table"></a><a name="index-make_002dtable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-table">make-table</a></b></code><i> <span class="roman">[</span><code>size:</code> <var>size</var><span class="roman">]</span> <span class="roman">[</span><code>init:</code> <var>init</var><span class="roman">]</span> <span class="roman">[</span><code>weak-keys:</code> <var>weak-keys</var><span class="roman">]</span> <span class="roman">[</span><code>weak-values:</code> <var>weak-values</var><span class="roman">]</span> <span class="roman">[</span><code>test:</code> <var>test</var><span class="roman">]</span> <span class="roman">[</span><code>hash:</code> <var>hash</var><span class="roman">]</span> <span class="roman">[</span><code>min-load:</code> <var>min-load</var><span class="roman">]</span> <span class="roman">[</span><code>max-load:</code> <var>max-load</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>make-table</code> returns a new table.  The optional keyword
parameters specify various parameters of the table.
</p>
<p>The <var>size</var> parameter is a nonnegative exact integer indicating
the expected length of the table.  The system uses <var>size</var> to
choose an appropriate initial size of the hash table so that it does not
need to be resized too often.
</p>
<p>The <var>init</var> parameter indicates a value that is associated to keys
that are not in the table.  When <var>init</var> is not specified, no value
is associated to keys that are not in the table.
</p>
<p>The <var>weak-keys</var> and <var>weak-values</var> parameters are extended
booleans indicating respectively whether the keys and values are
table-weak references (true) or strong references (false).  By default
the keys and values are strong references.
</p>
<p>The <var>test</var> parameter indicates the key comparison procedure.  The
default key comparison procedure is <code>equal?</code>.  The key comparison
procedures <code>eq?</code>, <code>eqv?</code>, <code>equal?</code>, <code>string=?</code>,
and <code>string-ci=?</code> are special because the system will use a
reasonably good hash procedure when none is specified.
</p>
<p>The <var>hash</var> parameter indicates the hash procedure.  This procedure
must accept a single key parameter, return a fixnum, and be consistent
with the key comparison procedure.  When <var>hash</var> is not specified, a
default hash procedure is used.  The default hash procedure is
reasonably good when the key comparison procedure is <code>eq?</code>,
<code>eqv?</code>, <code>equal?</code>, <code>string=?</code>, or <code>string-ci=?</code>.
</p>
<p>The <var>min-load</var> and <var>max-load</var> parameters are real numbers that
indicate the minimum and maximum load of the table respectively.  The
table is resized when adding or deleting a key/value binding would
bring the table&rsquo;s load outside of this range.  The <var>min-load</var>
parameter must be no less than 0.05 and the <var>max-load</var> parameter
must be no greater than 0.95.  Moreover the difference between
<var>min-load</var> and <var>max-load</var> must be at least 0.20.  When
<var>min-load</var> is not specified, the value 0.45 is used.  When
<var>max-load</var> is not specified, the value 0.90 is used.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (make-table))</b>
&gt; <b>(table? t)</b>
#t
&gt; <b>(table-length t)</b>
0
&gt; <b>(table-set! t (list 1 2) 3)</b>
&gt; <b>(table-set! t (list 4 5) 6)</b>
&gt; <b>(table-ref t (list 1 2))</b>
3
&gt; <b>(table-length t)</b>
2
</pre></td></tr></table>



<a name="Definition_of_table?"></a><a name="Procedure_table?"></a><a name="index-table_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table?">table?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table?</code> returns <code>#t</code> when <var>obj</var> is a
table and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(table? (make-table))</b>
#t
&gt; <b>(table? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_table-length"></a><a name="Procedure_table-length"></a><a name="index-table_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-length">table-length</a></b></code><i> <var>table</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-length</code> returns the number of key/value
bindings contained in the table <var>table</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (make-table weak-keys: #t))</b>
&gt; <b>(define x (list 1 2))</b>
&gt; <b>(define y (list 3 4))</b>
&gt; <b>(table-set! t x 111)</b>
&gt; <b>(table-set! t y 222)</b>
&gt; <b>(table-length t)</b>
2
&gt; <b>(table-set! t x)</b>
&gt; <b>(table-length t)</b>
1
&gt; <b>(##gc)</b>
&gt; <b>(table-length t)</b>
1
&gt; <b>(set! y #f)</b>
&gt; <b>(##gc)</b>
&gt; <b>(table-length t)</b>
0
</pre></td></tr></table>



<a name="Definition_of_table-ref"></a><a name="Procedure_table-ref"></a><a name="index-table_002dref"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-ref">table-ref</a></b></code><i> <var>table</var> <var>key</var> <span class="roman">[</span><var>default</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-ref</code> returns the value bound to the object
<var>key</var> in the table <var>table</var>.  When <var>key</var> is not bound and
<var>default</var> is specified, <var>default</var> is returned.  When
<var>default</var> is not specified but an <var>init</var> parameter was
specified when <var>table</var> was created, <var>init</var> is returned.
Otherwise an unbound-table-key-exception object is raised.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t1 (make-table init: 999))</b>
&gt; <b>(table-set! t1 (list 1 2) 3)</b>
&gt; <b>(table-ref t1 (list 1 2))</b>
3
&gt; <b>(table-ref t1 (list 4 5))</b>
999
&gt; <b>(table-ref t1 (list 4 5) #f)</b>
#f
&gt; <b>(define t2 (make-table))</b>
&gt; <b>(table-ref t2 (list 4 5))</b>
*** ERROR IN (console)@7.1 -- Unbound table key
(table-ref '#&lt;table #2&gt; '(4 5))
</pre></td></tr></table>



<a name="Definition_of_table-set!"></a><a name="Procedure_table-set!"></a><a name="index-table_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-set!">table-set!</a></b></code><i> <var>table</var> <var>key</var> <span class="roman">[</span><var>value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-set!</code> binds the object <var>key</var> to
<var>value</var> in the table <var>table</var>.  When <var>value</var> is not
specified, if <var>table</var> contains a binding for <var>key</var> then the
binding is removed from <var>table</var>.  The procedure <code>table-set!</code>
returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (make-table))</b>
&gt; <b>(table-set! t (list 1 2) 3)</b>
&gt; <b>(table-set! t (list 4 5) 6)</b>
&gt; <b>(table-set! t (list 4 5))</b>
&gt; <b>(table-set! t (list 7 8))</b>
&gt; <b>(table-ref t (list 1 2))</b>
3
&gt; <b>(table-ref t (list 4 5))</b>
*** ERROR IN (console)@7.1 -- Unbound table key
(table-ref '#&lt;table #2&gt; '(4 5))
</pre></td></tr></table>



<a name="Definition_of_table-search"></a><a name="Procedure_table-search"></a><a name="index-table_002dsearch"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-search">table-search</a></b></code><i> <var>proc</var> <var>table</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-search</code> searches the table <var>table</var> for a
key/value binding for which the two parameter procedure <var>proc</var>
returns a non false result.  For each key/value binding visited by
<code>table-search</code> the procedure <var>proc</var> is called with the key as
the first parameter and the value as the second parameter.  The
procedure <code>table-search</code> returns the first non false value
returned by <var>proc</var>, or <code>#f</code> if <var>proc</var> returned <code>#f</code>
for all key/value bindings in <var>table</var>.
</p>
<p>The order in which the key/value bindings are visited is unspecified
and may vary from one call of <code>table-search</code> to the next.  While
a call to <code>table-search</code> is being performed on <var>table</var>, it is
an error to call any of the following procedures on <var>table</var>:
<code>table-ref</code>, <code>table-set!</code>, <code>table-search</code>,
<code>table-for-each</code>, <code>table-copy</code>, <code>table-merge</code>,
<code>table-merge!</code>, and <code>table-&gt;list</code>.  It is also an error to
compare with <code>equal?</code> (directly or indirectly with <code>member</code>,
<code>assoc</code>, <code>table-ref</code>, etc.) an object that contains
<var>table</var>.  All these procedures may cause <var>table</var> to be
reordered and resized.  This restriction allows a more efficient
iteration over the key/value bindings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define square (make-table))</b>
&gt; <b>(table-set! square 2 4)</b>
&gt; <b>(table-set! square 3 9)</b>
&gt; <b>(table-search (lambda (k v) (and (odd? k) v)) square)</b>
9
</pre></td></tr></table>



<a name="Definition_of_table-for-each"></a><a name="Procedure_table-for-each"></a><a name="index-table_002dfor_002deach"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-for-each">table-for-each</a></b></code><i> <var>proc</var> <var>table</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-for-each</code> calls the two parameter procedure
<var>proc</var> for each key/value binding in the table <var>table</var>.  The
procedure <var>proc</var> is called with the key as the first parameter and
the value as the second parameter.  The procedure <code>table-for-each</code>
returns an unspecified value.
</p>
<p>The order in which the key/value bindings are visited is unspecified
and may vary from one call of <code>table-for-each</code> to the next.
While a call to <code>table-for-each</code> is being performed on
<var>table</var>, it is an error to call any of the following procedures on
<var>table</var>: <code>table-ref</code>, <code>table-set!</code>, <code>table-search</code>,
<code>table-for-each</code>, and <code>table-&gt;list</code>.  It is also an error to
compare with <code>equal?</code> (directly or indirectly with <code>member</code>,
<code>assoc</code>, <code>table-ref</code>, etc.) an object that contains
<var>table</var>.  All these procedures may cause <var>table</var> to be
reordered and resized.  This restriction allows a more efficient
iteration over the key/value bindings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define square (make-table))</b>
&gt; <b>(table-set! square 2 4)</b>
&gt; <b>(table-set! square 3 9)</b>
&gt; <b>(table-for-each (lambda (k v) (write (list k v)) (newline)) square)</b>
(2 4)
(3 9)
</pre></td></tr></table>



<a name="Definition_of_table-%3Elist"></a><a name="Procedure_table-%3Elist"></a><a name="index-table_002d_003elist"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-%3Elist">table-&gt;list</a></b></code><i> <var>table</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-&gt;list</code> returns an association list
containing the key/value bindings in the table <var>table</var>.  Each
key/value binding yields a pair whose car field is the key and whose
cdr field is the value bound to that key.  The order of the bindings
in the list is unspecified.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define square (make-table))</b>
&gt; <b>(table-set! square 2 4)</b>
&gt; <b>(table-set! square 3 9)</b>
&gt; <b>(table-&gt;list square)</b>
((3 . 9) (2 . 4))
</pre></td></tr></table>



<a name="Definition_of_list-%3Etable"></a><a name="Procedure_list-%3Etable"></a><a name="index-list_002d_003etable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_list-%3Etable">list-&gt;table</a></b></code><i> <var>list</var> <span class="roman">[</span><code>size:</code> <var>size</var><span class="roman">]</span> <span class="roman">[</span><code>init:</code> <var>init</var><span class="roman">]</span> <span class="roman">[</span><code>weak-keys:</code> <var>weak-keys</var><span class="roman">]</span> <span class="roman">[</span><code>weak-values:</code> <var>weak-values</var><span class="roman">]</span> <span class="roman">[</span><code>test:</code> <var>test</var><span class="roman">]</span> <span class="roman">[</span><code>hash:</code> <var>hash</var><span class="roman">]</span> <span class="roman">[</span><code>min-load:</code> <var>min-load</var><span class="roman">]</span> <span class="roman">[</span><code>max-load:</code> <var>max-load</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>list-&gt;table</code> returns a new table containing the
key/value bindings in the association list <var>list</var>.  The optional
keyword parameters specify various parameters of the table and have
the same meaning as for the <code>make-table</code> procedure.
</p>
<p>Each element of <var>list</var> is a pair whose car field is a key and
whose cdr field is the value bound to that key.  If a key appears more
than once in <var>list</var> (tested using the table&rsquo;s key comparison
procedure) it is the first key/value binding in <var>list</var> that has
precedence.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (list-&gt;table '((b . 2) (a . 1) (c . 3) (a . 4))))</b>
&gt; <b>(table-&gt;list t)</b>
((a . 1) (b . 2) (c . 3))
</pre></td></tr></table>



<a name="Definition_of_unbound-table-key-exception?"></a><a name="Procedure_unbound-table-key-exception?"></a><a name="index-unbound_002dtable_002dkey_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-table-key-exception?">unbound-table-key-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-table-key-exception-procedure"></a><a name="Procedure_unbound-table-key-exception-procedure"></a><a name="index-unbound_002dtable_002dkey_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-table-key-exception-procedure">unbound-table-key-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-table-key-exception-arguments"></a><a name="Procedure_unbound-table-key-exception-arguments"></a><a name="index-unbound_002dtable_002dkey_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-table-key-exception-arguments">unbound-table-key-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unbound-table-key-exception objects are raised by the procedure
<code>table-ref</code> when the key does not have a binding in the table.
The parameter <var>exc</var> must be an unbound-table-key-exception object.
</p>
<p>The procedure <code>unbound-table-key-exception?</code> returns
<code>#t</code> when <var>obj</var> is a unbound-table-key-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unbound-table-key-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>unbound-table-key-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (make-table))</b>
&gt; <b>(define (handler exc)
    (if (unbound-table-key-exception? exc)
        (list (unbound-table-key-exception-procedure exc)
              (unbound-table-key-exception-arguments exc))
        'not-unbound-table-key-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (table-ref t '(1 2))))</b>
(#&lt;procedure #2 table-ref&gt; (#&lt;table #3&gt; (1 2)))
</pre></td></tr></table>



<a name="Definition_of_table-copy"></a><a name="Procedure_table-copy"></a><a name="index-table_002dcopy"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-copy">table-copy</a></b></code><i> <var>table</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-copy</code> returns a new table containing the
same key/value bindings as <var>table</var> and the same table parameters
(i.e. hash procedure, key comparison procedure, key and value
weakness, etc).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t (list-&gt;table '((b . 2) (a . 1) (c . 3))))</b>
&gt; <b>(define x (table-copy t))</b>
&gt; <b>(table-set! t 'b 99)</b>
&gt; <b>(table-&gt;list t)</b>
((a . 1) (b . 99) (c . 3))
&gt; <b>(table-&gt;list x)</b>
((a . 1) (b . 2) (c . 3))
</pre></td></tr></table>



<a name="Definition_of_table-merge!"></a><a name="Procedure_table-merge!"></a><a name="index-table_002dmerge_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-merge!">table-merge!</a></b></code><i> <var>table1</var> <var>table2</var> <span class="roman">[</span><var>table2-takes-precedence?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-merge!</code> returns <var>table1</var> after the
key/value bindings contained in <var>table2</var> have been added to it.
When a key exists both in <var>table1</var> and <var>table2</var>, then the
parameter <var>table2-takes-precedence?</var> indicates which binding will
be kept (the one in <var>table1</var> if <var>table2-takes-precedence?</var>  is
false, and the one in <var>table2</var> otherwise).  If
<var>table2-takes-precedence?</var> is not specified the binding in
<var>table1</var> is kept.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t1 (list-&gt;table '((a . 1) (b . 2) (c . 3))))</b>
&gt; <b>(define t2 (list-&gt;table '((a . 4) (b . 5) (z . 6))))</b>
&gt; <b>(table-&gt;list (table-merge! t1 t2))</b>
((a . 1) (b . 2) (c . 3) (z . 6))
&gt; <b>(define t1 (list-&gt;table '((a . 1) (b . 2) (c . 3))))</b>
&gt; <b>(define t2 (list-&gt;table '((a . 4) (b . 5) (z . 6))))</b>
&gt; <b>(table-&gt;list (table-merge! t1 t2 #t))</b>
((a . 4) (b . 5) (c . 3) (z . 6))
</pre></td></tr></table>



<a name="Definition_of_table-merge"></a><a name="Procedure_table-merge"></a><a name="index-table_002dmerge"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_table-merge">table-merge</a></b></code><i> <var>table1</var> <var>table2</var> <span class="roman">[</span><var>table2-takes-precedence?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>table-merge</code> returns a copy of <var>table1</var>
(created with <code>table-copy</code>) to which the key/value bindings
contained in <var>table2</var> have been added using <code>table-merge!</code>.
When a key exists both in <var>table1</var> and <var>table2</var>, then the
parameter <var>table2-takes-precedence?</var>  indicates which binding will
be kept (the one in <var>table1</var> if <var>table2-takes-precedence?</var>  is
false, and the one in <var>table2</var> otherwise).  If
<var>table2-takes-precedence?</var> is not specified the binding in
<var>table1</var> is kept.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define t1 (list-&gt;table '((a . 1) (b . 2) (c . 3))))</b>
&gt; <b>(define t2 (list-&gt;table '((a . 4) (b . 5) (z . 6))))</b>
&gt; <b>(table-&gt;list (table-merge t1 t2))</b>
((a . 1) (b . 2) (c . 3) (z . 6))
&gt; <b>(table-&gt;list (table-merge t1 t2 #t))</b>
((a . 4) (b . 5) (c . 3) (z . 6))
</pre></td></tr></table>



<a name="Records"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Tables" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Threads" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Hashing-and-weak-references" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Records-1"></a>
<h1 class="chapter">12. Records</h1>

<a name="Definition_of_define-structure"></a><a name="Special_form_define-structure"></a><a name="index-define_002dstructure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_define-structure">define-structure</a></b></code><i> <span class="roman"><i>name</i></span> <span class="roman"><i>field</i></span>&hellip;</i><code>)</code></td><td align="right">special form</td></tr></table>

<p>Record data types similar to Pascal records and C <code>struct</code>
types can be defined using the <code>define-structure</code> special form.
The identifier <i>name</i> specifies the name of the new data type.  The
structure name is followed by <var>k</var> identifiers naming each field of
the record.  The <code>define-structure</code> expands into a set of definitions
of the following procedures:
</p>
<ul>
<li>
&lsquo;<tt>make-</tt><i>name</i>&rsquo; &ndash; A <var>k</var> argument procedure which constructs
a new record from the value of its <var>k</var> fields.

</li><li>
&lsquo;<i>name</i><tt>?</tt>&rsquo; &ndash; A procedure which tests if its single argument
is of the given record type.

</li><li>
&lsquo;<i>name</i><tt>-</tt><i>field</i>&rsquo; &ndash; For each field, a procedure taking
as its single argument a value of the given record type and returning
the content of the corresponding field of the record.

</li><li>
&lsquo;<i>name</i><tt>-</tt><i>field</i><tt>-set!</tt>&rsquo; &ndash; For each field, a two
argument procedure taking as its first argument a value of the given
record type.  The second argument gets assigned to the corresponding
field of the record and the void object is returned.

</li></ul>

<p>Record data types have a printed representation that includes the name
of the type and the name and value of each field.  Record data types
can not be read by the <code>read</code> procedure.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define-structure point x y color)</b>
&gt; <b>(define p (make-point 3 5 'red))</b>
&gt; <b>p</b>
#&lt;point #2 x: 3 y: 5 color: red&gt;
&gt; <b>(point-x p)</b>
3
&gt; <b>(point-color p)</b>
red
&gt; <b>(point-color-set! p 'black)</b>
&gt; <b>p</b>
#&lt;point #2 x: 3 y: 5 color: black&gt;
</pre></td></tr></table>



<a name="Threads"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Records" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Introduction" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Records" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Threads-1"></a>
<h1 class="chapter">13. Threads</h1>
<a name="index-threads"></a>

<p>Gambit supports the execution of multiple Scheme threads.  These
threads are managed entirely by Gambit&rsquo;s runtime and are not related
to the host operating system&rsquo;s threads.  Gambit&rsquo;s runtime does not
currently take advantage of multiprocessors (i.e. at most one thread is
running).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Introduction">13.1 Introduction</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Thread-objects">13.2 Thread objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Mutex-objects">13.3 Mutex objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Condition-variable-objects">13.4 Condition variable objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Fairness">13.5 Fairness</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Memory-coherency">13.6 Memory coherency</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Timeouts">13.7 Timeouts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Primordial-thread">13.8 Primordial thread</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Procedures">13.9 Procedures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Introduction"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Threads" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Thread-objects" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Introduction-1"></a>
<h2 class="section">13.1 Introduction</h2>

<p>Multithreading is a paradigm that is well suited for building complex
systems such as: servers, GUIs, and high-level operating systems.
Gambit&rsquo;s thread system offers mechanisms for creating threads of
execution and for synchronizing them.  The thread system also supports
features which are useful in a real-time context, such as priorities,
priority inheritance and timeouts.
</p>
<p>The thread system provides the following data types:
</p>
<ul>
<li>
Thread (a virtual processor which shares object space with all other
threads)

</li><li>
Mutex (a mutual exclusion device, also known as a lock and binary
semaphore)

</li><li>
Condition variable (a set of blocked threads)

</li></ul>

<a name="Thread-objects"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Introduction" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Mutex-objects" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Thread-objects-1"></a>
<h2 class="section">13.2 Thread objects</h2>

<p>A <em>running thread</em> is a thread that is currently executing.  A
<em>runnable thread</em> is a thread that is ready to execute or running.
A thread is <em>blocked</em> if it is waiting for a mutex to become
unlocked, an I/O operation to become possible, the end of a &ldquo;sleep&rdquo;
period, etc.  A <em>new thread</em> is a thread that has been allocated
but has not yet been initialized.  An <em>initialized thread</em> is a
thread that can be made runnable.  A new thread becomes runnable when
it is started by calling <code>thread-start!</code>.  A <em>terminated
thread</em> is a thread that can no longer become runnable (but
<em>deadlocked threads</em> are not considered terminated).  The only
valid transitions between the thread states are from new to
initialized, from initialized to runnable, between runnable and
blocked, and from any state except new to terminated as indicated in
the following diagram:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>                                            <b>unblock</b>
                          <b>start</b>            &lt;-------
NEW -------&gt; INITIALIZED -------&gt; RUNNABLE -------&gt; BLOCKED
                       \             |      <b>block</b>  /
                        \            v            /
                         +-----&gt; TERMINATED &lt;----+
</pre></td></tr></table>

<p>Each thread has a <em>base priority</em>, which is a real number (where a
higher numerical value means a higher priority), a <em>priority boost</em>,
which is a nonnegative real number representing the priority increase
applied to a thread when it blocks, and a <em>quantum</em>, which is a
nonnegative real number representing a duration in seconds.
</p>
<p>Each thread has a <em>specific field</em> which can be used in an
application specific way to associate data with the thread (some thread
systems call this &ldquo;thread local storage&rdquo;).
</p>
<p>Each thread has a <em>mailbox</em> which is used for inter-thread
communication.
</p>
<a name="Mutex-objects"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Thread-objects" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Condition-variable-objects" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Mutex-objects-1"></a>
<h2 class="section">13.3 Mutex objects</h2>

<p>A mutex can be in one of four states: <em>locked</em> (either <em>owned</em>
or <em>not owned</em>) and <em>unlocked</em> (either <em>abandoned</em> or
<em>not abandoned</em>).
</p>
<p>An attempt to lock a mutex only succeeds if the mutex is in an unlocked
state, otherwise the current thread will wait.  A mutex in the
locked/owned state has an associated <em>owner thread</em>, which by
convention is the thread that is responsible for unlocking the mutex
(this case is typical of critical sections implemented as &ldquo;lock mutex,
perform operation, unlock mutex&rdquo;).  A mutex in the locked/not-owned
state is not linked to a particular thread.
</p>
<p>A mutex becomes locked when a thread locks it using the
&lsquo;<samp>mutex-lock!</samp>&rsquo; primitive.  A mutex becomes unlocked/abandoned when
the owner of a locked/owned mutex terminates.  A mutex becomes
unlocked/not-abandoned when a thread unlocks it using the
&lsquo;<samp>mutex-unlock!</samp>&rsquo; primitive.
</p>
<p>The mutex primitives do not implement <em>recursive mutex semantics</em>.
An attempt to lock a mutex that is locked implies that the current
thread waits even if the mutex is owned by the current thread (this can
lead to a deadlock if no other thread unlocks the mutex).
</p>
<p>Each mutex has a <em>specific field</em> which can be used in an
application specific way to associate data with the mutex.
</p>
<a name="Condition-variable-objects"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Mutex-objects" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Fairness" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Condition-variable-objects-1"></a>
<h2 class="section">13.4 Condition variable objects</h2>

<p>A condition variable represents a set of blocked threads.  These blocked
threads are waiting for a certain condition to become true.  When a
thread modifies some program state that might make the condition true,
the thread unblocks some number of threads (one or all depending on the
primitive used) so they can check if the condition is now true.  This
allows complex forms of interthread synchronization to be expressed more
conveniently than with mutexes alone.
</p>
<p>Each condition variable has a <em>specific field</em> which can be used in
an application specific way to associate data with the condition
variable.
</p>
<a name="Fairness"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Condition-variable-objects" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Memory-coherency" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Fairness-1"></a>
<h2 class="section">13.5 Fairness</h2>

<p>In various situations the scheduler must select one thread from a set of
threads (e.g. which thread to run when a running thread blocks or
expires its quantum, which thread to unblock when a mutex becomes
unlocked or a condition variable is signaled).  The constraints on the
selection process determine the scheduler&rsquo;s <em>fairness</em>.  The
selection depends on the order in which threads become runnable or
blocked and on the <em>priority</em> attached to the threads.
</p>
<p>The definition of fairness requires the notion of time ordering,
i.e. &ldquo;event <var>A</var> occured before event <var>B</var>&rdquo;.  For the purpose of
establishing time ordering, the scheduler uses a clock with a discrete,
usually variable, resolution (a &ldquo;tick&rdquo;).  Events occuring in a given
tick can be considered to be simultaneous (i.e. if event <var>A</var> occured
before event <var>B</var> in real time, then the scheduler will claim that
event <var>A</var> occured before event <var>B</var> unless both events fall
within the same tick, in which case the scheduler arbitrarily chooses a
time ordering).
</p>
<p>Each thread <var>T</var> has three priorities which affect fairness; the
<em>base priority</em>, the <em>boosted priority</em>, and the <em>effective
priority</em>.
</p>
<ul>
<li>
The <em>base priority</em> is the value contained in <var>T</var>&rsquo;s <em>base
priority</em> field (which is set with the &lsquo;<samp>thread-base-priority-set!</samp>&rsquo;
primitive).

</li><li>
<var>T</var>&rsquo;s <em>boosted flag</em> field contains a boolean that affects
<var>T</var>&rsquo;s <em>boosted priority</em>.  When the boosted flag field is false,
the boosted priority is equal to the base priority, otherwise the
boosted priority is equal to the base priority plus the value contained
in <var>T</var>&rsquo;s <em>priority boost</em> field (which is set with the
&lsquo;<samp>thread-priority-boost-set!</samp>&rsquo; primitive).  The boosted flag field is
set to false when a thread is created, when its quantum expires, and
when <em>thread-yield!</em> is called.  The boosted flag field is set to
true when a thread blocks.  By carefully choosing the base priority and
priority boost, relatively to the other threads, it is possible to set
up an interactive thread so that it has good I/O response time without
being a CPU hog when it performs long computations.

</li><li>
The <em>effective priority</em> is equal to the maximum of <var>T</var>&rsquo;s
boosted priority and the effective priority of all the threads that are
blocked on a mutex owned by <var>T</var>.  This <em>priority inheritance</em>
avoids priority inversion problems that would prevent a high priority
thread blocked at the entry of a critical section to progress because a
low priority thread inside the critical section is preempted for an
arbitrary long time by a medium priority thread.

</li></ul>

<p>Let <var>P</var>(<var>T</var>) be the effective priority of thread <var>T</var> and
let <var>R</var>(<var>T</var>) be the most recent time when one of the following
events occurred for thread <var>T</var>, thus making it runnable: <var>T</var>
was started by calling &lsquo;<samp>thread-start!</samp>&rsquo;, <var>T</var> called
&lsquo;<samp>thread-yield!</samp>&rsquo;, <var>T</var> expired its quantum, or <var>T</var> became
unblocked.  Let the relation <var>NL</var>(<var>T1</var>,<var>T2</var>), &ldquo;<var>T1</var>
no later than <var>T2</var>&rdquo;, be true if
<var>P</var>(<var>T1</var>)&lt;<var>P</var>(<var>T2</var>) or
<var>P</var>(<var>T1</var>)=<var>P</var>(<var>T2</var>) and
<var>R</var>(<var>T1</var>)&gt;<var>R</var>(<var>T2</var>), and false otherwise.  The
scheduler will schedule the execution of threads in such a way that
whenever there is at least one runnable thread, 1) within a finite
time at least one thread will be running, and 2) there is never a pair
of runnable threads <var>T1</var> and <var>T2</var> for which
<var>NL</var>(<var>T1</var>,<var>T2</var>) is true and <var>T1</var> is not running and
<var>T2</var> is running.
</p>
<p>A thread <var>T</var> expires its quantum when an amount of time equal to
<var>T</var>&rsquo;s quantum has elapsed since <var>T</var> entered the running state
and <var>T</var> did not block, terminate or call &lsquo;<samp>thread-yield!</samp>&rsquo;.
At that point <var>T</var> exits the running state to allow other threads to
run.  A thread&rsquo;s quantum is thus an indication of the rate of progress
of the thread relative to the other threads of the same priority.
Moreover, the resolution of the timer measuring the running time may
cause a certain deviation from the quantum, so a thread&rsquo;s quantum should
only be viewed as an approximation of the time it can run before
yielding to another thread.
</p>
<p>Threads blocked on a given mutex or condition variable will unblock in
an order which is consistent with decreasing priority and increasing
blocking time (i.e. the highest priority thread unblocks first, and
among equal priority threads the one that blocked first unblocks first).
</p>
<a name="Memory-coherency"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Fairness" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Timeouts" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Memory-coherency-1"></a>
<h2 class="section">13.6 Memory coherency</h2>

<p>Read and write operations on the store (such as reading and writing a
variable, an element of a vector or a string) are not atomic.  It is
an error for a thread to write a location in the store while some
other thread reads or writes that same location.  It is the
responsibility of the application to avoid write/read and write/write
races through appropriate uses of the synchronization primitives.
</p>
<p>Concurrent reads and writes to ports are allowed.  It is the
responsibility of the implementation to serialize accesses to a given
port using the appropriate synchronization primitives.
</p>
<a name="Timeouts"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Memory-coherency" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Primordial-thread" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Timeouts-1"></a>
<h2 class="section">13.7 Timeouts</h2>

<p>All synchronization primitives which take a timeout parameter accept
three types of values as a timeout, with the following meaning:
</p>
<ul>
<li>
a time object represents an absolute point in time

</li><li>
an exact or inexact real number represents a relative time in
seconds from the moment the primitive was called

</li><li>
&lsquo;<samp>#f</samp>&rsquo; means that there is no timeout

</li></ul>

<p>When a timeout denotes the current time or a time in the past, the
synchronization primitive claims that the timeout has been reached
only after the other synchronization conditions have been checked.
Moreover the thread remains running (it does not enter the blocked
state).  For example, <code>(mutex-lock! m 0)</code> will lock mutex
<code>m</code> and return &lsquo;<samp>#t</samp>&rsquo; if <code>m</code> is
currently unlocked, otherwise &lsquo;<samp>#f</samp>&rsquo; is returned because the
timeout is reached.
</p>
<a name="Primordial-thread"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Timeouts" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Procedures" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Primordial-thread-1"></a>
<h2 class="section">13.8 Primordial thread</h2>

<p>The execution of a program is initially under the control of a single
thread known as the <em>primordial thread</em>.  The primordial thread has an
unspecified
base priority, priority boost, boosted flag, quantum,
name, specific field, dynamic environment, &lsquo;<samp>dynamic-wind</samp>&rsquo;
stack, and exception-handler.  All threads are terminated when the
primordial thread terminates (normally or not).
</p>
<a name="Procedures"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Primordial-thread" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Threads" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Procedures-1"></a>
<h2 class="section">13.9 Procedures</h2>

<a name="Definition_of_current-thread"></a><a name="Procedure_current-thread"></a><a name="index-current_002dthread"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-thread">current-thread</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the current thread.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(current-thread)</b>
#&lt;thread #1 primordial&gt;
&gt; <b>(eq? (current-thread) (current-thread))</b>
#t
</pre></td></tr></table>



<a name="Definition_of_thread?"></a><a name="Procedure_thread?"></a><a name="index-thread_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread?">thread?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a thread object and
<code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread? (current-thread))</b>
#t
&gt; <b>(thread? 'foo)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_make-thread"></a><a name="Procedure_make-thread"></a><a name="index-make_002dthread"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-thread">make-thread</a></b></code><i> <var>thunk</var> <span class="roman">[</span><var>name</var> <span class="roman">[</span><var>thread-group</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_make-root-thread"></a><a name="Procedure_make-root-thread"></a><a name="index-make_002droot_002dthread"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-root-thread">make-root-thread</a></b></code><i> <var>thunk</var> <span class="roman">[</span><var>name</var> <span class="roman">[</span><var>thread-group</var> <span class="roman">[</span><var>input-port</var> <span class="roman">[</span><var>output-port</var><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>make-thread</code> procedure creates and returns an initialized
thread.  This thread is not automatically made runnable (the procedure
<code>thread-start!</code> must be used for this).  A thread has the
following fields: base priority, priority boost, boosted flag,
quantum, name, specific, end-result, end-exception, and a list of
locked/owned mutexes it owns.  The thread&rsquo;s execution consists of a
call to <var>thunk</var> with the <em>initial continuation</em>.  This
continuation causes the (then) current thread to store the result in
its end-result field, abandon all mutexes it owns, and finally
terminate.  The &lsquo;<samp>dynamic-wind</samp>&rsquo; stack of the initial continuation
is empty.  The optional <var>name</var> is an arbitrary Scheme object which
identifies the thread (useful for debugging); it defaults to an
unspecified value.  The specific field is set to an unspecified value.
The optional <var>thread-group</var> indicates which thread group this
thread belongs to; it defaults to the thread group of the current
thread.  The base priority, priority boost, and quantum of the thread
are set to the same value as the current thread and the boosted flag
is set to false.  The thread&rsquo;s mailbox is initially empty.  The thread
inherits the dynamic environment from the current thread. Moreover, in
this dynamic environment the exception-handler is bound to the
<em>initial exception-handler</em> which is a unary procedure which
causes the (then) current thread to store in its end-exception field
an uncaught-exception object whose &ldquo;reason&rdquo; is the argument of the
handler, abandon all mutexes it owns, and finally terminate.
</p>
<p>The <code>make-root-thread</code> procedure behaves like the
<code>make-thread</code> procedure except the created thread does not
inherit the dynamic environment from the current thread and the base
priority is set to 0, the priority boost is set to 1.0e-6, and the
quantum is set to 0.02.  The dynamic environment of the thread has the
global bindings of the parameter objects, except
<code>current-input-port</code> which is bound to <var>input-port</var>,
<code>current-output-port</code> which is bound to <var>output-port</var>, and
<code>current-directory</code> which is bound to the initial current working
directory of the current process.  If <var>input-port</var> is not
specified it defaults to a port corresponding to the standard input
(&lsquo;<samp>stdin</samp>&rsquo;).  If <var>output-port</var> is not specified it defaults to
a port corresponding to the standard output (&lsquo;<samp>stdout</samp>&rsquo;).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(make-thread (lambda () (write 'hello)))</b>
#&lt;thread #2&gt;
&gt; <b>(make-root-thread (lambda () (write 'world)) 'a-name)</b>
#&lt;thread #3 a-name&gt;
</pre></td></tr></table>



<a name="Definition_of_thread-name"></a><a name="Procedure_thread-name"></a><a name="index-thread_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-name">thread-name</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the name of the <var>thread</var>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-name (make-thread (lambda () #f) 'foo))</b>
foo
</pre></td></tr></table>



<a name="Definition_of_thread-specific"></a><a name="Procedure_thread-specific"></a><a name="index-thread_002dspecific"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-specific">thread-specific</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-specific-set!"></a><a name="Procedure_thread-specific-set!"></a><a name="index-thread_002dspecific_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-specific-set!">thread-specific-set!</a></b></code><i> <var>thread</var> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>thread-specific</code> procedure returns the content of the
<var>thread</var>&rsquo;s specific field.
</p>
<p>The <code>thread-specific-set!</code> procedure stores <var>obj</var> into the
<var>thread</var>&rsquo;s specific field and returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-specific-set! (current-thread) &quot;hello&quot;)</b>
&gt; <b>(thread-specific (current-thread))</b>
&quot;hello&quot;
</pre></td></tr></table>



<a name="Definition_of_thread-base-priority"></a><a name="Procedure_thread-base-priority"></a><a name="index-thread_002dbase_002dpriority"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-base-priority">thread-base-priority</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-base-priority-set!"></a><a name="Procedure_thread-base-priority-set!"></a><a name="index-thread_002dbase_002dpriority_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-base-priority-set!">thread-base-priority-set!</a></b></code><i> <var>thread</var> <var>priority</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>thread-base-priority</code> returns a real number which
corresponds to the base priority of the <var>thread</var>.
</p>
<p>The procedure <code>thread-base-priority-set!</code> changes the base
priority of the <var>thread</var> to <var>priority</var> and returns an
unspecified value.  The <var>priority</var> must be a real number.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-base-priority-set! (current-thread) 12.3)</b>
&gt; <b>(thread-base-priority (current-thread))</b>
12.3
</pre></td></tr></table>



<a name="Definition_of_thread-priority-boost"></a><a name="Procedure_thread-priority-boost"></a><a name="index-thread_002dpriority_002dboost"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-priority-boost">thread-priority-boost</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-priority-boost-set!"></a><a name="Procedure_thread-priority-boost-set!"></a><a name="index-thread_002dpriority_002dboost_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-priority-boost-set!">thread-priority-boost-set!</a></b></code><i> <var>thread</var> <var>priority-boost</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>thread-priority-boost</code> returns a real number which
corresponds to the priority boost of the <var>thread</var>.
</p>
<p>The procedure <code>thread-priority-boost-set!</code> changes the priority
boost of the <var>thread</var> to <var>priority-boost</var> and returns an
unspecified value.  The <var>priority-boost</var> must be a nonnegative
real.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-priority-boost-set! (current-thread) 2.5)</b>
&gt; <b>(thread-priority-boost (current-thread))</b>
2.5
</pre></td></tr></table>



<a name="Definition_of_thread-quantum"></a><a name="Procedure_thread-quantum"></a><a name="index-thread_002dquantum"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-quantum">thread-quantum</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-quantum-set!"></a><a name="Procedure_thread-quantum-set!"></a><a name="index-thread_002dquantum_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-quantum-set!">thread-quantum-set!</a></b></code><i> <var>thread</var> <var>quantum</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>thread-quantum</code> returns a real number which
corresponds to the quantum of the <var>thread</var>.
</p>
<p>The procedure <code>thread-quantum-set!</code> changes the quantum of the
<var>thread</var> to <var>quantum</var> and returns an unspecified value.  The
<var>quantum</var> must be a nonnegative real.  A value of zero selects the
smallest quantum supported by the implementation.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-quantum-set! (current-thread) 1.5)</b>
&gt; <b>(thread-quantum (current-thread))</b>
1.5
&gt; <b>(thread-quantum-set! (current-thread) 0)</b>
&gt; <b>(thread-quantum (current-thread))</b>
0.
</pre></td></tr></table>



<a name="Definition_of_thread-start!"></a><a name="Procedure_thread-start!"></a><a name="index-thread_002dstart_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-start!">thread-start!</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure makes <var>thread</var> runnable and returns the
<var>thread</var>.  The <var>thread</var> must be an initialized thread.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(let ((t (thread-start! (make-thread (lambda () (write 'a))))))
    (write 'b)
    (thread-join! t))</b>
ab&gt; <span class="roman"><i>or</i></span> ba&gt;
</pre></td></tr></table>

<p>NOTE: It is useful to separate thread creation and thread activation
to avoid the race condition that would occur if the created thread
tries to examine a table in which the current thread stores the
created thread.  See the last example of the <code>thread-terminate!</code>
procedure which contains mutually recursive threads.
</p>


<a name="Definition_of_thread-yield!"></a><a name="Procedure_thread-yield!"></a><a name="index-thread_002dyield_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-yield!">thread-yield!</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure causes the current thread to exit the running state as
if its quantum had expired and returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b><span class="roman"><i>; a busy loop that avoids being too wasteful of the CPU</i></span>

(let loop ()
  (if (mutex-lock! m 0) <span class="roman"><i>; try to lock m but don't block</i></span>
      (begin
        (display &quot;locked mutex m&quot;)
        (mutex-unlock! m))
      (begin
        (do-something-else)
        (thread-yield!) <span class="roman"><i>; relinquish rest of quantum</i></span>
        (loop))))
</pre></td></tr></table>



<a name="Definition_of_thread-sleep!"></a><a name="Procedure_thread-sleep!"></a><a name="index-thread_002dsleep_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-sleep!">thread-sleep!</a></b></code><i> <var>timeout</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure causes the current thread to wait until the timeout is
reached and returns an unspecified value.  This blocks the thread only
if <var>timeout</var> represents a point in the future.  It is an error for
<var>timeout</var> to be &lsquo;<samp>#f</samp>&rsquo;.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b><span class="roman"><i>; a clock with a gradual drift:</i></span>

(let loop ((x 1))
  (thread-sleep! 1)
  (write x)
  (loop (+ x 1)))

<span class="roman"><i>; a clock with no drift:</i></span>

(let ((start (time-&gt;seconds (current-time)))
  (let loop ((x 1))
    (thread-sleep! (seconds-&gt;time (+ x start)))
    (write x)
    (loop (+ x 1))))
</pre></td></tr></table>



<a name="Definition_of_thread-terminate!"></a><a name="Procedure_thread-terminate!"></a><a name="index-thread_002dterminate_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-terminate!">thread-terminate!</a></b></code><i> <var>thread</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure causes an abnormal termination of the <var>thread</var>.  If
the <var>thread</var> is not already terminated, all mutexes owned by the
<var>thread</var> become unlocked/abandoned and a
terminated-thread-exception object is stored in the <var>thread</var>&rsquo;s
end-exception field.  If <var>thread</var> is the current thread,
<code>thread-terminate!</code> does not return.  Otherwise
<code>thread-terminate!</code> returns an unspecified value; the termination
of the <var>thread</var> will occur at some point between the calling of
<code>thread-terminate!</code>  and a finite time in the future (an explicit
thread synchronization is needed to detect termination, see
<code>thread-join!</code>).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define (amb thunk1 thunk2)
  (let ((result #f)
        (result-mutex (make-mutex))
        (done-mutex (make-mutex)))
    (letrec ((child1
              (make-thread
                (lambda ()
                  (let ((x (thunk1)))
                    (mutex-lock! result-mutex #f #f)
                    (set! result x)
                    (thread-terminate! child2)
                    (mutex-unlock! done-mutex)))))
             (child2
              (make-thread
                (lambda ()
                  (let ((x (thunk2)))
                    (mutex-lock! result-mutex #f #f)
                    (set! result x)
                    (thread-terminate! child1)
                    (mutex-unlock! done-mutex))))))
      (mutex-lock! done-mutex #f #f)
      (thread-start! child1)
      (thread-start! child2)
      (mutex-lock! done-mutex #f #f)
      result)))
</pre></td></tr></table>

<p>NOTE: This operation must be used carefully because it terminates a
thread abruptly and it is impossible for that thread to perform any
kind of cleanup.  This may be a problem if the thread is in the middle
of a critical section where some structure has been put in an
inconsistent state.  However, another thread attempting to enter this
critical section will raise an abandoned-mutex-exception object
because the mutex is unlocked/abandoned.  This helps avoid observing
an inconsistent state.  Clean termination can be obtained by polling,
as shown in the example below.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define (spawn thunk)
  (let ((t (make-thread thunk)))
    (thread-specific-set! t #t)
    (thread-start! t)
    t))

(define (stop! thread)
  (thread-specific-set! thread #f)
  (thread-join! thread))

(define (keep-going?)
  (thread-specific (current-thread)))

(define count!
  (let ((m (make-mutex))
        (i 0))
    (lambda ()
      (mutex-lock! m)
      (let ((x (+ i 1)))
        (set! i x)
        (mutex-unlock! m)
        x))))

(define (increment-forever!)
  (let loop () (count!) (if (keep-going?) (loop))))

(let ((t1 (spawn increment-forever!))
      (t2 (spawn increment-forever!)))
  (thread-sleep! 1)
  (stop! t1)
  (stop! t2)
  (count!))  ==&gt;  377290
</pre></td></tr></table>



<a name="Definition_of_thread-join!"></a><a name="Procedure_thread-join!"></a><a name="index-thread_002djoin_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-join!">thread-join!</a></b></code><i> thread <span class="roman">[</span><var>timeout</var> <span class="roman">[</span><var>timeout-val</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure causes the current thread to wait until the
<var>thread</var> terminates (normally or not) or until the timeout is
reached if <var>timeout</var> is supplied.  If the timeout is reached,
<var>thread-join!</var> returns <var>timeout-val</var> if it is supplied,
otherwise a join-timeout-exception object is raised.  If the
<var>thread</var> terminated normally, the content of the end-result field
is returned, otherwise the content of the end-exception field is
raised.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(let ((t (thread-start! (make-thread (lambda () (expt 2 100))))))
  (do-something-else)
  (thread-join! t))  ==&gt;  1267650600228229401496703205376

(let ((t (thread-start! (make-thread (lambda () (raise 123))))))
  (do-something-else)
  (with-exception-handler
    (lambda (exc)
      (if (uncaught-exception? exc)
          (* 10 (uncaught-exception-reason exc))
          99999))
    (lambda ()
      (+ 1 (thread-join! t)))))  ==&gt;  1231

(define thread-alive?
  (let ((unique (list 'unique)))
    (lambda (thread)
      ; Note: this procedure raises an exception if
      ; the thread terminated abnormally.
      (eq? (thread-join! thread 0 unique) unique))))

(define (wait-for-termination! thread)
  (let ((eh (current-exception-handler)))
    (with-exception-handler
      (lambda (exc)
        (if (not (or (terminated-thread-exception? exc)
                     (uncaught-exception? exc)))
            (eh exc))) ; unexpected exceptions are handled by eh
      (lambda ()
        ; The following call to thread-join! will wait until the
        ; thread terminates.  If the thread terminated normally
        ; thread-join! will return normally.  If the thread
        ; terminated abnormally then one of these two exception
        ; objects is raised by thread-join!:
        ;   - terminated-thread-exception object
        ;   - uncaught-exception object
        (thread-join! thread)
        #f)))) ; ignore result of thread-join!
</pre></td></tr></table>



<a name="Definition_of_thread-send"></a><a name="Procedure_thread-send"></a><a name="index-thread_002dsend"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-send">thread-send</a></b></code><i> <var>thread</var> <var>msg</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Each thread has a mailbox which stores messages delivered to the
thread in the order delivered.
</p>
<p>The procedure <code>thread-send</code> adds the message <var>msg</var> at the end
of the mailbox of thread <var>thread</var> and returns an unspecified
value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-send (current-thread) 111)</b>
&gt; <b>(thread-send (current-thread) 222)</b>
&gt; <b>(thread-receive)</b>
111
&gt; <b>(thread-receive)</b>
222
</pre></td></tr></table>



<a name="Definition_of_thread-receive"></a><a name="Procedure_thread-receive"></a><a name="index-thread_002dreceive"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-receive">thread-receive</a></b></code><i> <span class="roman">[</span><var>timeout</var> <span class="roman">[</span><var>default</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-mailbox-next"></a><a name="Procedure_thread-mailbox-next"></a><a name="index-thread_002dmailbox_002dnext"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-mailbox-next">thread-mailbox-next</a></b></code><i> <span class="roman">[</span><var>timeout</var> <span class="roman">[</span><var>default</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-mailbox-rewind"></a><a name="Procedure_thread-mailbox-rewind"></a><a name="index-thread_002dmailbox_002drewind"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-mailbox-rewind">thread-mailbox-rewind</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_thread-mailbox-extract-and-rewind"></a><a name="Procedure_thread-mailbox-extract-and-rewind"></a><a name="index-thread_002dmailbox_002dextract_002dand_002drewind"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_thread-mailbox-extract-and-rewind">thread-mailbox-extract-and-rewind</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>To allow a thread to examine the messages in its mailbox without
removing them from the mailbox, each thread has a <em>mailbox cursor</em>
which normally points to the last message accessed in the mailbox.
When a mailbox cursor is rewound using the procedure
<code>thread-mailbox-rewind</code> or
<code>thread-mailbox-extract-and-rewind</code> or <code>thread-receive</code>, the
cursor does not point to a message, but the next call to
<code>thread-receive</code> and <code>thread-mailbox-next</code> will set the
cursor to the oldest message in the mailbox.
</p>
<p>The procedure <code>thread-receive</code> advances the mailbox cursor of the
current thread to the next message, removes that message from the
mailbox, rewinds the mailbox cursor, and returns the message.  When
<var>timeout</var> is not specified, the current thread will wait until a
message is available in the mailbox.  When <var>timeout</var> is specified
and <var>default</var> is not specified, a
mailbox-receive-timeout-exception object is raised if the timeout is
reached before a message is available.  When <var>timeout</var> is
specified and <var>default</var> is specified, <var>default</var> is returned if
the timeout is reached before a message is available.
</p>
<p>The procedure <code>thread-mailbox-next</code> behaves like
<code>thread-receive</code> except that the message remains in the mailbox
and the mailbox cursor is not rewound.
</p>
<p>The procedures <code>thread-mailbox-rewind</code> or
<code>thread-mailbox-extract-and-rewind</code> rewind the mailbox cursor of
the current thread so that the next call to <code>thread-mailbox-next</code>
and <code>thread-receive</code> will access the oldest message in the
mailbox.  Additionally the procedure
<code>thread-mailbox-extract-and-rewind</code> will remove from the mailbox
the message most recently accessed by a call to
<code>thread-mailbox-next</code>.  When <code>thread-mailbox-next</code> has not
been called since the last call to <code>thread-receive</code> or
<code>thread-mailbox-rewind</code> or
<code>thread-mailbox-extract-and-rewind</code>, a call to
<code>thread-mailbox-extract-and-rewind</code> only resets the mailbox
cursor (no message is removed).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(thread-send (current-thread) 111)</b>
&gt; <b>(thread-receive 1 999)</b>
111
&gt; <b>(thread-send (current-thread) 222)</b>
&gt; <b>(thread-send (current-thread) 333)</b>
&gt; <b>(thread-mailbox-next 1 999)</b>
222
&gt; <b>(thread-mailbox-next 1 999)</b>
333
&gt; <b>(thread-mailbox-next 1 999)</b>
999
&gt; <b>(thread-mailbox-extract-and-rewind)</b>
&gt; <b>(thread-receive 1 999)</b>
222
&gt; <b>(thread-receive 1 999)</b>
999
</pre></td></tr></table>



<a name="Definition_of_mailbox-receive-timeout-exception?"></a><a name="Procedure_mailbox-receive-timeout-exception?"></a><a name="index-mailbox_002dreceive_002dtimeout_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mailbox-receive-timeout-exception?">mailbox-receive-timeout-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_mailbox-receive-timeout-exception-procedure"></a><a name="Procedure_mailbox-receive-timeout-exception-procedure"></a><a name="index-mailbox_002dreceive_002dtimeout_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mailbox-receive-timeout-exception-procedure">mailbox-receive-timeout-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_mailbox-receive-timeout-exception-arguments"></a><a name="Procedure_mailbox-receive-timeout-exception-arguments"></a><a name="index-mailbox_002dreceive_002dtimeout_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mailbox-receive-timeout-exception-arguments">mailbox-receive-timeout-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Mailbox-receive-timeout-exception objects are raised by the procedures
<code>thread-receive</code> and <code>thread-mailbox-next</code> when a timeout
expires before a message is available and no default value is
specified.  The parameter <var>exc</var> must be a
mailbox-receive-timeout-exception object.
</p>
<p>The procedure <code>mailbox-receive-timeout-exception?</code> returns
<code>#t</code> when <var>obj</var> is a mailbox-receive-timeout-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>mailbox-receive-timeout-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>mailbox-receive-timeout-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (mailbox-receive-timeout-exception? exc)
        (list (mailbox-receive-timeout-exception-procedure exc)
              (mailbox-receive-timeout-exception-arguments exc))
        'not-mailbox-receive-timeout-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (thread-receive 1)))</b>
(#&lt;procedure #2 thread-receive&gt; (1))
</pre></td></tr></table>



<a name="Definition_of_mutex?"></a><a name="Procedure_mutex?"></a><a name="index-mutex_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex?">mutex?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a mutex object and
<code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(mutex? (make-mutex))</b>
#t
&gt; <b>(mutex? 'foo)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_make-mutex"></a><a name="Procedure_make-mutex"></a><a name="index-make_002dmutex"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-mutex">make-mutex</a></b></code><i> <span class="roman">[</span><var>name</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a new mutex in the unlocked/not-abandoned
state.  The optional <var>name</var> is an arbitrary Scheme object which
identifies the mutex (useful for debugging); it defaults to an
unspecified value.  The mutex&rsquo;s specific field is set to an
unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(make-mutex)</b>
#&lt;mutex #2&gt;
&gt; <b>(make-mutex 'foo)</b>
#&lt;mutex #3 foo&gt;
</pre></td></tr></table>



<a name="Definition_of_mutex-name"></a><a name="Procedure_mutex-name"></a><a name="index-mutex_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-name">mutex-name</a></b></code><i> <var>mutex</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the name of the <var>mutex</var>.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(mutex-name (make-mutex 'foo))</b>
foo
</pre></td></tr></table>



<a name="Definition_of_mutex-specific"></a><a name="Procedure_mutex-specific"></a><a name="index-mutex_002dspecific"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-specific">mutex-specific</a></b></code><i> <var>mutex</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_mutex-specific-set!"></a><a name="Procedure_mutex-specific-set!"></a><a name="index-mutex_002dspecific_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-specific-set!">mutex-specific-set!</a></b></code><i> <var>mutex</var> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>mutex-specific</code> procedure returns the content of the
<var>mutex</var>&rsquo;s specific field.
</p>
<p>The <code>mutex-specific-set!</code> procedure stores <var>obj</var> into the
<var>mutex</var>&rsquo;s specific field and returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define m (make-mutex))</b>
&gt; <b>(mutex-specific-set! m &quot;hello&quot;)</b>
&gt; <b>(mutex-specific m)</b>
&quot;hello&quot;
&gt; <b>(define (mutex-lock-recursively! mutex)
    (if (eq? (mutex-state mutex) (current-thread))
        (let ((n (mutex-specific mutex)))
          (mutex-specific-set! mutex (+ n 1)))
        (begin
          (mutex-lock! mutex)
          (mutex-specific-set! mutex 0))))</b>
&gt; <b>(define (mutex-unlock-recursively! mutex)
    (let ((n (mutex-specific mutex)))
      (if (= n 0)
          (mutex-unlock! mutex)
          (mutex-specific-set! mutex (- n 1)))))</b>
&gt; <b>(mutex-lock-recursively! m)</b>
&gt; <b>(mutex-lock-recursively! m)</b>
&gt; <b>(mutex-lock-recursively! m)</b>
&gt; <b>(mutex-specific m)</b>
2
</pre></td></tr></table>



<a name="Definition_of_mutex-state"></a><a name="Procedure_mutex-state"></a><a name="index-mutex_002dstate"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-state">mutex-state</a></b></code><i> <var>mutex</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Thos procedure returns information about the state of the <var>mutex</var>.
The possible results are:
</p>
<ul>
<li> thread <var>T</var>:
the <var>mutex</var> is in the locked/owned state
and thread <var>T</var> is the owner of the <var>mutex</var>

</li><li> symbol <code>not-owned</code>:
the <var>mutex</var> is in the locked/not-owned state

</li><li> symbol <code>abandoned</code>:
the <var>mutex</var> is in the unlocked/abandoned
state

</li><li> symbol <code>not-abandoned</code>:
the <var>mutex</var> is in the unlocked/not-abandoned
state

</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(mutex-state (make-mutex))  ==&gt;  not-abandoned

(define (thread-alive? thread)
  (let ((mutex (make-mutex)))
    (mutex-lock! mutex #f thread)
    (let ((state (mutex-state mutex)))
      (mutex-unlock! mutex) ; avoid space leak
      (eq? state thread))))
</pre></td></tr></table>



<a name="Definition_of_mutex-lock!"></a><a name="Procedure_mutex-lock!"></a><a name="index-mutex_002dlock_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-lock!">mutex-lock!</a></b></code><i> <var>mutex</var> <span class="roman">[</span><var>timeout</var> <span class="roman">[</span><var>thread</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure locks <var>mutex</var>.  If the <var>mutex</var> is currently
locked, the current thread waits until the <var>mutex</var> is unlocked, or
until the timeout is reached if <var>timeout</var> is supplied.  If the
timeout is reached, <code>mutex-lock!</code> returns &lsquo;<samp>#f</samp>&rsquo;.  Otherwise,
the state of the <var>mutex</var> is changed as follows:
</p>
<ul>
<li> if <var>thread</var> is &lsquo;<samp>#f</samp>&rsquo; the
<var>mutex</var> becomes locked/not-owned,

</li><li> otherwise, let <var>T</var> be <var>thread</var> (or the
current thread if <var>thread</var> is not
supplied),

<ul>
<li> if <var>T</var> is terminated the <var>mutex</var>
becomes unlocked/abandoned,

</li><li> otherwise <var>mutex</var> becomes locked/owned
with <var>T</var> as the owner.

</li></ul>

</li></ul>

<p>After changing the state of the <var>mutex</var>, an
abandoned-mutex-exception object is raised if the <var>mutex</var> was
unlocked/abandoned before the state change, otherwise
<code>mutex-lock!</code> returns &lsquo;<samp>#t</samp>&rsquo;.  It is not an error if the
<var>mutex</var> is owned by the current thread (but the current thread
will have to wait).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>; an implementation of a mailbox object of depth one; this
; implementation does not behave well in the presence of forced
; thread terminations using thread-terminate! (deadlock can occur
; if a thread is terminated in the middle of a put! or get! operation)

(define (make-empty-mailbox)
  (let ((put-mutex (make-mutex)) ; allow put! operation
        (get-mutex (make-mutex))
        (cell #f))

    (define (put! obj)
      (mutex-lock! put-mutex #f #f) ; prevent put! operation
      (set! cell obj)
      (mutex-unlock! get-mutex)) ; allow get! operation

    (define (get!)
      (mutex-lock! get-mutex #f #f) ; wait until object in mailbox
      (let ((result cell))
        (set! cell #f) ; prevent space leaks
        (mutex-unlock! put-mutex) ; allow put! operation
        result))

    (mutex-lock! get-mutex #f #f) ; prevent get! operation

    (lambda (msg)
      (case msg
        ((put!) put!)
        ((get!) get!)
        (else (error &quot;unknown message&quot;))))))

(define (mailbox-put! m obj) ((m 'put!) obj))
(define (mailbox-get! m) ((m 'get!)))

; an alternate implementation of thread-sleep!

(define (sleep! timeout)
  (let ((m (make-mutex)))
    (mutex-lock! m #f #f)
    (mutex-lock! m timeout #f)))

; a procedure that waits for one of two mutexes to unlock

(define (lock-one-of! mutex1 mutex2)
  ; this procedure assumes that neither mutex1 or mutex2
  ; are owned by the current thread
  (let ((ct (current-thread))
        (done-mutex (make-mutex)))
    (mutex-lock! done-mutex #f #f)
    (let ((t1 (thread-start!
               (make-thread
                (lambda ()
                  (mutex-lock! mutex1 #f ct)
                  (mutex-unlock! done-mutex)))))
          (t2 (thread-start!
               (make-thread
                (lambda ()
                  (mutex-lock! mutex2 #f ct)
                  (mutex-unlock! done-mutex))))))
      (mutex-lock! done-mutex #f #f)
      (thread-terminate! t1)
      (thread-terminate! t2)
      (if (eq? (mutex-state mutex1) ct)
          (begin
            (if (eq? (mutex-state mutex2) ct)
                (mutex-unlock! mutex2)) ; don't lock both
            mutex1)
          mutex2))))
</pre></td></tr></table>



<a name="Definition_of_mutex-unlock!"></a><a name="Procedure_mutex-unlock!"></a><a name="index-mutex_002dunlock_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_mutex-unlock!">mutex-unlock!</a></b></code><i> <var>mutex</var> <span class="roman">[</span><var>condition-variable</var> <span class="roman">[</span><var>timeout</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure unlocks the <var>mutex</var> by making it
unlocked/not-abandoned.  It is not an error to unlock an unlocked
mutex and a mutex that is owned by any thread.  If
<var>condition-variable</var> is supplied, the current thread is blocked
and added to the <var>condition-variable</var> before unlocking
<var>mutex</var>; the thread can unblock at any time but no later than when
an appropriate call to <code>condition-variable-signal!</code> or
<code>condition-variable-broadcast!</code> is performed (see below), and no
later than the timeout (if <var>timeout</var> is supplied).  If there are
threads waiting to lock this <var>mutex</var>, the scheduler selects a
thread, the mutex becomes locked/owned or locked/not-owned, and the
thread is unblocked.  <code>mutex-unlock!</code> returns &lsquo;<samp>#f</samp>&rsquo; when the
timeout is reached, otherwise it returns &lsquo;<samp>#t</samp>&rsquo;.
</p>
<p>NOTE: The reason the thread can unblock at any time (when
<var>condition-variable</var> is supplied) is that the scheduler, when it
detects a serious problem such as a deadlock, must interrupt one of
the blocked threads (such as the primordial thread) so that it can
perform some appropriate action.  After a thread blocked on a
condition-variable has handled such an interrupt it would be wrong for
the scheduler to return the thread to the blocked state, because any
calls to <code>condition-variable-broadcast!</code> during the interrupt
will have gone unnoticed.  It is necessary for the thread to remain
runnable and return from the call to <code>mutex-unlock!</code> with a
result of &lsquo;<samp>#t</samp>&rsquo;.
</p>
<p>NOTE: <code>mutex-unlock!</code> is related to the &ldquo;wait&rdquo; operation on
condition variables available in other thread systems.  The main
difference is that &ldquo;wait&rdquo; automatically locks <var>mutex</var> just
after the thread is unblocked.  This operation is not performed by
<code>mutex-unlock!</code> and so must be done by an explicit call to
<code>mutex-lock!</code>.  This has the advantages that a different timeout
and exception-handler can be specified on the <code>mutex-lock!</code> and
<code>mutex-unlock!</code> and the location of all the mutex operations is
clearly apparent.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(let loop ()
  (mutex-lock! m)
  (if (condition-is-true?)
      (begin
        (do-something-when-condition-is-true)
        (mutex-unlock! m))
      (begin
        (mutex-unlock! m cv)
        (loop))))
</pre></td></tr></table>



<a name="Definition_of_condition-variable?"></a><a name="Procedure_condition-variable?"></a><a name="index-condition_002dvariable_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable?">condition-variable?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a
condition-variable object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(condition-variable? (make-condition-variable))</b>
#t
&gt; <b>(condition-variable? 'foo)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_make-condition-variable"></a><a name="Procedure_make-condition-variable"></a><a name="index-make_002dcondition_002dvariable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-condition-variable">make-condition-variable</a></b></code><i> <span class="roman">[</span><var>name</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a new empty condition variable.  The optional
<var>name</var> is an arbitrary Scheme object which identifies the
condition variable (useful for debugging); it defaults to an
unspecified value.  The condition variable&rsquo;s specific field is set to
an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(make-condition-variable)</b>
#&lt;condition-variable #2&gt;
</pre></td></tr></table>



<a name="Definition_of_condition-variable-name"></a><a name="Procedure_condition-variable-name"></a><a name="index-condition_002dvariable_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable-name">condition-variable-name</a></b></code><i> <var>condition-variable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the name of the <var>condition-variable</var>.  For
example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(condition-variable-name (make-condition-variable 'foo))</b>
foo
</pre></td></tr></table>



<a name="Definition_of_condition-variable-specific"></a><a name="Procedure_condition-variable-specific"></a><a name="index-condition_002dvariable_002dspecific"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable-specific">condition-variable-specific</a></b></code><i> <var>condition-variable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_condition-variable-specific-set!"></a><a name="Procedure_condition-variable-specific-set!"></a><a name="index-condition_002dvariable_002dspecific_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable-specific-set!">condition-variable-specific-set!</a></b></code><i> <var>condition-variable</var> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>condition-variable-specific</code> procedure returns the content
of the <var>condition-variable</var>&rsquo;s specific field.
</p>
<p>The <code>condition-variable-specific-set!</code> procedure stores <var>obj</var>
into the <var>condition-variable</var>&rsquo;s specific field and returns
an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define cv (make-condition-variable))</b>
&gt; <b>(condition-variable-specific-set! cv &quot;hello&quot;)</b>
&gt; <b>(condition-variable-specific cv)</b>
&quot;hello&quot;
</pre></td></tr></table>



<a name="Definition_of_condition-variable-signal!"></a><a name="Procedure_condition-variable-signal!"></a><a name="index-condition_002dvariable_002dsignal_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable-signal!">condition-variable-signal!</a></b></code><i> <var>condition-variable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure unblocks a thread blocked on the
<var>condition-variable</var> (if there is at least one) and returns an
unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>; an implementation of a mailbox object of depth one; this
; implementation behaves gracefully when threads are forcibly
; terminated using thread-terminate! (an abandoned-mutex-exception
; object will be raised when a put! or get! operation is attempted
; after a thread is terminated in the middle of a put! or get!
; operation)

(define (make-empty-mailbox)
  (let ((mutex (make-mutex))
        (put-condvar (make-condition-variable))
        (get-condvar (make-condition-variable))
        (full? #f)
        (cell #f))

    (define (put! obj)
      (mutex-lock! mutex)
      (if full?
          (begin
            (mutex-unlock! mutex put-condvar)
            (put! obj))
          (begin
            (set! cell obj)
            (set! full? #t)
            (condition-variable-signal! get-condvar)
            (mutex-unlock! mutex))))

    (define (get!)
      (mutex-lock! mutex)
      (if (not full?)
          (begin
            (mutex-unlock! mutex get-condvar)
            (get!))
          (let ((result cell))
            (set! cell #f) ; avoid space leaks
            (set! full? #f)
            (condition-variable-signal! put-condvar)
            (mutex-unlock! mutex)
            result)))

    (lambda (msg)
      (case msg
        ((put!) put!)
        ((get!) get!)
        (else (error &quot;unknown message&quot;))))))

(define (mailbox-put! m obj) ((m 'put!) obj))
(define (mailbox-get! m) ((m 'get!)))
</pre></td></tr></table>



<a name="Definition_of_condition-variable-broadcast!"></a><a name="Procedure_condition-variable-broadcast!"></a><a name="index-condition_002dvariable_002dbroadcast_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_condition-variable-broadcast!">condition-variable-broadcast!</a></b></code><i> <var>condition-variable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure unblocks all the thread blocked on the
<var>condition-variable</var> and returns an unspecified value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define (make-semaphore n)
  (vector n (make-mutex) (make-condition-variable)))

(define (semaphore-wait! sema)
  (mutex-lock! (vector-ref sema 1))
  (let ((n (vector-ref sema 0)))
    (if (&gt; n 0)
        (begin
          (vector-set! sema 0 (- n 1))
          (mutex-unlock! (vector-ref sema 1)))
        (begin
          (mutex-unlock! (vector-ref sema 1) (vector-ref sema 2))
          (semaphore-wait! sema))))

(define (semaphore-signal-by! sema increment)
  (mutex-lock! (vector-ref sema 1))
  (let ((n (+ (vector-ref sema 0) increment)))
    (vector-set! sema 0 n)
    (if (&gt; n 0)
        (condition-variable-broadcast! (vector-ref sema 2)))
    (mutex-unlock! (vector-ref sema 1))))
</pre></td></tr></table>



<a name="Dynamic-environment"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Procedures" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Threads" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Dynamic-environment-1"></a>
<h1 class="chapter">14. Dynamic environment</h1>

<p>The <em>dynamic environment</em> is the structure which allows the system
to find the value returned by the standard procedures
<code>current-input-port</code> and <code>current-output-port</code>.  The
standard procedures <code>with-input-from-file</code> and
<code>with-output-to-file</code> extend the dynamic environment to produce a
new dynamic environment which is in effect for the dynamic extent of
the call to the thunk passed as their last argument.  These procedures
are essentially special purpose dynamic binding operations on hidden
dynamic variables (one for <code>current-input-port</code> and one for
<code>current-output-port</code>).  Gambit generalizes this dynamic binding
mechanism to allow the user to introduce new dynamic variables, called
<em>parameter objects</em>, and dynamically bind them.  The parameter
objects implemented by Gambit are compatible with the specification of
the &ldquo;Parameter objects SRFI&rdquo; (SRFI 39).
</p>
<p>One important issue is the relationship between the dynamic
environments of the parent and child threads when a thread is created.
Each thread has its own dynamic environment that is accessed when
looking up the value bound to a parameter object by that thread.  When
a thread&rsquo;s dynamic environment is extended it does not affect the
dynamic environment of other threads.  When a thread is created it is
given a dynamic environment whose bindings are inherited from the
parent thread.  In this inherited dynamic environment the parameter
objects are bound to the same cells as the parent&rsquo;s dynamic
environment (in other words an assignment of a new value to a
parameter object is visible in the other thread).
</p>
<p>Another important issue is the interaction between the
<code>dynamic-wind</code> procedure and dynamic environments.  When a thread
creates a continuation, the thread&rsquo;s dynamic environment and the
&lsquo;<samp>dynamic-wind</samp>&rsquo; stack are saved within the continuation (an
alternate but equivalent point of view is that the &lsquo;<samp>dynamic-wind</samp>&rsquo;
stack is part of the dynamic environment).  When this continuation is
invoked the required &lsquo;<samp>dynamic-wind</samp>&rsquo; before and after thunks are
called and the saved dynamic environment is reinstated as the dynamic
environment of the current thread.  During the call to each required
&lsquo;<samp>dynamic-wind</samp>&rsquo; before and after thunk, the dynamic environment
and the &lsquo;<samp>dynamic-wind</samp>&rsquo; stack in effect when the corresponding
&lsquo;<samp>dynamic-wind</samp>&rsquo; was executed are reinstated.  Note that this
specification precisely defines the semantics of calling
&lsquo;<samp>call-with-current-continuation</samp>&rsquo; or invoking a continuation
within a before or after thunk.  The semantics are well defined even
when a continuation created by another thread is invoked.  Below is an
example exercising the subtleties of this semantics.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(with-output-to-file
 &quot;foo&quot;
 (lambda ()
   (let ((k (call-with-current-continuation
             (lambda (exit)
               (with-output-to-file
                &quot;bar&quot;
                (lambda ()
                  (dynamic-wind
                   (lambda ()
                     (write '(b1))
                     (force-output))
                   (lambda ()
                     (let ((x (call-with-current-continuation
                               (lambda (cont) (exit cont)))))
                       (write '(t1))
                       (force-output)
                       x))
                   (lambda ()
                     (write '(a1))
                     (force-output)))))))))
     (if k
         (dynamic-wind
          (lambda ()
            (write '(b2))
            (force-output))
          (lambda ()
            (with-output-to-file
             &quot;baz&quot;
             (lambda ()
               (write '(t2))
               (force-output)
               ; go back inside (with-output-to-file &quot;bar&quot; ...)
               (k #f))))
          (lambda ()
            (write '(a2))
            (force-output)))))))
</pre></td></tr></table>

<p>The following actions will occur when this code is executed:
<code>(b1)(a1)</code> is written to &ldquo;bar&rdquo;, <code>(b2)</code> is then written to
&ldquo;foo&rdquo;, <code>(t2)</code> is then written to &ldquo;baz&rdquo;, <code>(a2)</code> is then
written to &ldquo;foo&rdquo;, and finally <code>(b1)(t1)(a1)</code> is written to
&ldquo;bar&rdquo;.
</p>
<a name="Definition_of_make-parameter"></a><a name="Procedure_make-parameter"></a><a name="index-make_002dparameter"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_make-parameter">make-parameter</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>filter</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The dynamic environment is composed of two parts: the <em>local
dynamic environment</em> and the <em>global dynamic environment</em>.  There
is a single global dynamic environment, and it is used to lookup
parameter objects that can&rsquo;t be found in the local dynamic
environment.
</p>
<p>The <code>make-parameter</code> procedure returns a new <em>parameter
object</em>.  The <var>filter</var> argument is a one argument conversion
procedure.  If it is not specified, <var>filter</var> defaults to the
identity function.
</p>
<p>The global dynamic environment is updated to associate the parameter
object to a new cell.  The initial content of the cell is the result
of applying the conversion procedure to <var>obj</var>.
</p>
<p>A parameter object is a procedure which accepts zero or one argument.
The cell bound to a particular parameter object in the dynamic
environment is accessed by calling the parameter object.  When no
argument is passed, the content of the cell is returned.  When one
argument is passed the content of the cell is updated with the result
of applying the parameter object&rsquo;s conversion procedure to the
argument.  Note that the conversion procedure can be used for
guaranteeing the type of the parameter object&rsquo;s binding and/or to
perform some conversion of the value.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define radix (make-parameter 10))</b>
&gt; <b>(radix)</b>
10
&gt; <b>(radix 2)</b>
&gt; <b>(radix)</b>
2
&gt; <b>(define prompt
    (make-parameter
      123
      (lambda (x)
        (if (string? x)
            x
            (object-&gt;string x)))))</b>
&gt; <b>(prompt)</b>
&quot;123&quot;
&gt; <b>(prompt &quot;$&quot;)</b>
&gt; <b>(prompt)</b>
&quot;$&quot;
&gt; <b>(define write-shared
    (make-parameter
      #f
      (lambda (x)
        (if (boolean? x)
            x
            (error &quot;only booleans are accepted by write-shared&quot;)))))</b>
&gt; <b>(write-shared 123)</b>
*** ERROR IN ##make-parameter -- only booleans are accepted by write-shared
</pre></td></tr></table>



<a name="Definition_of_parameterize"></a><a name="Special_form_parameterize"></a><a name="index-parameterize"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_parameterize">parameterize</a></b></code><i> ((<span class="roman"><i>procedure</i></span> <span class="roman"><i>value</i></span>)&hellip;) <span class="roman"><i>body</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>The <code>parameterize</code> form, evaluates all <i>procedure</i> and
<i>value</i> expressions in an unspecified order.  All the
<i>procedure</i> expressions must evaluate to procedures, either parameter
objects or procedures accepting zero and one argument.  Then,
for each procedure <i>p</i> and in an unspecified order:
</p>
<ul>
<li>
If <i>p</i> is a parameter object a new cell is created, initialized, and
bound to the parameter object in the local dynamic environment.  The
value contained in the cell is the result of applying the parameter
object&rsquo;s conversion procedure to <i>value</i>.  The resulting dynamic
environment is then used for processing the remaining bindings (or the
evaluation of <i>body</i> if there are no other bindings).

</li><li>
Otherwise <i>p</i> will be used according to the following protocol: we
say that the call <code>(<span class="roman"><i>p</i></span>)</code> &ldquo;gets <i>p</i>&rsquo;s value&rdquo; and that
the call <code>(<span class="roman"><i>p</i></span> <span class="roman"><i>x</i></span>)</code> &ldquo;sets <i>p</i>&rsquo;s value to <i>x</i>&rdquo;.
First, the <code>parameterize</code> form gets <i>p</i>&rsquo;s value and saves it in
a local variable.  It then sets <i>p</i>&rsquo;s value to <i>value</i>.  It then
processes the remaining bindings (or evaluates <i>body</i> if there are
no other bindings).  Then it sets <i>p</i>&rsquo;s value to the saved value.
These steps are performed in a <code>dynamic-wind</code> so that it is
possible to use continuations to jump into and out of the body
(i.e. the <code>dynamic-wind</code>&rsquo;s before thunk sets <i>p</i>&rsquo;s value to
<i>value</i> and the after thunk sets <i>p</i>&rsquo;s value to the saved value).

</li></ul>

<p>The result(s) of the <code>parameterize</code> form are the result(s) of the
<i>body</i>.
</p>
<p>Note that using procedures instead of parameter objects may lead to
unexpected results in multithreaded programs because the before and
after thunks of the <code>dynamic-wind</code> are not called when control
switches between threads.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define radix (make-parameter 2))</b>
&gt; <b>(define prompt
    (make-parameter
      123
      (lambda (x)
        (if (string? x)
            x
            (object-&gt;string x)))))</b>
&gt; <b>(radix)</b>
2
&gt; <b>(parameterize ((radix 16)) (radix))</b>
16
&gt; <b>(radix)</b>
2
&gt; <b>(define (f n) (number-&gt;string n (radix)))</b>
&gt; <b>(f 10)</b>
&quot;1010&quot;
&gt; <b>(parameterize ((radix 8)) (f 10))</b>
&quot;12&quot;
&gt; <b>(parameterize ((radix 8) (prompt (f 10))) (prompt))</b>
&quot;1010&quot;
&gt; <b>(define p
    (let ((x 1))
      (lambda args
        (if (null? args) x (set! x (car args))))))</b>
&gt; <b>(let* ((a (p))
         (b (parameterize ((p 2)) (list (p))))
         (c (p)))
    (list a b c))</b>
(1 (2) 1)
</pre></td></tr></table>



<a name="Exceptions"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Dynamic-environment" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception_002dhandling" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Dynamic-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exceptions-1"></a>
<h1 class="chapter">15. Exceptions</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-memory-management">15.2 Exception objects related to memory management</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Other-exception-objects">15.10 Other exception objects</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Exception_002dhandling"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exceptions" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-memory-management" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception_002dhandling-1"></a>
<h2 class="section">15.1 Exception-handling</h2>

<p>Gambit&rsquo;s exception-handling model is inspired from the withdrawn
&ldquo;Exception Handling SRFI&rdquo; (SRFI 12), the &ldquo;Multithreading support
SRFI&rdquo; (SRFI 18), and the &ldquo;Exception Handling for Programs SRFI&rdquo;
(SRFI 34).  The two fundamental operations are the dynamic binding of
an exception handler (i.e. the procedure
<code>with-exception-handler</code>) and the invocation of the exception
handler (i.e. the procedure <code>raise</code>).
</p>
<p>All predefined procedures which check for errors (including type
errors, memory allocation errors, host operating-system errors, etc)
report these errors using the exception-handling system (i.e. they
&ldquo;raise&rdquo; an exception that can be handled in a user-defined exception
handler).  When an exception is raised and the exception is not
handled by a user-defined exception handler, the predefined exception
handler will display an error message (if the primordial thread raised
the exception) or the thread will silently terminate with no error
message (if it is not the primordial thread that raised the
exception).  This default behavior can be changed through the
&lsquo;<samp>-:d</samp>&rsquo; runtime option (see section <a href="#Runtime-options">Runtime options</a>).
</p>
<p>Predefined procedures normally raise exceptions by performing a
tail-call to the exception handler (the exceptions are &ldquo;complex&rdquo;
procedures such as <code>eval</code>, <code>compile-file</code>, <code>read</code>,
<code>write</code>, etc).  This means that the continuation of the exception
handler and of the REPL that may be started due to this is normally
the continuation of the predefined procedure that raised the
exception.  By exiting the REPL with the <code>,(c <var>expression</var>)</code>
command it is thus possible to resume the program as though the call
to the predefined procedure returned the value of <var>expression</var>.
For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (f x) (+ (car x) 1))</b>
&gt; <b>(f 2) <span class="roman"><i>; typo... we meant to say (f '(2))</i></span></b>
*** ERROR IN f, (console)@1.18 -- (Argument 1) PAIR expected
(car 2)
1&gt; <b>,(c 2)</b>
3
</pre></td></tr></table>

<a name="Definition_of_current-exception-handler"></a><a name="Procedure_current-exception-handler"></a><a name="index-current_002dexception_002dhandler"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-exception-handler">current-exception-handler</a></b></code><i> <span class="roman">[</span><var>new-exception-handler</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-current-exception_002dhandler"></a>
<p>The parameter object <code>current-exception-handler</code> is bound to the
current exception-handler.  Calling this procedure with no argument
returns the current exception-handler and calling this procedure with
one argument sets the current exception-handler to
<var>new-exception-handler</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(current-exception-handler)</b>
#&lt;procedure #2 primordial-exception-handler&gt;
&gt; <b>(current-exception-handler (lambda (exc) (pp exc) 999))</b>
&gt; <b>(/ 1 0)</b>
#&lt;divide-by-zero-exception #3&gt;
999
</pre></td></tr></table>



<a name="Definition_of_with-exception-handler"></a><a name="Procedure_with-exception-handler"></a><a name="index-with_002dexception_002dhandler"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-exception-handler">with-exception-handler</a></b></code><i> <var>handler</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the result(s) of calling <var>thunk</var> with no arguments.  The
<var>handler</var>, which must be a procedure, is installed as the current
exception-handler in the dynamic environment in effect during the call
to <var>thunk</var>.  Note that the dynamic environment in effect during
the call to <var>handler</var> has <var>handler</var> as the exception-handler.
Consequently, an exception raised during the call to <var>handler</var> may
lead to an infinite loop.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(with-exception-handler
    (lambda (e) (write e) 5)
    (lambda () (+ 1 (* 2 3) 4)))</b>
11
&gt; <b>(with-exception-handler
    (lambda (e) (write e) 5)
    (lambda () (+ 1 (* 'foo 3) 4)))</b>
#&lt;type-exception #2&gt;10
&gt; <b>(with-exception-handler
    (lambda (e) (write e 9))
    (lambda () (+ 1 (* 'foo 3) 4)))</b>
<var>infinite loop</var>
</pre></td></tr></table>



<a name="Definition_of_with-exception-catcher"></a><a name="Procedure_with-exception-catcher"></a><a name="index-with_002dexception_002dcatcher"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-exception-catcher">with-exception-catcher</a></b></code><i> <var>handler</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the result(s) of calling <var>thunk</var> with no arguments.  A new
exception-handler is installed as the current exception-handler in the
dynamic environment in effect during the call to <var>thunk</var>.  This
new exception-handler will call the <var>handler</var>, which must be a
procedure, with the exception object as an argument and with the same
continuation as the call to <code>with-exception-catcher</code>.  This
implies that the dynamic environment in effect during the call to
<var>handler</var> is the same as the one in effect at the call to
<code>with-exception-catcher</code>.  Consequently, an exception raised
during the call to <var>handler</var> will not lead to an infinite loop.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(with-exception-catcher
    (lambda (e) (write e) 5)
    (lambda () (+ 1 (* 2 3) 4)))</b>
11
&gt; <b>(with-exception-catcher
    (lambda (e) (write e) 5)
    (lambda () (+ 1 (* 'foo 3) 4)))</b>
#&lt;type-exception #2&gt;5
&gt; <b>(with-exception-catcher
    (lambda (e) (write e 9))
    (lambda () (+ 1 (* 'foo 3) 4)))</b>
*** ERROR IN (console)@7.1 -- (Argument 2) OUTPUT PORT expected
(write '#&lt;type-exception #3&gt; 9)
</pre></td></tr></table>



<a name="Definition_of_raise"></a><a name="Procedure_raise"></a><a name="index-raise"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_raise">raise</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure tail-calls the current exception-handler with <var>obj</var>
as the sole argument.  If the exception-handler returns, the
continuation of the call to <code>raise</code> is invoked.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(with-exception-handler
    (lambda (exc)
      (pp exc)
      100)
    (lambda ()
      (+ 1 (raise &quot;hello&quot;))))</b>
&quot;hello&quot;
101
</pre></td></tr></table>



<a name="Definition_of_abort"></a><a name="Procedure_abort"></a><a name="index-abort"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_abort">abort</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_noncontinuable-exception?"></a><a name="Procedure_noncontinuable-exception?"></a><a name="index-noncontinuable_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_noncontinuable-exception?">noncontinuable-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_noncontinuable-exception-reason"></a><a name="Procedure_noncontinuable-exception-reason"></a><a name="index-noncontinuable_002dexception_002dreason"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_noncontinuable-exception-reason">noncontinuable-exception-reason</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>abort</code> calls the current exception-handler with
<var>obj</var> as the sole argument.  If the exception-handler returns, the
procedure <code>abort</code> will be tail-called with a
noncontinuable-exception object, whose reason field is <var>obj</var>, as
sole argument.
</p>
<p>Noncontinuable-exception objects are raised by the <code>abort</code>
procedure when the exception-handler returns.  The parameter <var>exc</var>
must be a noncontinuable-exception object.
</p>
<p>The procedure <code>noncontinuable-exception?</code> returns
<code>#t</code> when <var>obj</var> is a noncontinuable-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>noncontinuable-exception-reason</code> returns the
argument of the call to <code>abort</code> that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-current-continuation
    (lambda (k)
      (with-exception-handler
        (lambda (exc)
          (pp exc)
          (if (noncontinuable-exception? exc)
              (k (list (noncontinuable-exception-reason exc)))
              100))
        (lambda ()
          (+ 1 (abort &quot;hello&quot;))))))</b>
&quot;hello&quot;
#&lt;noncontinuable-exception #2&gt;
(&quot;hello&quot;)
</pre></td></tr></table>



<a name="Exception-objects-related-to-memory-management"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception_002dhandling" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-the-host-environment" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-memory-management-1"></a>
<h2 class="section">15.2 Exception objects related to memory management</h2>

<a name="Definition_of_heap-overflow-exception?"></a><a name="Procedure_heap-overflow-exception?"></a><a name="index-heap_002doverflow_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_heap-overflow-exception?">heap-overflow-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Heap-overflow-exception objects are raised when the allocation of an
object would cause the heap to use more memory space than is available.
</p>
<p>The procedure <code>heap-overflow-exception?</code> returns
<code>#t</code> when <var>obj</var> is a heap-overflow-exception
object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (heap-overflow-exception? exc)
        exc
        'not-heap-overflow-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (define (f x) (f (cons 1 x)))
      (f '())))</b>
#&lt;heap-overflow-exception #2&gt;
</pre></td></tr></table>



<a name="Definition_of_stack-overflow-exception?"></a><a name="Procedure_stack-overflow-exception?"></a><a name="index-stack_002doverflow_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_stack-overflow-exception?">stack-overflow-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Stack-overflow-exception objects are raised when the allocation of a
continuation frame would cause the heap to use more memory space than
is available.
</p>
<p>The procedure <code>stack-overflow-exception?</code> returns
<code>#t</code> when <var>obj</var> is a stack-overflow-exception
object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (stack-overflow-exception? exc)
        exc
        'not-stack-overflow-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (define (f) (+ 1 (f)))
      (f)))</b>
#&lt;stack-overflow-exception #2&gt;
</pre></td></tr></table>



<a name="Exception-objects-related-to-the-host-environment"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-memory-management" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-threads" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-the-host-environment-1"></a>
<h2 class="section">15.3 Exception objects related to the host environment</h2>

<a name="Definition_of_os-exception?"></a><a name="Procedure_os-exception?"></a><a name="index-os_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_os-exception?">os-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_os-exception-procedure"></a><a name="Procedure_os-exception-procedure"></a><a name="index-os_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_os-exception-procedure">os-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_os-exception-arguments"></a><a name="Procedure_os-exception-arguments"></a><a name="index-os_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_os-exception-arguments">os-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_os-exception-code"></a><a name="Procedure_os-exception-code"></a><a name="index-os_002dexception_002dcode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_os-exception-code">os-exception-code</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_os-exception-message"></a><a name="Procedure_os-exception-message"></a><a name="index-os_002dexception_002dmessage"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_os-exception-message">os-exception-message</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Os-exception objects are raised by procedures which access the host
operating-system&rsquo;s services when the requested operation fails.  The
parameter <var>exc</var> must be a os-exception object.
</p>
<p>The procedure <code>os-exception?</code> returns
<code>#t</code> when <var>obj</var> is a os-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>os-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>os-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>os-exception-code</code> returns an exact integer error
code that can be converted to a string by the <code>err-code-&gt;string</code>
procedure.  Note that the error code is operating-system dependent.
</p>
<p>The procedure <code>os-exception-message</code> returns
<code>#f</code> or a string giving details of the exception in a
human-readable form.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (os-exception? exc)
        (list (os-exception-procedure exc)
              (os-exception-arguments exc)
              (err-code-&gt;string (os-exception-code exc))
              (os-exception-message exc))
        'not-os-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (host-info &quot;x.y.z&quot;)))</b>
(#&lt;procedure #2 host-info&gt; (&quot;x.y.z&quot;) &quot;Unknown host&quot; #f)
</pre></td></tr></table>



<a name="Definition_of_no-such-file-or-directory-exception?"></a><a name="Procedure_no-such-file-or-directory-exception?"></a><a name="index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_no-such-file-or-directory-exception?">no-such-file-or-directory-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_no-such-file-or-directory-exception-procedure"></a><a name="Procedure_no-such-file-or-directory-exception-procedure"></a><a name="index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_no-such-file-or-directory-exception-procedure">no-such-file-or-directory-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_no-such-file-or-directory-exception-arguments"></a><a name="Procedure_no-such-file-or-directory-exception-arguments"></a><a name="index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_no-such-file-or-directory-exception-arguments">no-such-file-or-directory-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>No-such-file-or-directory-exception objects are raised by procedures
which access the filesystem (such as <code>open-input-file</code> and
<code>directory-files</code>) when the path specified can&rsquo;t be found on the
filesystem.  The parameter <var>exc</var> must be a
no-such-file-or-directory-exception object.
</p>
<p>The procedure <code>no-such-file-or-directory-exception?</code> returns
<code>#t</code> when <var>obj</var> is a no-such-file-or-directory-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>no-such-file-or-directory-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>no-such-file-or-directory-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (no-such-file-or-directory-exception? exc)
        (list (no-such-file-or-directory-exception-procedure exc)
              (no-such-file-or-directory-exception-arguments exc))
        'not-no-such-file-or-directory-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (with-input-from-file &quot;nofile&quot; read)))</b>
(#&lt;procedure #2 with-input-from-file&gt; (&quot;nofile&quot; #&lt;procedure #3 read&gt;))
</pre></td></tr></table>



<a name="Definition_of_unbound-os-environment-variable-exception?"></a><a name="Procedure_unbound-os-environment-variable-exception?"></a><a name="index-unbound_002dos_002denvironment_002dvariable_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-os-environment-variable-exception?">unbound-os-environment-variable-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-os-environment-variable-exception-procedure"></a><a name="Procedure_unbound-os-environment-variable-exception-procedure"></a><a name="index-unbound_002dos_002denvironment_002dvariable_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-os-environment-variable-exception-procedure">unbound-os-environment-variable-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-os-environment-variable-exception-arguments"></a><a name="Procedure_unbound-os-environment-variable-exception-arguments"></a><a name="index-unbound_002dos_002denvironment_002dvariable_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-os-environment-variable-exception-arguments">unbound-os-environment-variable-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unbound-os-environment-variable-exception objects are raised when an
unbound operating-system environment variable is accessed by the
procedures <code>getenv</code> and <code>setenv</code>.  The parameter <var>exc</var>
must be an unbound-os-environment-variable-exception object.
</p>
<p>The procedure <code>unbound-os-environment-variable-exception?</code> returns
<code>#t</code> when <var>obj</var> is an unbound-os-environment-variable-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unbound-os-environment-variable-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>unbound-os-environment-variable-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (unbound-os-environment-variable-exception? exc)
        (list (unbound-os-environment-variable-exception-procedure exc)
              (unbound-os-environment-variable-exception-arguments exc))
        'not-unbound-os-environment-variable-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (getenv &quot;DOES_NOT_EXIST&quot;)))</b>
(#&lt;procedure #2 getenv&gt; (&quot;DOES_NOT_EXIST&quot;))
</pre></td></tr></table>



<a name="Exception-objects-related-to-threads"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-the-host-environment" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-C_002dinterface" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-threads-1"></a>
<h2 class="section">15.4 Exception objects related to threads</h2>

<a name="Definition_of_scheduler-exception?"></a><a name="Procedure_scheduler-exception?"></a><a name="index-scheduler_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_scheduler-exception?">scheduler-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_scheduler-exception-reason"></a><a name="Procedure_scheduler-exception-reason"></a><a name="index-scheduler_002dexception_002dreason"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_scheduler-exception-reason">scheduler-exception-reason</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Scheduler-exception objects are raised by the scheduler when some
operation requested from the host operating system failed
(e.g. checking the status of the devices in order to wake up threads
waiting to perform I/O on these devices).  The parameter <var>exc</var>
must be a scheduler-exception object.
</p>
<p>The procedure <code>scheduler-exception?</code> returns
<code>#t</code> when <var>obj</var> is a scheduler-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>scheduler-exception-reason</code> returns the
os-exception object that describes the failure detected by the
scheduler.
</p>


<a name="Definition_of_deadlock-exception?"></a><a name="Procedure_deadlock-exception?"></a><a name="index-deadlock_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_deadlock-exception?">deadlock-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Deadlock-exception objects are raised when the scheduler discovers
that all threads are blocked and can make no further progress.  In
that case the scheduler unblocks the primordial-thread and forces it
to raise a deadlock-exception object.
</p>
<p>The procedure <code>deadlock-exception?</code> returns <code>#t</code> when
<var>obj</var> is a deadlock-exception object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (deadlock-exception? exc)
        exc
        'not-deadlock-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (read (open-vector))))</b>
#&lt;deadlock-exception #2&gt;
</pre></td></tr></table>



<a name="Definition_of_abandoned-mutex-exception?"></a><a name="Procedure_abandoned-mutex-exception?"></a><a name="index-abandoned_002dmutex_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_abandoned-mutex-exception?">abandoned-mutex-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Abandoned-mutex-exception objects are raised when the current thread
locks a mutex that was owned by a thread which terminated (see
<code>mutex-lock!</code>).
</p>
<p>The procedure <code>abandoned-mutex-exception?</code> returns
<code>#t</code> when <var>obj</var> is a abandoned-mutex-exception
object and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (abandoned-mutex-exception? exc)
        exc
        'not-abandoned-mutex-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (let ((m (make-mutex)))
        (thread-join!
          (thread-start!
            (make-thread
              (lambda () (mutex-lock! m)))))
        (mutex-lock! m))))</b>
#&lt;abandoned-mutex-exception #2&gt;
</pre></td></tr></table>



<a name="Definition_of_join-timeout-exception?"></a><a name="Procedure_join-timeout-exception?"></a><a name="index-join_002dtimeout_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_join-timeout-exception?">join-timeout-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_join-timeout-exception-procedure"></a><a name="Procedure_join-timeout-exception-procedure"></a><a name="index-join_002dtimeout_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_join-timeout-exception-procedure">join-timeout-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_join-timeout-exception-arguments"></a><a name="Procedure_join-timeout-exception-arguments"></a><a name="index-join_002dtimeout_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_join-timeout-exception-arguments">join-timeout-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Join-timeout-exception objects are raised when a call to the
<code>thread-join!</code> procedure reaches its timeout before the target
thread terminates and a timeout-value parameter is not specified.  The
parameter <var>exc</var> must be a join-timeout-exception object.
</p>
<p>The procedure <code>join-timeout-exception?</code> returns
<code>#t</code> when <var>obj</var> is a join-timeout-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>join-timeout-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>join-timeout-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (join-timeout-exception? exc)
        (list (join-timeout-exception-procedure exc)
              (join-timeout-exception-arguments exc))
        'not-join-timeout-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (thread-join!
        (thread-start!
          (make-thread
            (lambda () (thread-sleep! 10))))
        5)))</b>
(#&lt;procedure #2 thread-join!&gt; (#&lt;thread #3&gt; 5))
</pre></td></tr></table>



<a name="Definition_of_started-thread-exception?"></a><a name="Procedure_started-thread-exception?"></a><a name="index-started_002dthread_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_started-thread-exception?">started-thread-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_started-thread-exception-procedure"></a><a name="Procedure_started-thread-exception-procedure"></a><a name="index-started_002dthread_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_started-thread-exception-procedure">started-thread-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_started-thread-exception-arguments"></a><a name="Procedure_started-thread-exception-arguments"></a><a name="index-started_002dthread_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_started-thread-exception-arguments">started-thread-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Started-thread-exception objects are raised when the target thread of
a call to the procedure <code>thread-start!</code> is already started.  The
parameter <var>exc</var> must be a started-thread-exception object.
</p>
<p>The procedure <code>started-thread-exception?</code> returns
<code>#t</code> when <var>obj</var> is a started-thread-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>started-thread-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>started-thread-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (started-thread-exception? exc)
        (list (started-thread-exception-procedure exc)
              (started-thread-exception-arguments exc))
        'not-started-thread-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (let ((t (make-thread (lambda () (expt 2 1000)))))
        (thread-start! t)
        (thread-start! t))))</b>
(#&lt;procedure #2 thread-start!&gt; (#&lt;thread #3&gt;))
</pre></td></tr></table>



<a name="Definition_of_terminated-thread-exception?"></a><a name="Procedure_terminated-thread-exception?"></a><a name="index-terminated_002dthread_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_terminated-thread-exception?">terminated-thread-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_terminated-thread-exception-procedure"></a><a name="Procedure_terminated-thread-exception-procedure"></a><a name="index-terminated_002dthread_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_terminated-thread-exception-procedure">terminated-thread-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_terminated-thread-exception-arguments"></a><a name="Procedure_terminated-thread-exception-arguments"></a><a name="index-terminated_002dthread_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_terminated-thread-exception-arguments">terminated-thread-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Terminated-thread-exception objects are raised when the
<code>thread-join!</code> procedure is called and the target thread has
terminated as a result of a call to the <code>thread-terminate!</code>
procedure.  The parameter <var>exc</var> must be a
terminated-thread-exception object.
</p>
<p>The procedure <code>terminated-thread-exception?</code> returns
<code>#t</code> when <var>obj</var> is a terminated-thread-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>terminated-thread-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>terminated-thread-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (terminated-thread-exception? exc)
        (list (terminated-thread-exception-procedure exc)
              (terminated-thread-exception-arguments exc))
        'not-terminated-thread-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (thread-join!
        (thread-start!
          (make-thread
            (lambda () (thread-terminate! (current-thread))))))))</b>
(#&lt;procedure #2 thread-join!&gt; (#&lt;thread #3&gt;))
</pre></td></tr></table>



<a name="Definition_of_uncaught-exception?"></a><a name="Procedure_uncaught-exception?"></a><a name="index-uncaught_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uncaught-exception?">uncaught-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uncaught-exception-procedure"></a><a name="Procedure_uncaught-exception-procedure"></a><a name="index-uncaught_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uncaught-exception-procedure">uncaught-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uncaught-exception-arguments"></a><a name="Procedure_uncaught-exception-arguments"></a><a name="index-uncaught_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uncaught-exception-arguments">uncaught-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_uncaught-exception-reason"></a><a name="Procedure_uncaught-exception-reason"></a><a name="index-uncaught_002dexception_002dreason"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_uncaught-exception-reason">uncaught-exception-reason</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Uncaught-exception objects are raised when an object is raised in a
thread and that thread does not handle it (i.e. the thread terminated
because it did not catch an exception it raised).  The parameter
<var>exc</var> must be an uncaught-exception object.
</p>
<p>The procedure <code>uncaught-exception?</code> returns
<code>#t</code> when <var>obj</var> is an uncaught-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>uncaught-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>uncaught-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>uncaught-exception-reason</code> returns the object that
was raised by the thread and not handled by that thread.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (uncaught-exception? exc)
        (list (uncaught-exception-procedure exc)
              (uncaught-exception-arguments exc)
              (uncaught-exception-reason exc))
        'not-uncaught-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (thread-join!
        (thread-start!
          (make-thread
            (lambda () (open-input-file &quot;data&quot; 99)))))))</b>
(#&lt;procedure #2 thread-join!&gt;
 (#&lt;thread #3&gt;)
 #&lt;wrong-number-of-arguments-exception #4&gt;)
</pre></td></tr></table>



<a name="Exception-objects-related-to-C_002dinterface"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-threads" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-the-reader" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-C_002dinterface-1"></a>
<h2 class="section">15.5 Exception objects related to C-interface</h2>

<a name="Definition_of_cfun-conversion-exception?"></a><a name="Procedure_cfun-conversion-exception?"></a><a name="index-cfun_002dconversion_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cfun-conversion-exception?">cfun-conversion-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_cfun-conversion-exception-procedure"></a><a name="Procedure_cfun-conversion-exception-procedure"></a><a name="index-cfun_002dconversion_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cfun-conversion-exception-procedure">cfun-conversion-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_cfun-conversion-exception-arguments"></a><a name="Procedure_cfun-conversion-exception-arguments"></a><a name="index-cfun_002dconversion_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cfun-conversion-exception-arguments">cfun-conversion-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_cfun-conversion-exception-code"></a><a name="Procedure_cfun-conversion-exception-code"></a><a name="index-cfun_002dconversion_002dexception_002dcode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cfun-conversion-exception-code">cfun-conversion-exception-code</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_cfun-conversion-exception-message"></a><a name="Procedure_cfun-conversion-exception-message"></a><a name="index-cfun_002dconversion_002dexception_002dmessage"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cfun-conversion-exception-message">cfun-conversion-exception-message</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Cfun-conversion-exception objects are raised by the C-interface when
converting between the Scheme representation and the C representation
of a value during a call from Scheme to C.  The parameter <var>exc</var>
must be a cfun-conversion-exception object.
</p>
<p>The procedure <code>cfun-conversion-exception?</code> returns <code>#t</code> when
<var>obj</var> is a cfun-conversion-exception object and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>cfun-conversion-exception-procedure</code> returns the
procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>cfun-conversion-exception-arguments</code> returns the
list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>cfun-conversion-exception-code</code> returns an exact
integer error code that can be converted to a string by the
<code>err-code-&gt;string</code> procedure.
</p>
<p>The procedure <code>cfun-conversion-exception-message</code> returns
<code>#f</code> or a string giving details of the exception in a
human-readable form.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat test1.scm</b>
(define weird
  (c-lambda (char-string) nonnull-char-string
    &quot;___result = ___arg1;&quot;))
$ <b>gsc test1.scm</b>
$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(load &quot;test1&quot;)</b>
&quot;/Users/feeley/gambit/doc/test1.o1&quot;
&gt; <b>(weird &quot;hello&quot;)</b>
&quot;hello&quot;
&gt; <b>(define (handler exc)
    (if (cfun-conversion-exception? exc)
        (list (cfun-conversion-exception-procedure exc)
              (cfun-conversion-exception-arguments exc)
              (err-code-&gt;string (cfun-conversion-exception-code exc))
              (cfun-conversion-exception-message exc))
        'not-cfun-conversion-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (weird 'not-a-string)))</b>
(#&lt;procedure #2 weird&gt;
 (not-a-string)
 &quot;(Argument 1) Can't convert to C char-string&quot;
 #f)
&gt; <b>(with-exception-catcher
    handler
    (lambda () (weird #f)))</b>
(#&lt;procedure #2 weird&gt;
 (#f)
 &quot;Can't convert result from C nonnull-char-string&quot;
 #f)
</pre></td></tr></table>



<a name="Definition_of_sfun-conversion-exception?"></a><a name="Procedure_sfun-conversion-exception?"></a><a name="index-sfun_002dconversion_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_sfun-conversion-exception?">sfun-conversion-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_sfun-conversion-exception-procedure"></a><a name="Procedure_sfun-conversion-exception-procedure"></a><a name="index-sfun_002dconversion_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_sfun-conversion-exception-procedure">sfun-conversion-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_sfun-conversion-exception-arguments"></a><a name="Procedure_sfun-conversion-exception-arguments"></a><a name="index-sfun_002dconversion_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_sfun-conversion-exception-arguments">sfun-conversion-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_sfun-conversion-exception-code"></a><a name="Procedure_sfun-conversion-exception-code"></a><a name="index-sfun_002dconversion_002dexception_002dcode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_sfun-conversion-exception-code">sfun-conversion-exception-code</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_sfun-conversion-exception-message"></a><a name="Procedure_sfun-conversion-exception-message"></a><a name="index-sfun_002dconversion_002dexception_002dmessage"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_sfun-conversion-exception-message">sfun-conversion-exception-message</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Sfun-conversion-exception objects are raised by the C-interface when
converting between the Scheme representation and the C representation
of a value during a call from C to Scheme.  The parameter <var>exc</var>
must be a sfun-conversion-exception object.
</p>
<p>The procedure <code>sfun-conversion-exception?</code> returns <code>#t</code> when
<var>obj</var> is a sfun-conversion-exception object and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>sfun-conversion-exception-procedure</code> returns the
procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>sfun-conversion-exception-arguments</code> returns the
list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>sfun-conversion-exception-code</code> returns an exact
integer error code that can be converted to a string by the
<code>err-code-&gt;string</code> procedure.
</p>
<p>The procedure <code>sfun-conversion-exception-message</code> returns
<code>#f</code> or a string giving details of the exception in a
human-readable form.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat test2.scm</b>
(c-define (f str) (nonnull-char-string) int &quot;f&quot; &quot;&quot;
  (string-&gt;number str))
(define t1 (c-lambda () int &quot;___result = f (\&quot;123\&quot;);&quot;))
(define t2 (c-lambda () int &quot;___result = f (0);&quot;))
(define t3 (c-lambda () int &quot;___result = f (\&quot;1.5\&quot;);&quot;))
$ <b>gsc test2.scm</b>
$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(load &quot;test2&quot;)</b>
&quot;/u/feeley/test2.o1&quot;
&gt; <b>(t1)</b>
123
&gt; <b>(define (handler exc)
    (if (sfun-conversion-exception? exc)
        (list (sfun-conversion-exception-procedure exc)
              (sfun-conversion-exception-arguments exc)
              (err-code-&gt;string (sfun-conversion-exception-code exc))
              (sfun-conversion-exception-message exc))
        'not-sfun-conversion-exception))</b>
&gt; <b>(with-exception-catcher handler t2)</b>
(#&lt;procedure #2 f&gt;
 ()
 &quot;(Argument 1) Can't convert from C nonnull-char-string&quot;
 #f)
&gt; <b>(with-exception-catcher handler t3)</b>
(#&lt;procedure #2 f&gt; () &quot;Can't convert result to C int&quot; #f)
</pre></td></tr></table>



<a name="Definition_of_multiple-c-return-exception?"></a><a name="Procedure_multiple-c-return-exception?"></a><a name="index-multiple_002dc_002dreturn_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_multiple-c-return-exception?">multiple-c-return-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Multiple-c-return-exception objects are raised by the C-interface when
a C to Scheme procedure call returns and that call&rsquo;s stack frame is no
longer on the C stack because the call has already returned, or has
been removed from the C stack by a <code>longjump</code>.
</p>
<p>The procedure <code>multiple-c-return-exception?</code> returns <code>#t</code>
when <var>obj</var> is a multiple-c-return-exception object and <code>#f</code>
otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>cat test3.scm</b>
(c-define (f str) (char-string) scheme-object &quot;f&quot; &quot;&quot;
  (pp (list 'entry 'str= str))
  (let ((k (call-with-current-continuation (lambda (k) k))))
    (pp (list 'exit 'k= k))
    k))
(define scheme-to-c-to-scheme-and-back
  (c-lambda (char-string) scheme-object
    &quot;___result = f (___arg1);&quot;))
$ <b>gsc test3.scm</b>
$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(load &quot;test3&quot;)</b>
&quot;/Users/feeley/gambit/doc/test3.o1&quot;
&gt; <b>(define (handler exc)
    (if (multiple-c-return-exception? exc)
        exc
        'not-multiple-c-return-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (let ((c (scheme-to-c-to-scheme-and-back &quot;hello&quot;)))
        (pp c)
        (c 999))))</b>
(entry str= &quot;hello&quot;)
(exit k= #&lt;procedure #2&gt;)
#&lt;procedure #2&gt;
(exit k= 999)
#&lt;multiple-c-return-exception #3&gt;
</pre></td></tr></table>



<a name="Exception-objects-related-to-the-reader"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-C_002dinterface" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-evaluation-and-compilation" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-the-reader-1"></a>
<h2 class="section">15.6 Exception objects related to the reader</h2>

<a name="Definition_of_datum-parsing-exception?"></a><a name="Procedure_datum-parsing-exception?"></a><a name="index-datum_002dparsing_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_datum-parsing-exception?">datum-parsing-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_datum-parsing-exception-kind"></a><a name="Procedure_datum-parsing-exception-kind"></a><a name="index-datum_002dparsing_002dexception_002dkind"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_datum-parsing-exception-kind">datum-parsing-exception-kind</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_datum-parsing-exception-parameters"></a><a name="Procedure_datum-parsing-exception-parameters"></a><a name="index-datum_002dparsing_002dexception_002dparameters"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_datum-parsing-exception-parameters">datum-parsing-exception-parameters</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_datum-parsing-exception-readenv"></a><a name="Procedure_datum-parsing-exception-readenv"></a><a name="index-datum_002dparsing_002dexception_002dreadenv"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_datum-parsing-exception-readenv">datum-parsing-exception-readenv</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Datum-parsing-exception objects are raised by the reader (i.e. the
<code>read</code> procedure) when the input does not conform to the grammar
for datum.  The parameter <var>exc</var> must be a datum-parsing-exception
object.
</p>
<p>The procedure <code>datum-parsing-exception?</code> returns <code>#t</code> when
<var>obj</var> is a datum-parsing-exception object and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>datum-parsing-exception-kind</code> returns a symbol
denoting the kind of parsing error that was encountered by the
reader when it raised <var>exc</var>.  Here is a table of the possible
return values:
</p>
<table>
<tr><td width="50%"><code>datum-or-eof-expected</code></td><td width="50%">Datum or EOF expected</td></tr>
<tr><td width="50%"><code>datum-expected</code></td><td width="50%">Datum expected</td></tr>
<tr><td width="50%"><code>improperly-placed-dot</code></td><td width="50%">Improperly placed dot</td></tr>
<tr><td width="50%"><code>incomplete-form-eof-reached</code></td><td width="50%">Incomplete form, EOF reached</td></tr>
<tr><td width="50%"><code>incomplete-form</code></td><td width="50%">Incomplete form</td></tr>
<tr><td width="50%"><code>character-out-of-range</code></td><td width="50%">Character out of range</td></tr>
<tr><td width="50%"><code>invalid-character-name</code></td><td width="50%">Invalid &rsquo;#\&rsquo; name</td></tr>
<tr><td width="50%"><code>illegal-character</code></td><td width="50%">Illegal character</td></tr>
<tr><td width="50%"><code>s8-expected</code></td><td width="50%">Signed 8 bit exact integer expected</td></tr>
<tr><td width="50%"><code>u8-expected</code></td><td width="50%">Unsigned 8 bit exact integer expected</td></tr>
<tr><td width="50%"><code>s16-expected</code></td><td width="50%">Signed 16 bit exact integer expected</td></tr>
<tr><td width="50%"><code>u16-expected</code></td><td width="50%">Unsigned 16 bit exact integer expected</td></tr>
<tr><td width="50%"><code>s32-expected</code></td><td width="50%">Signed 32 bit exact integer expected</td></tr>
<tr><td width="50%"><code>u32-expected</code></td><td width="50%">Unsigned 32 bit exact integer expected</td></tr>
<tr><td width="50%"><code>s64-expected</code></td><td width="50%">Signed 64 bit exact integer expected</td></tr>
<tr><td width="50%"><code>u64-expected</code></td><td width="50%">Unsigned 64 bit exact integer expected</td></tr>
<tr><td width="50%"><code>inexact-real-expected</code></td><td width="50%">Inexact real expected</td></tr>
<tr><td width="50%"><code>invalid-hex-escape</code></td><td width="50%">Invalid hexadecimal escape</td></tr>
<tr><td width="50%"><code>invalid-escaped-character</code></td><td width="50%">Invalid escaped character</td></tr>
<tr><td width="50%"><code>open-paren-expected</code></td><td width="50%">&rsquo;(&rsquo; expected</td></tr>
<tr><td width="50%"><code>invalid-token</code></td><td width="50%">Invalid token</td></tr>
<tr><td width="50%"><code>invalid-sharp-bang-name</code></td><td width="50%">Invalid &rsquo;#!&rsquo; name</td></tr>
<tr><td width="50%"><code>duplicate-label-definition</code></td><td width="50%">Duplicate definition for label</td></tr>
<tr><td width="50%"><code>missing-label-definition</code></td><td width="50%">Missing definition for label</td></tr>
<tr><td width="50%"><code>illegal-label-definition</code></td><td width="50%">Illegal definition of label</td></tr>
<tr><td width="50%"><code>invalid-infix-syntax-character</code></td><td width="50%">Invalid infix syntax character</td></tr>
<tr><td width="50%"><code>invalid-infix-syntax-number</code></td><td width="50%">Invalid infix syntax number</td></tr>
<tr><td width="50%"><code>invalid-infix-syntax</code></td><td width="50%">Invalid infix syntax</td></tr>
</table>

<p>The procedure <code>datum-parsing-exception-parameters</code> returns a list
of the parameters associated with the parsing error that was
encountered by the reader when it raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (datum-parsing-exception? exc)
        (list (datum-parsing-exception-kind exc)
              (datum-parsing-exception-parameters exc))
        'not-datum-parsing-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (with-input-from-string &quot;(s #\\pace)&quot; read)))</b>
(invalid-character-name (&quot;pace&quot;))
</pre></td></tr></table>



<a name="Exception-objects-related-to-evaluation-and-compilation"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-the-reader" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-type-checking" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-evaluation-and-compilation-1"></a>
<h2 class="section">15.7 Exception objects related to evaluation and compilation</h2>

<a name="Definition_of_expression-parsing-exception?"></a><a name="Procedure_expression-parsing-exception?"></a><a name="index-expression_002dparsing_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_expression-parsing-exception?">expression-parsing-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_expression-parsing-exception-kind"></a><a name="Procedure_expression-parsing-exception-kind"></a><a name="index-expression_002dparsing_002dexception_002dkind"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_expression-parsing-exception-kind">expression-parsing-exception-kind</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_expression-parsing-exception-parameters"></a><a name="Procedure_expression-parsing-exception-parameters"></a><a name="index-expression_002dparsing_002dexception_002dparameters"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_expression-parsing-exception-parameters">expression-parsing-exception-parameters</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_expression-parsing-exception-source"></a><a name="Procedure_expression-parsing-exception-source"></a><a name="index-expression_002dparsing_002dexception_002dsource"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_expression-parsing-exception-source">expression-parsing-exception-source</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Expression-parsing-exception objects are raised by the evaluator and
compiler (i.e. the procedures <code>eval</code>, <code>compile-file</code>, etc)
when the input does not conform to the grammar for expression.  The
parameter <var>exc</var> must be a expression-parsing-exception object.
</p>
<p>The procedure <code>expression-parsing-exception?</code> returns <code>#t</code> when
<var>obj</var> is a expression-parsing-exception object and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>expression-parsing-exception-kind</code> returns a
symbol denoting the kind of parsing error that was encountered by the
evaluator or compiler when it raised <var>exc</var>.  Here is a table of
the possible return values:
</p>
<table>
<tr><td width="50%"><code>id-expected</code></td><td width="50%">Identifier expected</td></tr>
<tr><td width="50%"><code>ill-formed-namespace</code></td><td width="50%">Ill-formed namespace</td></tr>
<tr><td width="50%"><code>ill-formed-namespace-prefix</code></td><td width="50%">Ill-formed namespace prefix</td></tr>
<tr><td width="50%"><code>namespace-prefix-must-be-string</code></td><td width="50%">Namespace prefix must be a string</td></tr>
<tr><td width="50%"><code>macro-used-as-variable</code></td><td width="50%">Macro name can&rsquo;t be used as a variable</td></tr>
<tr><td width="50%"><code>variable-is-immutable</code></td><td width="50%">Variable is immutable</td></tr>
<tr><td width="50%"><code>ill-formed-macro-transformer</code></td><td width="50%">Macro transformer must be a lambda expression</td></tr>
<tr><td width="50%"><code>reserved-used-as-variable</code></td><td width="50%">Reserved identifier can&rsquo;t be used as a variable</td></tr>
<tr><td width="50%"><code>ill-formed-special-form</code></td><td width="50%">Ill-formed special form</td></tr>
<tr><td width="50%"><code>cannot-open-file</code></td><td width="50%">Can&rsquo;t open file</td></tr>
<tr><td width="50%"><code>filename-expected</code></td><td width="50%">Filename expected</td></tr>
<tr><td width="50%"><code>ill-placed-define</code></td><td width="50%">Ill-placed &rsquo;define&rsquo;</td></tr>
<tr><td width="50%"><code>ill-placed-**include</code></td><td width="50%">Ill-placed &rsquo;##include&rsquo;</td></tr>
<tr><td width="50%"><code>ill-placed-**define-macro</code></td><td width="50%">Ill-placed &rsquo;##define-macro&rsquo;</td></tr>
<tr><td width="50%"><code>ill-placed-**declare</code></td><td width="50%">Ill-placed &rsquo;##declare&rsquo;</td></tr>
<tr><td width="50%"><code>ill-placed-**namespace</code></td><td width="50%">Ill-placed &rsquo;##namespace&rsquo;</td></tr>
<tr><td width="50%"><code>ill-formed-expression</code></td><td width="50%">Ill-formed expression</td></tr>
<tr><td width="50%"><code>unsupported-special-form</code></td><td width="50%">Interpreter does not support</td></tr>
<tr><td width="50%"><code>ill-placed-unquote</code></td><td width="50%">Ill-placed &rsquo;unquote&rsquo;</td></tr>
<tr><td width="50%"><code>ill-placed-unquote-splicing</code></td><td width="50%">Ill-placed &rsquo;unquote-splicing&rsquo;</td></tr>
<tr><td width="50%"><code>parameter-must-be-id</code></td><td width="50%">Parameter must be an identifier</td></tr>
<tr><td width="50%"><code>parameter-must-be-id-or-default</code></td><td width="50%">Parameter must be an identifier or default binding</td></tr>
<tr><td width="50%"><code>duplicate-parameter</code></td><td width="50%">Duplicate parameter in parameter list</td></tr>
<tr><td width="50%"><code>ill-placed-dotted-rest-parameter</code></td><td width="50%">Ill-placed dotted rest parameter</td></tr>
<tr><td width="50%"><code>parameter-expected-after-rest</code></td><td width="50%">#!rest must be followed by a parameter</td></tr>
<tr><td width="50%"><code>ill-formed-default</code></td><td width="50%">Ill-formed default binding</td></tr>
<tr><td width="50%"><code>ill-placed-optional</code></td><td width="50%">Ill-placed #!optional</td></tr>
<tr><td width="50%"><code>ill-placed-rest</code></td><td width="50%">Ill-placed #!rest</td></tr>
<tr><td width="50%"><code>ill-placed-key</code></td><td width="50%">Ill-placed #!key</td></tr>
<tr><td width="50%"><code>key-expected-after-rest</code></td><td width="50%">#!key expected after rest parameter</td></tr>
<tr><td width="50%"><code>ill-placed-default</code></td><td width="50%">Ill-placed default binding</td></tr>
<tr><td width="50%"><code>duplicate-variable-definition</code></td><td width="50%">Duplicate definition of a variable</td></tr>
<tr><td width="50%"><code>empty-body</code></td><td width="50%">Body must contain at least one expression</td></tr>
<tr><td width="50%"><code>variable-must-be-id</code></td><td width="50%">Defined variable must be an identifier</td></tr>
<tr><td width="50%"><code>else-clause-not-last</code></td><td width="50%">Else clause must be last</td></tr>
<tr><td width="50%"><code>ill-formed-selector-list</code></td><td width="50%">Ill-formed selector list</td></tr>
<tr><td width="50%"><code>duplicate-variable-binding</code></td><td width="50%">Duplicate variable in bindings</td></tr>
<tr><td width="50%"><code>ill-formed-binding-list</code></td><td width="50%">Ill-formed binding list</td></tr>
<tr><td width="50%"><code>ill-formed-call</code></td><td width="50%">Ill-formed procedure call</td></tr>
<tr><td width="50%"><code>ill-formed-cond-expand</code></td><td width="50%">Ill-formed &rsquo;cond-expand&rsquo;</td></tr>
<tr><td width="50%"><code>unfulfilled-cond-expand</code></td><td width="50%">Unfulfilled &rsquo;cond-expand&rsquo;</td></tr>
</table>

<p>The procedure <code>expression-parsing-exception-parameters</code> returns a list
of the parameters associated with the parsing error that was
encountered by the evaluator or compiler when it raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (expression-parsing-exception? exc)
        (list (expression-parsing-exception-kind exc)
              (expression-parsing-exception-parameters exc))
        'not-expression-parsing-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (eval '(+ do 1))))</b>
(reserved-used-as-variable (do))
</pre></td></tr></table>



<a name="Definition_of_unbound-global-exception?"></a><a name="Procedure_unbound-global-exception?"></a><a name="index-unbound_002dglobal_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-global-exception?">unbound-global-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-global-exception-variable"></a><a name="Procedure_unbound-global-exception-variable"></a><a name="index-unbound_002dglobal_002dexception_002dvariable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-global-exception-variable">unbound-global-exception-variable</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-global-exception-code"></a><a name="Procedure_unbound-global-exception-code"></a><a name="index-unbound_002dglobal_002dexception_002dcode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-global-exception-code">unbound-global-exception-code</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unbound-global-exception-rte"></a><a name="Procedure_unbound-global-exception-rte"></a><a name="index-unbound_002dglobal_002dexception_002drte"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unbound-global-exception-rte">unbound-global-exception-rte</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unbound-global-exception objects are raised when an unbound global
variable is accessed.  The parameter <var>exc</var> must be an
unbound-global-exception object.
</p>
<p>The procedure <code>unbound-global-exception?</code> returns
<code>#t</code> when <var>obj</var> is an unbound-global-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unbound-global-exception-variable</code> returns a
symbol identifying the unbound global variable.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (unbound-global-exception? exc)
        (list 'variable= (unbound-global-exception-variable exc))
        'not-unbound-global-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () foo))</b>
(variable= foo)
</pre></td></tr></table>



<a name="Exception-objects-related-to-type-checking"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-evaluation-and-compilation" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Exception-objects-related-to-procedure-call" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-type-checking-1"></a>
<h2 class="section">15.8 Exception objects related to type checking</h2>

<a name="Definition_of_type-exception?"></a><a name="Procedure_type-exception?"></a><a name="index-type_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_type-exception?">type-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_type-exception-procedure"></a><a name="Procedure_type-exception-procedure"></a><a name="index-type_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_type-exception-procedure">type-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_type-exception-arguments"></a><a name="Procedure_type-exception-arguments"></a><a name="index-type_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_type-exception-arguments">type-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_type-exception-arg-num"></a><a name="Procedure_type-exception-arg-num"></a><a name="index-type_002dexception_002darg_002dnum"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_type-exception-arg-num">type-exception-arg-num</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_type-exception-type-id"></a><a name="Procedure_type-exception-type-id"></a><a name="index-type_002dexception_002dtype_002did"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_type-exception-type-id">type-exception-type-id</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Type-exception objects are raised when a primitive procedure is called
with an argument of incorrect type (i.e. when a run time type-check
fails).  The parameter <var>exc</var> must be a type-exception object.
</p>
<p>The procedure <code>type-exception?</code> returns
<code>#t</code> when <var>obj</var> is a type-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>type-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>type-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>type-exception-arg-num</code> returns the position of the
argument whose type is incorrect.  Position 1 is the first argument.
</p>
<p>The procedure <code>type-exception-type-id</code> returns an identifier of
the type expected.  The type-id can be a symbol, such as <code>number</code>
and <code>string-or-nonnegative-fixnum</code>, or a record type descriptor.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (type-exception? exc)
        (list (type-exception-procedure exc)
              (type-exception-arguments exc)
              (type-exception-arg-num exc)
              (type-exception-type-id exc))
        'not-type-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (vector-ref '#(a b c) 'foo)))</b>
(#&lt;procedure #2 vector-ref&gt; (#(a b c) foo) 2 exact-integer)
&gt; <b>(with-exception-catcher
    handler
    (lambda () (time-&gt;seconds 'foo)))</b>
(#&lt;procedure #3 time-&gt;seconds&gt; (foo) 1 #&lt;type #4 time&gt;)
</pre></td></tr></table>



<a name="Definition_of_range-exception?"></a><a name="Procedure_range-exception?"></a><a name="index-range_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_range-exception?">range-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_range-exception-procedure"></a><a name="Procedure_range-exception-procedure"></a><a name="index-range_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_range-exception-procedure">range-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_range-exception-arguments"></a><a name="Procedure_range-exception-arguments"></a><a name="index-range_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_range-exception-arguments">range-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_range-exception-arg-num"></a><a name="Procedure_range-exception-arg-num"></a><a name="index-range_002dexception_002darg_002dnum"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_range-exception-arg-num">range-exception-arg-num</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Range-exception objects are raised when a numeric parameter is not in
the allowed range.  The parameter <var>exc</var> must be a range-exception
object.
</p>
<p>The procedure <code>range-exception?</code> returns <code>#t</code> when <var>obj</var>
is a range-exception object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>range-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>range-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>range-exception-arg-num</code> returns the position of
the argument which is not in the allowed range.  Position 1 is the
first argument.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (range-exception? exc)
        (list (range-exception-procedure exc)
              (range-exception-arguments exc)
              (range-exception-arg-num exc))
        'not-range-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (string-ref &quot;abcde&quot; 10)))</b>
(#&lt;procedure #2 string-ref&gt; (&quot;abcde&quot; 10) 2)
</pre></td></tr></table>



<a name="Definition_of_divide-by-zero-exception?"></a><a name="Procedure_divide-by-zero-exception?"></a><a name="index-divide_002dby_002dzero_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_divide-by-zero-exception?">divide-by-zero-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_divide-by-zero-exception-procedure"></a><a name="Procedure_divide-by-zero-exception-procedure"></a><a name="index-divide_002dby_002dzero_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_divide-by-zero-exception-procedure">divide-by-zero-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_divide-by-zero-exception-arguments"></a><a name="Procedure_divide-by-zero-exception-arguments"></a><a name="index-divide_002dby_002dzero_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_divide-by-zero-exception-arguments">divide-by-zero-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Divide-by-zero-exception objects are raised when a division by zero is
attempted.  The parameter <var>exc</var> must be a divide-by-zero-exception
object.
</p>
<p>The procedure <code>divide-by-zero-exception?</code> returns
<code>#t</code> when <var>obj</var> is a divide-by-zero-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>divide-by-zero-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>divide-by-zero-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (divide-by-zero-exception? exc)
        (list (divide-by-zero-exception-procedure exc)
              (divide-by-zero-exception-arguments exc))
        'not-divide-by-zero-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (/ 5 0 7)))</b>
(#&lt;procedure #2 /&gt; (5 0 7))
</pre></td></tr></table>



<a name="Definition_of_improper-length-list-exception?"></a><a name="Procedure_improper-length-list-exception?"></a><a name="index-improper_002dlength_002dlist_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_improper-length-list-exception?">improper-length-list-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_improper-length-list-exception-procedure"></a><a name="Procedure_improper-length-list-exception-procedure"></a><a name="index-improper_002dlength_002dlist_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_improper-length-list-exception-procedure">improper-length-list-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_improper-length-list-exception-arguments"></a><a name="Procedure_improper-length-list-exception-arguments"></a><a name="index-improper_002dlength_002dlist_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_improper-length-list-exception-arguments">improper-length-list-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_improper-length-list-exception-arg-num"></a><a name="Procedure_improper-length-list-exception-arg-num"></a><a name="index-improper_002dlength_002dlist_002dexception_002darg_002dnum"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_improper-length-list-exception-arg-num">improper-length-list-exception-arg-num</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Improper-length-list-exception objects are raised by the <code>map</code>
and <code>for-each</code> procedures when they are called with two or more
list arguments and the lists are not of the same length.  The
parameter <var>exc</var> must be an improper-length-list-exception object.
</p>
<p>The procedure <code>improper-length-list-exception?</code> returns
<code>#t</code> when <var>obj</var> is an improper-length-list-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>improper-length-list-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>improper-length-list-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>improper-length-list-exception-arg-num</code> returns
the position of the argument whose length is the shortest.  Position 1
is the first argument.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (improper-length-list-exception? exc)
        (list (improper-length-list-exception-procedure exc)
              (improper-length-list-exception-arguments exc)
              (improper-length-list-exception-arg-num exc))
        'not-improper-length-list-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (map + '(1 2) '(3) '(4 5))))</b>
(#&lt;procedure #2 map&gt; (#&lt;procedure #3 +&gt; (1 2) (3) (4 5)) 3)
</pre></td></tr></table>



<a name="Exception-objects-related-to-procedure-call"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-type-checking" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Other-exception-objects" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Exception-objects-related-to-procedure-call-1"></a>
<h2 class="section">15.9 Exception objects related to procedure call</h2>

<a name="Definition_of_wrong-number-of-arguments-exception?"></a><a name="Procedure_wrong-number-of-arguments-exception?"></a><a name="index-wrong_002dnumber_002dof_002darguments_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_wrong-number-of-arguments-exception?">wrong-number-of-arguments-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_wrong-number-of-arguments-exception-procedure"></a><a name="Procedure_wrong-number-of-arguments-exception-procedure"></a><a name="index-wrong_002dnumber_002dof_002darguments_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_wrong-number-of-arguments-exception-procedure">wrong-number-of-arguments-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_wrong-number-of-arguments-exception-arguments"></a><a name="Procedure_wrong-number-of-arguments-exception-arguments"></a><a name="index-wrong_002dnumber_002dof_002darguments_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_wrong-number-of-arguments-exception-arguments">wrong-number-of-arguments-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Wrong-number-of-arguments-exception objects are raised when a
procedure is called with the wrong number of arguments.  The parameter
<var>exc</var> must be a wrong-number-of-arguments-exception object.
</p>
<p>The procedure <code>wrong-number-of-arguments-exception?</code> returns
<code>#t</code> when <var>obj</var> is a wrong-number-of-arguments-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>wrong-number-of-arguments-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>wrong-number-of-arguments-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (wrong-number-of-arguments-exception? exc)
        (list (wrong-number-of-arguments-exception-procedure exc)
              (wrong-number-of-arguments-exception-arguments exc))
        'not-wrong-number-of-arguments-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (open-input-file &quot;data&quot; 99)))</b>
(#&lt;procedure #2 open-input-file&gt; (&quot;data&quot; 99))
</pre></td></tr></table>



<a name="Definition_of_number-of-arguments-limit-exception?"></a><a name="Procedure_number-of-arguments-limit-exception?"></a><a name="index-number_002dof_002darguments_002dlimit_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_number-of-arguments-limit-exception?">number-of-arguments-limit-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_number-of-arguments-limit-exception-procedure"></a><a name="Procedure_number-of-arguments-limit-exception-procedure"></a><a name="index-number_002dof_002darguments_002dlimit_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_number-of-arguments-limit-exception-procedure">number-of-arguments-limit-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_number-of-arguments-limit-exception-arguments"></a><a name="Procedure_number-of-arguments-limit-exception-arguments"></a><a name="index-number_002dof_002darguments_002dlimit_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_number-of-arguments-limit-exception-arguments">number-of-arguments-limit-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Number-of-arguments-limit-exception objects are raised by the
<code>apply</code> procedure when the procedure being called is passed more
than 8192 arguments.  The parameter <var>exc</var> must be a
number-of-arguments-limit-exception object.
</p>
<p>The procedure <code>number-of-arguments-limit-exception?</code> returns
<code>#t</code> when <var>obj</var> is a number-of-arguments-limit-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>number-of-arguments-limit-exception-procedure</code>
returns the target procedure of the call to <code>apply</code> that raised
<var>exc</var>.
</p>
<p>The procedure <code>number-of-arguments-limit-exception-arguments</code>
returns the list of arguments of the target procedure of the call to
<code>apply</code> that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (iota n) (if (= n 0) '() (cons n (iota (- n 1)))))</b>
&gt; <b>(define (handler exc)
    (if (number-of-arguments-limit-exception? exc)
        (list (number-of-arguments-limit-exception-procedure exc)
              (length (number-of-arguments-limit-exception-arguments exc)))
        'not-number-of-arguments-limit-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (apply + 1 2 3 (iota 8190))))</b>
(#&lt;procedure #2 +&gt; 8193)
</pre></td></tr></table>



<a name="Definition_of_nonprocedure-operator-exception?"></a><a name="Procedure_nonprocedure-operator-exception?"></a><a name="index-nonprocedure_002doperator_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonprocedure-operator-exception?">nonprocedure-operator-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonprocedure-operator-exception-operator"></a><a name="Procedure_nonprocedure-operator-exception-operator"></a><a name="index-nonprocedure_002doperator_002dexception_002doperator"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonprocedure-operator-exception-operator">nonprocedure-operator-exception-operator</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonprocedure-operator-exception-arguments"></a><a name="Procedure_nonprocedure-operator-exception-arguments"></a><a name="index-nonprocedure_002doperator_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonprocedure-operator-exception-arguments">nonprocedure-operator-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonprocedure-operator-exception-code"></a><a name="Procedure_nonprocedure-operator-exception-code"></a><a name="index-nonprocedure_002doperator_002dexception_002dcode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonprocedure-operator-exception-code">nonprocedure-operator-exception-code</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_nonprocedure-operator-exception-rte"></a><a name="Procedure_nonprocedure-operator-exception-rte"></a><a name="index-nonprocedure_002doperator_002dexception_002drte"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_nonprocedure-operator-exception-rte">nonprocedure-operator-exception-rte</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Nonprocedure-operator-exception objects are raised when a procedure
call is executed and the operator position is not a procedure.  The
parameter <var>exc</var> must be an nonprocedure-operator-exception object.
</p>
<p>The procedure <code>nonprocedure-operator-exception?</code> returns
<code>#t</code> when <var>obj</var> is an nonprocedure-operator-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>nonprocedure-operator-exception-operator</code> returns
the value in operator position of the procedure call that raised
<var>exc</var>.
</p>
<p>The procedure <code>nonprocedure-operator-exception-arguments</code> returns
the list of arguments of the procedure call that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (nonprocedure-operator-exception? exc)
        (list (nonprocedure-operator-exception-operator exc)
              (nonprocedure-operator-exception-arguments exc))
        'not-nonprocedure-operator-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (11 22 33)))</b>
(11 (22 33))
</pre></td></tr></table>



<a name="Definition_of_unknown-keyword-argument-exception?"></a><a name="Procedure_unknown-keyword-argument-exception?"></a><a name="index-unknown_002dkeyword_002dargument_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unknown-keyword-argument-exception?">unknown-keyword-argument-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unknown-keyword-argument-exception-procedure"></a><a name="Procedure_unknown-keyword-argument-exception-procedure"></a><a name="index-unknown_002dkeyword_002dargument_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unknown-keyword-argument-exception-procedure">unknown-keyword-argument-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unknown-keyword-argument-exception-arguments"></a><a name="Procedure_unknown-keyword-argument-exception-arguments"></a><a name="index-unknown_002dkeyword_002dargument_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unknown-keyword-argument-exception-arguments">unknown-keyword-argument-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unknown-keyword-argument-exception objects are raised when a procedure
accepting keyword arguments is called and one of the keywords supplied
is not among those that are expected.  The parameter <var>exc</var> must be
an unknown-keyword-argument-exception object.
</p>
<p>The procedure <code>unknown-keyword-argument-exception?</code> returns
<code>#t</code> when <var>obj</var> is an unknown-keyword-argument-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unknown-keyword-argument-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>unknown-keyword-argument-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (unknown-keyword-argument-exception? exc)
        (list (unknown-keyword-argument-exception-procedure exc)
              (unknown-keyword-argument-exception-arguments exc))
        'not-unknown-keyword-argument-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () ((lambda (#!key (foo 5)) foo) bar: 11)))</b>
(#&lt;procedure #2&gt; (bar: 11))
</pre></td></tr></table>



<a name="Definition_of_keyword-expected-exception?"></a><a name="Procedure_keyword-expected-exception?"></a><a name="index-keyword_002dexpected_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword-expected-exception?">keyword-expected-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_keyword-expected-exception-procedure"></a><a name="Procedure_keyword-expected-exception-procedure"></a><a name="index-keyword_002dexpected_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword-expected-exception-procedure">keyword-expected-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_keyword-expected-exception-arguments"></a><a name="Procedure_keyword-expected-exception-arguments"></a><a name="index-keyword_002dexpected_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_keyword-expected-exception-arguments">keyword-expected-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Keyword-expected-exception objects are raised when a procedure
accepting keyword arguments is called and a nonkeyword was supplied
where a keyword was expected.  The parameter <var>exc</var> must be an
keyword-expected-exception object.
</p>
<p>The procedure <code>keyword-expected-exception?</code> returns
<code>#t</code> when <var>obj</var> is an keyword-expected-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>keyword-expected-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>keyword-expected-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (keyword-expected-exception? exc)
        (list (keyword-expected-exception-procedure exc)
              (keyword-expected-exception-arguments exc))
        'not-keyword-expected-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () ((lambda (#!key (foo 5)) foo) 11 22)))</b>
(#&lt;procedure #2&gt; (11 22))
</pre></td></tr></table>



<a name="Other-exception-objects"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Exception-objects-related-to-procedure-call" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Exceptions" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Other-exception-objects-1"></a>
<h2 class="section">15.10 Other exception objects</h2>

<a name="Definition_of_error-exception?"></a><a name="Procedure_error-exception?"></a><a name="index-error_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_error-exception?">error-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_error-exception-message"></a><a name="Procedure_error-exception-message"></a><a name="index-error_002dexception_002dmessage"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_error-exception-message">error-exception-message</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_error-exception-parameters"></a><a name="Procedure_error-exception-parameters"></a><a name="index-error_002dexception_002dparameters"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_error-exception-parameters">error-exception-parameters</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_error"></a><a name="Procedure_error"></a><a name="index-error"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_error">error</a></b></code><i> <var>message</var> <var>obj</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Error-exception objects are raised when the <code>error</code> procedure is
called.  The parameter <var>exc</var> must be an error-exception
object.
</p>
<p>The procedure <code>error-exception?</code> returns
<code>#t</code> when <var>obj</var> is an error-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>error-exception-message</code> returns the first
argument of the call to <code>error</code> that raised <var>exc</var>.
</p>
<p>The procedure <code>error-exception-parameters</code> returns the list of
arguments, starting with the second argument, of the call to
<code>error</code> that raised <var>exc</var>.
</p>
<p>The <code>error</code> procedure raises an error-exception object whose
message field is <var>message</var> and parameters field is the list of
values <var>obj</var>&hellip;.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (error-exception? exc)
        (list (error-exception-message exc)
              (error-exception-parameters exc))
        'not-error-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda () (error &quot;unexpected object:&quot; 123)))</b>
(&quot;unexpected object:&quot; (123))
</pre></td></tr></table>



<a name="Host-environment"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Other-exception-objects" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Handling-of-file-names" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Exceptions" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Host-environment-1"></a>
<h1 class="chapter">16. Host environment</h1>

<p>The host environment is the set of resources, such as the filesystem,
network and processes, that are managed by the operating system within
which the Scheme program is executing.  This chapter specifies how the
host environment can be accessed from within the Scheme program.
</p>
<p>In this chapter we say that the Scheme program being executed is a
process, even though the concept of process does not exist in some
operating systems supported by Gambit (e.g. MSDOS).
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Shell-command-execution">16.3 Shell command execution</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Process-termination">16.4 Process termination</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Command-line-arguments">16.5 Command line arguments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Environment-variables">16.6 Environment variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#File-information">16.8 File information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Group-information">16.9 Group information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#User-information">16.10 User information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Host-information">16.11 Host information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Service-information">16.12 Service information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Network-information">16.14 Network information</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Handling-of-file-names"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Host-environment" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Filesystem-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Handling-of-file-names-1"></a>
<h2 class="section">16.1 Handling of file names</h2>
<a name="index-file-names"></a>
<a name="index-current-working-directory"></a>
<a name="index-absolute-path"></a>
<a name="index-relative-path"></a>
<a name="index-home-directory"></a>
<a name="index-central-installation-directory"></a>
<a name="index-installation-directories"></a>

<p>Gambit uses a naming convention for files that is compatible with
the one used by the host environment but extended to allow
referring to the <em>home directory</em> of the current user or some
specific user and the <em>installation directories</em>.
</p>
<p>A <em>path</em> is a string that denotes a file, for example
<code>&quot;src/readme.txt&quot;</code>.  Each component of a path is separated by a
&lsquo;<samp>/</samp>&rsquo; under UNIX and Mac OS X and by a &lsquo;<samp>/</samp>&rsquo; or &lsquo;<samp>\</samp>&rsquo; under
MSDOS and Microsoft Windows.  A leading separator indicates an
absolute path under UNIX, Mac OS X, MSDOS and Microsoft Windows.  A
path which does not contain a path separator is relative to the
<em>current working directory</em> on all operating systems.  A volume
specifier such as &lsquo;<samp>C:</samp>&rsquo; may prefix a file name under MSDOS and
Microsoft Windows.
</p>
<a name="index-_007e_007e"></a>
<p>A path which starts with the characters &lsquo;<samp>~~</samp>&rsquo; denotes a file in an
installation directory.  If nothing follows the &lsquo;<samp>~~</samp>&rsquo; then the
directory denoted is the central installation directory.  Otherwise
what follows the &lsquo;<samp>~~</samp>&rsquo; is the name of the installation directory,
for example &lsquo;<samp>~~lib</samp>&rsquo; denotes the &lsquo;<samp>lib</samp>&rsquo; installation
directory.  Note that the location of the installation directories may
be overridden by using the &lsquo;<samp>-:=<var>DIRECTORY</var></samp>&rsquo; and
&lsquo;<samp>-:~~<var>DIR</var>=<var>DIRECTORY</var></samp>&rsquo; runtime options or by defining
the &lsquo;<samp>GAMBCOPT</samp>&rsquo; environment variable.
</p>
<a name="index-_007e"></a>
<p>A path which starts with the character &lsquo;<samp>~</samp>&rsquo; not followed by
&lsquo;<samp>~</samp>&rsquo; denotes a file in the user&rsquo;s home directory.  The user&rsquo;s home
directory is contained in the &lsquo;<samp>HOME</samp>&rsquo; environment variable under
UNIX, Mac OS X, MSDOS and Microsoft Windows.  Under MSDOS and
Microsoft Windows, if the &lsquo;<samp>HOME</samp>&rsquo; environment variable is not
defined, the environment variables &lsquo;<samp>HOMEDRIVE</samp>&rsquo; and
&lsquo;<samp>HOMEPATH</samp>&rsquo; are concatenated if they are defined.  If this fails
to yield a home directory, the central installation directory is used
instead.
</p>
<a name="index-_007eusername"></a>
<p>A path which starts with the characters &lsquo;<samp>~<var>username</var></samp>&rsquo;
denotes a file in the home directory of the given user.  Under UNIX
and Mac OS X this is found using the password file.  There is no
equivalent under MSDOS and Microsoft Windows.
</p>
<a name="Definition_of_current-directory"></a><a name="Procedure_current-directory"></a><a name="index-current_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-directory">current-directory</a></b></code><i> <span class="roman">[</span><var>new-current-directory</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-current-working-directory-1"></a>
<p>The parameter object <code>current-directory</code> is bound to the current
working directory.  Calling this procedure with no argument returns
the absolute <em>normalized path</em> of the directory and calling this
procedure with one argument sets the directory to
<var>new-current-directory</var>.  The initial binding of this parameter
object is the current working directory of the current process.  The
path returned by <code>current-directory</code> always contains a trailing
directory separator.  Modifications of the parameter object do not
change the current working directory of the current process (i.e.
that is accessible with the UNIX <code>getcwd()</code> function and the
Microsoft Windows <code>GetCurrentDirectory</code> function).  It is an
error to mutate the string returned by <code>current-directory</code>.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(current-directory)</b>
&quot;/Users/feeley/gambit/doc/&quot;
&gt; <b>(current-directory &quot;..&quot;)</b>
&gt; <b>(current-directory)</b>
&quot;/Users/feeley/gambit/&quot;
&gt; <b>(path-expand &quot;foo&quot; &quot;~~&quot;)</b>
&quot;/usr/local/Gambit-C/foo&quot;
&gt; <b>(parameterize ((current-directory &quot;~~&quot;)) (path-expand &quot;foo&quot;))</b>
&quot;/usr/local/Gambit-C/foo&quot;
</pre></td></tr></table>



<a name="Definition_of_path-expand"></a><a name="Procedure_path-expand"></a><a name="index-path_002dexpand"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-expand">path-expand</a></b></code><i> <var>path</var> <span class="roman">[</span><var>origin-directory</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-absolute-path-1"></a>
<a name="index-relative-path-1"></a>
<p>The procedure <code>path-expand</code> takes the path of a file or directory
and returns an expanded path, which is an absolute path when
<var>path</var> or <var>origin-directory</var> are absolute paths.
The optional <var>origin-directory</var> parameter, which defaults
to the current working directory, is the directory used to resolve
relative paths.  Components of the paths <var>path</var> and
<var>origin-directory</var> need not exist.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(path-expand &quot;foo&quot;)</b>
&quot;/Users/feeley/gambit/doc/foo&quot;
&gt; <b>(path-expand &quot;~/foo&quot;)</b>
&quot;/Users/feeley/foo&quot;
&gt; <b>(path-expand &quot;~~lib/foo&quot;)</b>
&quot;/usr/local/Gambit-C/lib/foo&quot;
&gt; <b>(path-expand &quot;../foo&quot;)</b>
&quot;/Users/feeley/gambit/doc/../foo&quot;
&gt; <b>(path-expand &quot;foo&quot; &quot;&quot;)</b>
&quot;foo&quot;
&gt; <b>(path-expand &quot;foo&quot; &quot;/tmp&quot;)</b>
&quot;/tmp/foo&quot;
&gt; <b>(path-expand &quot;this/file/does/not/exist&quot;)</b>
&quot;/Users/feeley/gambit/doc/this/file/does/not/exist&quot;
&gt; <b>(path-expand &quot;&quot;)</b>
&quot;/Users/feeley/gambit/doc/&quot;
</pre></td></tr></table>



<a name="Definition_of_path-normalize"></a><a name="Procedure_path-normalize"></a><a name="index-path_002dnormalize"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-normalize">path-normalize</a></b></code><i> <var>path</var> <span class="roman">[</span><var>allow-relative?</var> <span class="roman">[</span><var>origin-directory</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<a name="index-normalized-path"></a>
<p>The procedure <code>path-normalize</code> takes a path of a file or
directory and returns its normalized path.  The optional
<var>origin-directory</var> parameter, which defaults to the current
working directory, is the directory used to resolve relative paths.
All components of the paths <var>path</var> and
<var>origin-directory</var> must exist, except possibly the last
component of <var>path</var>.  A normalized path is a path
containing no redundant parts and which is consistent with the current
structure of the filesystem.  A normalized path of a directory will
always end with a path separator (i.e. &lsquo;<samp>/</samp>&rsquo;, &lsquo;<samp>\</samp>&rsquo;, or &lsquo;<samp>:</samp>&rsquo;
depending on the operating system).  The optional
<var>allow-relative?</var> parameter, which defaults to <code>#f</code>,
indicates if the path returned can be expressed relatively to
<var>origin-directory</var>: a <code>#f</code> requests an absolute path,
the symbol <code>shortest</code> requests the shortest of the absolute and
relative paths, and any other value requests the relative path.  The
shortest path is useful for interaction with the user because short
relative paths are typically easier to read than long absolute paths.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(path-expand &quot;../foo&quot;)</b>
&quot;/Users/feeley/gambit/doc/../foo&quot;
&gt; <b>(path-normalize &quot;../foo&quot;)</b>
&quot;/Users/feeley/gambit/foo&quot;
&gt; <b>(path-normalize &quot;this/file/does/not/exist&quot;)</b>
*** ERROR IN (console)@3.1 -- No such file or directory
(path-normalize &quot;this/file/does/not/exist&quot;)
</pre></td></tr></table>



<a name="Definition_of_path-extension"></a><a name="Procedure_path-extension"></a><a name="index-path_002dextension"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-extension">path-extension</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-strip-extension"></a><a name="Procedure_path-strip-extension"></a><a name="index-path_002dstrip_002dextension"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-strip-extension">path-strip-extension</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-directory"></a><a name="Procedure_path-directory"></a><a name="index-path_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-directory">path-directory</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-strip-directory"></a><a name="Procedure_path-strip-directory"></a><a name="index-path_002dstrip_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-strip-directory">path-strip-directory</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-strip-trailing-directory-separator"></a><a name="Procedure_path-strip-trailing-directory-separator"></a><a name="index-path_002dstrip_002dtrailing_002ddirectory_002dseparator"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-strip-trailing-directory-separator">path-strip-trailing-directory-separator</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-volume"></a><a name="Procedure_path-volume"></a><a name="index-path_002dvolume"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-volume">path-volume</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_path-strip-volume"></a><a name="Procedure_path-strip-volume"></a><a name="index-path_002dstrip_002dvolume"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_path-strip-volume">path-strip-volume</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures extract various parts of a path, which need not be a
normalized path.  The procedure <code>path-extension</code> returns the file
extension (including the period) or the empty string if there is no
extension.  The procedure <code>path-strip-extension</code> returns the path
with the extension stripped off.  The procedure <code>path-directory</code>
returns the file&rsquo;s directory (including the last path separator) or
the empty string if no directory is specified in the path.  The
procedure <code>path-strip-directory</code> returns the path with the
directory stripped off.  The procedure
<code>path-strip-trailing-directory-separator</code> returns the path with
the directory separator stripped off if one is at the end of the path.
The procedure <code>path-volume</code> returns the file&rsquo;s volume (including
the last path separator) or the empty string if no volume is specified
in the path.  The procedure <code>path-strip-volume</code> returns the path
with the volume stripped off.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(path-extension &quot;/tmp/foo&quot;)</b>
&quot;&quot;
&gt; <b>(path-extension &quot;/tmp/foo.txt&quot;)</b>
&quot;.txt&quot;
&gt; <b>(path-strip-extension &quot;/tmp/foo.txt&quot;)</b>
&quot;/tmp/foo&quot;
&gt; <b>(path-directory &quot;/tmp/foo.txt&quot;)</b>
&quot;/tmp/&quot;
&gt; <b>(path-strip-directory &quot;/tmp/foo.txt&quot;)</b>
&quot;foo.txt&quot;
&gt; <b>(path-strip-trailing-directory-separator &quot;/usr/local/bin/&quot;)</b>
&quot;/usr/local/bin&quot;
&gt; <b>(path-strip-trailing-directory-separator &quot;/usr/local/bin&quot;)</b>
&quot;/usr/local/bin&quot;
&gt; <b>(path-volume &quot;/tmp/foo.txt&quot;)</b>
&quot;&quot;
&gt; <b>(path-volume &quot;C:/tmp/foo.txt&quot;)</b>
&quot;&quot; <span class="roman"><i>; result is</i></span> &quot;C:&quot; <span class="roman"><i>under Microsoft Windows</i></span>
&gt; <b>(path-strip-volume &quot;C:/tmp/foo.txt&quot;)</b>
&quot;C:/tmp/foo.txt&quot; <span class="roman"><i>; result is</i></span> &quot;/tmp/foo.txt&quot; <span class="roman"><i>under Microsoft Windows</i></span>
</pre></td></tr></table>



<a name="Filesystem-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Handling-of-file-names" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Shell-command-execution" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Filesystem-operations-1"></a>
<h2 class="section">16.2 Filesystem operations</h2>

<a name="Definition_of_create-directory"></a><a name="Procedure_create-directory"></a><a name="index-create_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_create-directory">create-directory</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure creates a directory.  The argument
<var>path-or-settings</var> is either a string denoting a filesystem path
or a list of port settings which must contain a <code>path:</code> setting.
Here are the settings allowed:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the directory to create in the
filesystem.  There is no default value for this setting.
</p>
</li><li>
<code>permissions:</code> <var>12-bit-exact-integer</var>

<p>This setting controls the UNIX permissions that will be attached to
the file if it is created.  The default value of this setting is
<code>#o777</code>.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(create-directory &quot;newdir&quot;)</b>
&gt; <b>(create-directory &quot;newdir&quot;)</b>
*** ERROR IN (console)@2.1 -- File exists
(create-directory &quot;newdir&quot;)
</pre></td></tr></table>



<a name="Definition_of_create-fifo"></a><a name="Procedure_create-fifo"></a><a name="index-create_002dfifo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_create-fifo">create-fifo</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure creates a FIFO.  The argument <var>path-or-settings</var> is
either a string denoting a filesystem path or a list of port settings
which must contain a <code>path:</code> setting.  Here are the settings
allowed:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the FIFO to create in the
filesystem.  There is no default value for this setting.
</p>
</li><li>
<code>permissions:</code> <var>12-bit-exact-integer</var>

<p>This setting controls the UNIX permissions that will be attached to
the file if it is created.  The default value of this setting is
<code>#o666</code>.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(create-fifo &quot;fifo&quot;)</b>
&gt; <b>(define a (open-input-file &quot;fifo&quot;))</b>
&gt; <b>(define b (open-output-file &quot;fifo&quot;))</b>
&gt; <b>(display &quot;1 22 333&quot; b)</b>
&gt; <b>(force-output b)</b>
&gt; <b>(read a)</b>
1
&gt; <b>(read a)</b>
22
</pre></td></tr></table>



<a name="Definition_of_create-link"></a><a name="Procedure_create-link"></a><a name="index-create_002dlink"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_create-link">create-link</a></b></code><i> <var>source-path</var> <var>destination-path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure creates a hard link between <var>source-path</var> and
<var>destination-path</var>.  The argument <var>source-path</var> must be a
string denoting the path of an existing file.  The argument
<var>destination-path</var> must be a string denoting the path of the link
to create.
</p>


<a name="Definition_of_create-symbolic-link"></a><a name="Procedure_create-symbolic-link"></a><a name="index-create_002dsymbolic_002dlink"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_create-symbolic-link">create-symbolic-link</a></b></code><i> <var>source-path</var> <var>destination-path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure creates a symbolic link between <var>source-path</var> and
<var>destination-path</var>.  The argument <var>source-path</var> must be a
string denoting the path of an existing file.  The argument
<var>destination-path</var> must be a string denoting the path of the
symbolic link to create.
</p>


<a name="Definition_of_rename-file"></a><a name="Procedure_rename-file"></a><a name="index-rename_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_rename-file">rename-file</a></b></code><i> <var>source-path</var> <var>destination-path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure renames the file <var>source-path</var> to
<var>destination-path</var>.  The argument <var>source-path</var> must be a
string denoting the path of an existing file.  The argument
<var>destination-path</var> must be a string denoting the new path of the
file.
</p>


<a name="Definition_of_copy-file"></a><a name="Procedure_copy-file"></a><a name="index-copy_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_copy-file">copy-file</a></b></code><i> <var>source-path</var> <var>destination-path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure copies the file <var>source-path</var> to
<var>destination-path</var>.  The argument <var>source-path</var> must be a
string denoting the path of an existing file.  The argument
<var>destination-path</var> must be a string denoting the path of the
file to create.
</p>


<a name="Definition_of_delete-file"></a><a name="Procedure_delete-file"></a><a name="index-delete_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_delete-file">delete-file</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure deletes the file <var>path</var>.  The argument <var>path</var>
must be a string denoting the path of an existing file.
</p>


<a name="Definition_of_delete-directory"></a><a name="Procedure_delete-directory"></a><a name="index-delete_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_delete-directory">delete-directory</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure deletes the directory <var>path</var>.  The argument
<var>path</var> must be a string denoting the path of an existing
directory.
</p>


<a name="Definition_of_directory-files"></a><a name="Procedure_directory-files"></a><a name="index-directory_002dfiles"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_directory-files">directory-files</a></b></code><i> <span class="roman">[</span><var>path-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the list of the files in a directory.  The
argument <var>path-or-settings</var> is either a string denoting a
filesystem path to a directory or a list of settings which must
contain a <code>path:</code> setting.  If it is not specified,
<var>path-or-settings</var> defaults to the current directory (the value
bound to the <code>current-directory</code> parameter object).  Here are the
settings allowed:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the directory in the filesystem.
There is no default value for this setting.
</p>
</li><li>
<code>ignore-hidden:</code> ( <code>#f</code> | <code>#t</code> | <code>dot-and-dot-dot</code> )

<p>This setting controls whether hidden-files will be returned.  Under
UNIX and Mac OS X hidden-files are those that start with a period
(such as &lsquo;<samp>.</samp>&rsquo;, &lsquo;<samp>..</samp>&rsquo;, and &lsquo;<samp>.profile</samp>&rsquo;).  Under Microsoft
Windows hidden files are the &lsquo;<samp>.</samp>&rsquo; and &lsquo;<samp>..</samp>&rsquo; entries and the
files whose &ldquo;hidden file&rdquo; attribute is set.  A setting of <code>#f</code>
will enumerate all the files.  A setting of <code>#t</code> will only
enumerate the files that are not hidden.  A setting of
<code>dot-and-dot-dot</code> will enumerate all the files except for the
&lsquo;<samp>.</samp>&rsquo; and &lsquo;<samp>..</samp>&rsquo; hidden files.  The default value of this
setting is <code>#t</code>.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(directory-files)</b>
(&quot;complex&quot; &quot;README&quot; &quot;simple&quot;)
&gt; <b>(directory-files &quot;../include&quot;)</b>
(&quot;config.h&quot; &quot;config.h.in&quot; &quot;gambit.h&quot; &quot;makefile&quot; &quot;makefile.in&quot;)
&gt; <b>(directory-files (list path: &quot;../include&quot; ignore-hidden: #f))</b>
(&quot;.&quot; &quot;..&quot; &quot;config.h&quot; &quot;config.h.in&quot; &quot;gambit.h&quot; &quot;makefile&quot; &quot;makefile.in&quot;)
</pre></td></tr></table>



<a name="Shell-command-execution"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Filesystem-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Process-termination" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Shell-command-execution-1"></a>
<h2 class="section">16.3 Shell command execution</h2>

<a name="Definition_of_shell-command"></a><a name="Procedure_shell-command"></a><a name="index-shell_002dcommand"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_shell-command">shell-command</a></b></code><i> <var>command</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>shell-command</code> calls up the shell to execute
<var>command</var> which must be a string.  This procedure returns
the exit status of the shell in the form that the C library&rsquo;s
<code>system</code> routine returns.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(shell-command &quot;ls -sk f*.scm&quot;)</b>
4 fact.scm   4 fib.scm
0
</pre></td></tr></table>



<a name="Process-termination"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Shell-command-execution" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Command-line-arguments" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Process-termination-1"></a>
<h2 class="section">16.4 Process termination</h2>

<a name="Definition_of_exit"></a><a name="Procedure_exit"></a><a name="index-exit"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_exit">exit</a></b></code><i> <span class="roman">[</span><var>status</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>exit</code> causes the process to terminate with the
status <var>status</var> which must be an exact integer in the range 0 to
255.  If it is not specified, <var>status</var> defaults to 0.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi</b>
Gambit v4.7.3

&gt; <b>(exit 42)</b>
$ <b>echo $?</b>
42
</pre></td></tr></table>



<a name="Command-line-arguments"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Process-termination" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Environment-variables" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Command-line-arguments-1"></a>
<h2 class="section">16.5 Command line arguments</h2>

<a name="Definition_of_command-line"></a><a name="Procedure_command-line"></a><a name="index-command_002dline-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_command-line">command-line</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns a list of strings corresponding to the command
line arguments, including the program file name as the first element
of the list.  When the interpreter executes a Scheme script, the list
returned by <code>command-line</code> contains the script&rsquo;s absolute path
followed by the remaining command line arguments.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">$ <b>gsi -:d -e &quot;(pretty-print (command-line))&quot;</b>
(&quot;gsi&quot; &quot;-e&quot; &quot;(pretty-print (command-line))&quot;)
$ <b>cat foo</b>
#!/usr/local/Gambit-C/bin/gsi-script
(pretty-print (command-line))
$ <b>./foo 1 2 &quot;3 4&quot;</b>
(&quot;/u/feeley/./foo&quot; &quot;1&quot; &quot;2&quot; &quot;3 4&quot;)
</pre></td></tr></table>



<a name="Environment-variables"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Command-line-arguments" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Measuring-time" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Environment-variables-1"></a>
<h2 class="section">16.6 Environment variables</h2>

<a name="Definition_of_getenv"></a><a name="Procedure_getenv"></a><a name="index-getenv"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_getenv">getenv</a></b></code><i> <var>name</var> <span class="roman">[</span><var>default</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_setenv"></a><a name="Procedure_setenv"></a><a name="index-setenv"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_setenv">setenv</a></b></code><i> <var>name</var> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>getenv</code> returns the value of the environment
variable <var>name</var> of the current process.  Variable names are
denoted with strings.  A string is returned if the environment
variable is bound, otherwise <var>default</var> is returned if it is
specified, otherwise an exception is raised.
</p>
<p>The procedure <code>setenv</code> changes the binding of the environment
variable <var>name</var> to <var>new-value</var> which must be a string.
If <var>new-value</var> is not specified the binding is removed.
</p>
<p>For example under UNIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(getenv &quot;HOME&quot;)</b>
&quot;/Users/feeley&quot;
&gt; <b>(getenv &quot;DOES_NOT_EXIST&quot; #f)</b>
#f
&gt; <b>(setenv &quot;DOES_NOT_EXIST&quot; &quot;it does now&quot;)</b>
&gt; <b>(getenv &quot;DOES_NOT_EXIST&quot; #f)</b>
&quot;it does now&quot;
&gt; <b>(setenv &quot;DOES_NOT_EXIST&quot;)</b>
&gt; <b>(getenv &quot;DOES_NOT_EXIST&quot; #f)</b>
#f
&gt; <b>(getenv &quot;DOES_NOT_EXIST&quot;)</b>
*** ERROR IN (console)@7.1 -- Unbound OS environment variable
(getenv &quot;DOES_NOT_EXIST&quot;)
</pre></td></tr></table>



<a name="Measuring-time"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Environment-variables" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#File-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Measuring-time-1"></a>
<h2 class="section">16.7 Measuring time</h2>

<p>Procedures are available for measuring real time (aka &ldquo;wall&rdquo; time)
and cpu time (the amount of time the cpu has been executing the
process).  The resolution of the real time and cpu time clock is
operating system dependent.  Typically the resolution of the cpu time
clock is rather coarse (measured in &ldquo;ticks&rdquo; of 1/60th or 1/100th of
a second).  Real time is internally computed relative to some
arbitrary point in time using floating point numbers, which means that
there is a gradual loss of resolution as time elapses.  Moreover, some
operating systems report time in number of ticks using a 32 bit
integer so the value returned by the time related procedures may
wraparound much before any significant loss of resolution occurs (for
example 2.7 years if ticks are 1/50th of a second).
</p>
<a name="Definition_of_current-time"></a><a name="Procedure_current-time"></a><a name="index-current_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-time">current-time</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_time?"></a><a name="Procedure_time?"></a><a name="index-time_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_time?">time?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_time-%3Eseconds"></a><a name="Procedure_time-%3Eseconds"></a><a name="index-time_002d_003eseconds"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_time-%3Eseconds">time-&gt;seconds</a></b></code><i> <var>time</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_seconds-%3Etime"></a><a name="Procedure_seconds-%3Etime"></a><a name="index-seconds_002d_003etime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_seconds-%3Etime">seconds-&gt;time</a></b></code><i> <var>x</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>current-time</code> returns a <em>time object</em>
representing the current point in real time.
</p>
<p>The procedure <code>time?</code> returns <code>#t</code> when <var>obj</var> is a time
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>time-&gt;seconds</code> converts the time object <var>time</var>
into an inexact real number representing the number of seconds elapsed
since the &ldquo;epoch&rdquo; (which is 00:00:00 Coordinated Universal Time
01-01-1970).
</p>
<p>The procedure <code>seconds-&gt;time</code> converts the real number <var>x</var>
representing the number of seconds elapsed since the &ldquo;epoch&rdquo; into a
time object.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(current-time)</b>
#&lt;time #2&gt;
&gt; <b>(time? (current-time))</b>
#t
&gt; <b>(time? 123)</b>
#f
&gt; <b>(time-&gt;seconds (current-time))</b>
1083118758.63973
&gt; <b>(time-&gt;seconds (current-time))</b>
1083118759.909163
&gt; <b>(seconds-&gt;time (+ 10 (time-&gt;seconds (current-time))</b>
#&lt;time #3&gt;  <span class="roman"><i>; a time object representing 10 seconds in the future</i></span>
</pre></td></tr></table>



<a name="Definition_of_process-times"></a><a name="Procedure_process-times"></a><a name="index-process_002dtimes"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_process-times">process-times</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_cpu-time"></a><a name="Procedure_cpu-time"></a><a name="index-cpu_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_cpu-time">cpu-time</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_real-time"></a><a name="Procedure_real-time"></a><a name="index-real_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_real-time">real-time</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>process-times</code> returns a three element f64vector
containing the cpu time that has been used by the program and the real
time that has elapsed since it was started.  The first element
corresponds to &ldquo;user&rdquo; time in seconds, the second element
corresponds to &ldquo;system&rdquo; time in seconds and the third element is the
elapsed real time in seconds.  On operating systems that can&rsquo;t
differentiate user and system time, the system time is zero.  On
operating systems that can&rsquo;t measure cpu time, the user time is equal
to the elapsed real time and the system time is zero.
</p>
<p>The procedure <code>cpu-time</code> returns the cpu time in seconds that has
been used by the program (user time plus system time).
</p>
<p>The procedure <code>real-time</code> returns the real time that has elapsed
since the program was started.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(process-times)</b>
#f64(.02794 .021754 .159926176071167)
&gt; <b>(cpu-time)</b>
.051223
&gt; <b>(real-time)</b>
.40660619735717773
</pre></td></tr></table>



<a name="Definition_of_time"></a><a name="Special_form_time"></a><a name="index-time"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_time">time</a></b></code><i> <span class="roman"><i>expr</i></span> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>The <code>time</code> special form evaluates <i>expr</i> and returns the
result.  As a side effect it displays a message on the port <var>port</var>
which indicates various statistics about the evaluation of <i>expr</i>
including how long the evaluation took (in real time and cpu time),
how much time was spent in the garbage collector, how much memory was
allocated during the evaluation and how many minor and major page
faults occured (0 is reported if not running under UNIX).  If it is
not specified, <var>port</var> defaults to the interaction channel
(i.e. the output will appear at the REPL).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (f x)
    (let loop ((x x) (lst '()))
      (if (= x 0)
          lst
          (loop (- x 1) (cons x lst)))))</b>
&gt; <b>(length (time (f 100000)))</b>
(time (f 100000))
    683 ms real time
    558 ms cpu time (535 user, 23 system)
    8 collections accounting for 102 ms real time (70 user, 5 system)
    6400160 bytes allocated
    no minor faults
    no major faults
100000
</pre></td></tr></table>



<a name="File-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Measuring-time" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Group-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="File-information-1"></a>
<h2 class="section">16.8 File information</h2>

<a name="Definition_of_file-exists?"></a><a name="Procedure_file-exists?"></a><a name="index-file_002dexists_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-exists?">file-exists?</a></b></code><i> <var>path</var> <span class="roman">[</span><var>chase?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <var>path</var> argument must be a string.  This procedure returns
<code>#t</code> when a file by that name exists, and returns <code>#f</code>
otherwise.
</p>
<p>When <var>chase?</var> is present and <code>#f</code>, symbolic links will not be
chased, in other words if <var>path</var> refers to a symbolic link,
<code>file-exists?</code> will return <code>#t</code> whether or not it points to
an existing file.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-exists? &quot;nofile&quot;)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_file-info"></a><a name="Procedure_file-info"></a><a name="index-file_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info">file-info</a></b></code><i> <var>path</var> <span class="roman">[</span><var>chase?</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the filesystem to get information about the
file whose location is given by the string <var>path</var>.  A
file-information record is returned that contains the file&rsquo;s type, the
device number, the inode number, the mode (permission bits), the
number of links, the file&rsquo;s user id, the file&rsquo;s group id, the file&rsquo;s
size in bytes, the times of last-access, last-modification and
last-change, the attributes, and the creation time.
</p>
<p>When <var>chase?</var> is present and <code>#f</code>, symbolic links will not be
chased, in other words if <var>path</var> refers to a symbolic link the
<code>file-info</code> procedure will return information about the link
rather than the file it links to.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info &quot;/dev/tty&quot;)</b>
#&lt;file-info #2
   type: character-special
   device: 19513156
   inode: 20728196
   mode: 438
   number-of-links: 1
   owner: 0
   group: 0
   size: 0
   last-access-time: #&lt;time #3&gt;
   last-modification-time: #&lt;time #4&gt;
   last-change-time: #&lt;time #5&gt;
   attributes: 128
   creation-time: #&lt;time #6&gt;&gt;
</pre></td></tr></table>



<a name="Definition_of_file-info?"></a><a name="Procedure_file-info?"></a><a name="index-file_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info?">file-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a file-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info? (file-info &quot;/dev/tty&quot;))</b>
#t
&gt; <b>(file-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_file-info-type"></a><a name="Procedure_file-info-type"></a><a name="index-file_002dinfo_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-type">file-info-type</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the type field of the file-information record
<var>file-info</var>.  The type is denoted by a symbol.
The following types are possible:
</p>
<dl compact="compact">
<dt> <code>regular</code></dt>
<dd><p>Regular file
</p></dd>
<dt> <code>directory</code></dt>
<dd><p>Directory
</p></dd>
<dt> <code>character-special</code></dt>
<dd><p>Character special device
</p></dd>
<dt> <code>block-special</code></dt>
<dd><p>Block special device
</p></dd>
<dt> <code>fifo</code></dt>
<dd><p>FIFO
</p></dd>
<dt> <code>symbolic-link</code></dt>
<dd><p>Symbolic link
</p></dd>
<dt> <code>socket</code></dt>
<dd><p>Socket
</p></dd>
<dt> <code>unknown</code></dt>
<dd><p>File is of an unknown type
</p></dd>
</dl>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-type (file-info &quot;/dev/tty&quot;))</b>
character-special
&gt; <b>(file-info-type (file-info &quot;/dev&quot;))</b>
directory
</pre></td></tr></table>



<a name="Definition_of_file-info-device"></a><a name="Procedure_file-info-device"></a><a name="index-file_002dinfo_002ddevice"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-device">file-info-device</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the device field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-device (file-info &quot;/dev/tty&quot;))</b>
19513156
</pre></td></tr></table>



<a name="Definition_of_file-info-inode"></a><a name="Procedure_file-info-inode"></a><a name="index-file_002dinfo_002dinode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-inode">file-info-inode</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the inode field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-inode (file-info &quot;/dev/tty&quot;))</b>
20728196
</pre></td></tr></table>



<a name="Definition_of_file-info-mode"></a><a name="Procedure_file-info-mode"></a><a name="index-file_002dinfo_002dmode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-mode">file-info-mode</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the mode field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-mode (file-info &quot;/dev/tty&quot;))</b>
438
</pre></td></tr></table>



<a name="Definition_of_file-info-number-of-links"></a><a name="Procedure_file-info-number-of-links"></a><a name="index-file_002dinfo_002dnumber_002dof_002dlinks"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-number-of-links">file-info-number-of-links</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the number-of-links field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-number-of-links (file-info &quot;/dev/tty&quot;))</b>
1
</pre></td></tr></table>



<a name="Definition_of_file-info-owner"></a><a name="Procedure_file-info-owner"></a><a name="index-file_002dinfo_002downer"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-owner">file-info-owner</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the owner field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-owner (file-info &quot;/dev/tty&quot;))</b>
0
</pre></td></tr></table>



<a name="Definition_of_file-info-group"></a><a name="Procedure_file-info-group"></a><a name="index-file_002dinfo_002dgroup"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-group">file-info-group</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the group field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-group (file-info &quot;/dev/tty&quot;))</b>
0
</pre></td></tr></table>



<a name="Definition_of_file-info-size"></a><a name="Procedure_file-info-size"></a><a name="index-file_002dinfo_002dsize"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-size">file-info-size</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the size field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-size (file-info &quot;/dev/tty&quot;))</b>
0
</pre></td></tr></table>



<a name="Definition_of_file-info-last-access-time"></a><a name="Procedure_file-info-last-access-time"></a><a name="index-file_002dinfo_002dlast_002daccess_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-last-access-time">file-info-last-access-time</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the last-access-time field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-last-access-time (file-info &quot;/dev/tty&quot;))</b>
#&lt;time #2&gt;
</pre></td></tr></table>



<a name="Definition_of_file-info-last-modification-time"></a><a name="Procedure_file-info-last-modification-time"></a><a name="index-file_002dinfo_002dlast_002dmodification_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-last-modification-time">file-info-last-modification-time</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the last-modification-time field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-last-modification-time (file-info &quot;/dev/tty&quot;))</b>
#&lt;time #2&gt;
</pre></td></tr></table>



<a name="Definition_of_file-info-last-change-time"></a><a name="Procedure_file-info-last-change-time"></a><a name="index-file_002dinfo_002dlast_002dchange_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-last-change-time">file-info-last-change-time</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the last-change-time field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-last-change-time (file-info &quot;/dev/tty&quot;))</b>
#&lt;time #2&gt;
</pre></td></tr></table>



<a name="Definition_of_file-info-attributes"></a><a name="Procedure_file-info-attributes"></a><a name="index-file_002dinfo_002dattributes"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-attributes">file-info-attributes</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the attributes field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-attributes (file-info &quot;/dev/tty&quot;))</b>
128
</pre></td></tr></table>



<a name="Definition_of_file-info-creation-time"></a><a name="Procedure_file-info-creation-time"></a><a name="index-file_002dinfo_002dcreation_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-info-creation-time">file-info-creation-time</a></b></code><i> <var>file-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the creation-time field of the file-information record
<var>file-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(file-info-creation-time (file-info &quot;/dev/tty&quot;))</b>
#&lt;time #2&gt;
</pre></td></tr></table>



<a name="Definition_of_file-type"></a><a name="Procedure_file-type"></a><a name="index-file_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-type">file-type</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-device"></a><a name="Procedure_file-device"></a><a name="index-file_002ddevice"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-device">file-device</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-inode"></a><a name="Procedure_file-inode"></a><a name="index-file_002dinode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-inode">file-inode</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-mode"></a><a name="Procedure_file-mode"></a><a name="index-file_002dmode"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-mode">file-mode</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-number-of-links"></a><a name="Procedure_file-number-of-links"></a><a name="index-file_002dnumber_002dof_002dlinks"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-number-of-links">file-number-of-links</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-owner"></a><a name="Procedure_file-owner"></a><a name="index-file_002downer"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-owner">file-owner</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-group"></a><a name="Procedure_file-group"></a><a name="index-file_002dgroup"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-group">file-group</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-size"></a><a name="Procedure_file-size"></a><a name="index-file_002dsize"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-size">file-size</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-last-access-time"></a><a name="Procedure_file-last-access-time"></a><a name="index-file_002dlast_002daccess_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-last-access-time">file-last-access-time</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-last-modification-time"></a><a name="Procedure_file-last-modification-time"></a><a name="index-file_002dlast_002dmodification_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-last-modification-time">file-last-modification-time</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-last-change-time"></a><a name="Procedure_file-last-change-time"></a><a name="index-file_002dlast_002dchange_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-last-change-time">file-last-change-time</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-attributes"></a><a name="Procedure_file-attributes"></a><a name="index-file_002dattributes"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-attributes">file-attributes</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_file-creation-time"></a><a name="Procedure_file-creation-time"></a><a name="index-file_002dcreation_002dtime"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_file-creation-time">file-creation-time</a></b></code><i> <var>path</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures combine a call to the <code>file-info</code> procedure and
a call to a file-information record field accessor.  For instance
<code>(file-type <var>path</var>)</code> is equivalent to <code>(file-info-type
(file-info <var>path</var>))</code>.
</p>


<a name="Group-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#File-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#User-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Group-information-1"></a>
<h2 class="section">16.9 Group information</h2>

<a name="Definition_of_group-info"></a><a name="Procedure_group-info"></a><a name="index-group_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_group-info">group-info</a></b></code><i> <var>group-name-or-id</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the group database to get information about the
group identified by <var>group-name-or-id</var>, which is the group&rsquo;s symbolic
name (string) or the group&rsquo;s GID (exact integer).  A group-information
record is returned that contains the group&rsquo;s symbolic name, the group&rsquo;s
id (GID), and the group&rsquo;s members (list of symbolic user names).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(group-info &quot;staff&quot;)</b>
#&lt;group-info #2 name: &quot;staff&quot; gid: 20 members: (&quot;root&quot;)&gt;
&gt; <b>(group-info 29)</b>
#&lt;group-info #3
   name: &quot;certusers&quot;
   gid: 29
   members: (&quot;root&quot; &quot;jabber&quot; &quot;postfix&quot; &quot;cyrusimap&quot;)&gt;
&gt; <b>(group-info 5000)</b>
*** ERROR IN (console)@3.1 -- Resource temporarily unavailable
(group-info 5000)
</pre></td></tr></table>



<a name="Definition_of_group-info?"></a><a name="Procedure_group-info?"></a><a name="index-group_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_group-info?">group-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a group-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(group-info? (group-info &quot;daemon&quot;))</b>
#t
&gt; <b>(group-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_group-info-name"></a><a name="Procedure_group-info-name"></a><a name="index-group_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_group-info-name">group-info-name</a></b></code><i> <var>group-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the symbolic name field of the group-information record
<var>group-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(group-info-name (group-info 29))</b>
&quot;certusers&quot;
</pre></td></tr></table>



<a name="Definition_of_group-info-gid"></a><a name="Procedure_group-info-gid"></a><a name="index-group_002dinfo_002dgid"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_group-info-gid">group-info-gid</a></b></code><i> <var>group-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the group id field of the group-information record
<var>group-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(group-info-gid (group-info &quot;staff&quot;))</b>
20
</pre></td></tr></table>



<a name="Definition_of_group-info-members"></a><a name="Procedure_group-info-members"></a><a name="index-group_002dinfo_002dmembers"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_group-info-members">group-info-members</a></b></code><i> <var>group-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the members field of the group-information record
<var>group-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(group-info-members (group-info &quot;staff&quot;))</b>
(&quot;root&quot;)
</pre></td></tr></table>



<a name="User-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Group-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Host-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="User-information-1"></a>
<h2 class="section">16.10 User information</h2>

<a name="Definition_of_user-name"></a><a name="Procedure_user-name"></a><a name="index-user_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-name">user-name</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the user&rsquo;s name as a string.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-name)</b>
&quot;feeley&quot;
</pre></td></tr></table>



<a name="Definition_of_user-info"></a><a name="Procedure_user-info"></a><a name="index-user_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info">user-info</a></b></code><i> <var>user-name-or-id</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the user database to get information about the
user identified by <var>user-name-or-id</var>, which is the user&rsquo;s symbolic
name (string) or the user&rsquo;s UID (exact integer).  A user-information
record is returned that contains the user&rsquo;s symbolic name, the user&rsquo;s
id (UID), the user&rsquo;s group id (GID), the path to the user&rsquo;s home
directory, and the user&rsquo;s login shell.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info &quot;feeley&quot;)</b>
#&lt;user-info #2
   name: &quot;feeley&quot;
   uid: 506
   gid: 506
   home: &quot;/Users/feeley&quot;
   shell: &quot;/bin/bash&quot;&gt;
&gt; <b>(user-info 0)</b>
#&lt;user-info #3 name: &quot;root&quot; uid: 0 gid: 0 home: &quot;/var/root&quot; shell: &quot;/bin/sh&quot;&gt;
&gt; <b>(user-info 5000)</b>
*** ERROR IN (console)@3.1 -- Resource temporarily unavailable
(user-info 5000)
</pre></td></tr></table>



<a name="Definition_of_user-info?"></a><a name="Procedure_user-info?"></a><a name="index-user_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info?">user-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a user-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info? (user-info &quot;feeley&quot;))</b>
#t
&gt; <b>(user-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_user-info-name"></a><a name="Procedure_user-info-name"></a><a name="index-user_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info-name">user-info-name</a></b></code><i> <var>user-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the symbolic name field of the user-information record
<var>user-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info-name (user-info 0))</b>
&quot;root&quot;
</pre></td></tr></table>



<a name="Definition_of_user-info-uid"></a><a name="Procedure_user-info-uid"></a><a name="index-user_002dinfo_002duid"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info-uid">user-info-uid</a></b></code><i> <var>user-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the user id field of the user-information record
<var>user-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info-uid (user-info &quot;feeley&quot;))</b>
506
</pre></td></tr></table>



<a name="Definition_of_user-info-gid"></a><a name="Procedure_user-info-gid"></a><a name="index-user_002dinfo_002dgid"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info-gid">user-info-gid</a></b></code><i> <var>user-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the group id field of the user-information record
<var>user-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info-gid (user-info &quot;feeley&quot;))</b>
506
</pre></td></tr></table>



<a name="Definition_of_user-info-home"></a><a name="Procedure_user-info-home"></a><a name="index-user_002dinfo_002dhome"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info-home">user-info-home</a></b></code><i> <var>user-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the home directory field of the user-information record
<var>user-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info-home (user-info 0))</b>
&quot;/var/root&quot;
</pre></td></tr></table>



<a name="Definition_of_user-info-shell"></a><a name="Procedure_user-info-shell"></a><a name="index-user_002dinfo_002dshell"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_user-info-shell">user-info-shell</a></b></code><i> <var>user-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the shell field of the user-information record
<var>user-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(user-info-shell (user-info 0))</b>
&quot;/bin/sh&quot;
</pre></td></tr></table>



<a name="Host-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#User-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Service-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Host-information-1"></a>
<h2 class="section">16.11 Host information</h2>

<a name="Definition_of_host-name"></a><a name="Procedure_host-name"></a><a name="index-host_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-name">host-name</a></b></code><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the machine&rsquo;s host name as a string.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-name)</b>
&quot;mega.iro.umontreal.ca&quot;
</pre></td></tr></table>



<a name="Definition_of_host-info"></a><a name="Procedure_host-info"></a><a name="index-host_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-info">host-info</a></b></code><i> <var>host-name</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the internet host database to get information
about the machine whose name is denoted by the string <var>host-name</var>.
A host-information record is returned that contains the official name
of the machine, a list of aliases (alternative names), and a non-empty
list of IP addresses for this machine.  An exception is raised when
<var>host-name</var> does not appear in the database.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-info &quot;www.google.com&quot;)</b>
#&lt;host-info #2
   name: &quot;www.l.google.com&quot;
   aliases: (&quot;www.google.com&quot;)
   addresses: (#u8(66 249 85 99) #u8(66 249 85 104))&gt;
&gt; <b>(host-info &quot;unknown.domain&quot;)</b>
*** ERROR IN (console)@2.1 -- Unknown host
(host-info &quot;unknown.domain&quot;)
</pre></td></tr></table>



<a name="Definition_of_host-info?"></a><a name="Procedure_host-info?"></a><a name="index-host_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-info?">host-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a host-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-info? (host-info &quot;www.google.com&quot;))</b>
#t
&gt; <b>(host-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_host-info-name"></a><a name="Procedure_host-info-name"></a><a name="index-host_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-info-name">host-info-name</a></b></code><i> <var>host-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the official name field of the host-information record
<var>host-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-info-name (host-info &quot;www.google.com&quot;))</b>
&quot;www.l.google.com&quot;
</pre></td></tr></table>



<a name="Definition_of_host-info-aliases"></a><a name="Procedure_host-info-aliases"></a><a name="index-host_002dinfo_002daliases"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-info-aliases">host-info-aliases</a></b></code><i> <var>host-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the aliases field of the host-information record
<var>host-info</var>.  This field is a possibly empty list of strings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-info-aliases (host-info &quot;www.google.com&quot;))</b>
(&quot;www.google.com&quot;)
</pre></td></tr></table>



<a name="Definition_of_host-info-addresses"></a><a name="Procedure_host-info-addresses"></a><a name="index-host_002dinfo_002daddresses"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_host-info-addresses">host-info-addresses</a></b></code><i> <var>host-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the addresses field of the host-information record
<var>host-info</var>.  This field is a non-empty list of u8vectors
denoting IP addresses.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(host-info-addresses (host-info &quot;www.google.com&quot;))</b>
(#u8(66 249 85 99) #u8(66 249 85 104))
</pre></td></tr></table>



<a name="Definition_of_address-infos"></a><a name="Procedure_address-infos"></a><a name="index-address_002dinfos"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-infos">address-infos</a></b></code><i> <span class="roman">[</span><code>host:</code> <var>host</var><span class="roman">]</span> <span class="roman">[</span><code>service:</code> <var>service</var><span class="roman">]</span> <span class="roman">[</span><code>family:</code> <var>family</var><span class="roman">]</span> <span class="roman">[</span><code>socket-type:</code> <var>socket-type</var><span class="roman">]</span> <span class="roman">[</span><code>protocol:</code> <var>protocol</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure is an interface to the <code>getaddrinfo</code> system call.
It accesses the internet host database to get information about the
machine whose name is denoted by the string <var>host</var> and service is
denoted by the string <var>service</var> and network address family is
<var>family</var> (<code>INET</code> or <code>INET6</code>) and network socket-type is
<var>socket-type</var> (<code>STREAM</code> or <code>DGRAM</code> or <code>RAW</code>) and
network protocol is <var>socket-type</var> (<code>TCP</code> or <code>UDP</code>).  A
list of address-information records is returned.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(address-infos host: &quot;ftp.at.debian.org&quot;)</b>
(#&lt;address-info #2
    family: INET6
    socket-type: DGRAM
    protocol: UDP
    socket-info:
     #&lt;socket-info #3
        family: INET6
        port-number: 0
        address: #u16(8193 2136 2 1 0 0 0 16)&gt;&gt;
 #&lt;address-info #4
    family: INET6
    socket-type: STREAM
    protocol: TCP
    socket-info:
     #&lt;socket-info #5
        family: INET6
        port-number: 0
        address: #u16(8193 2136 2 1 0 0 0 16)&gt;&gt;
 #&lt;address-info #6
    family: INET
    socket-type: DGRAM
    protocol: UDP
    socket-info:
     #&lt;socket-info #7
        family: INET
        port-number: 0
        address: #u8(213 129 232 18)&gt;&gt;
 #&lt;address-info #8
    family: INET
    socket-type: STREAM
    protocol: TCP
    socket-info:
     #&lt;socket-info #9
        family: INET
        port-number: 0
        address: #u8(213 129 232 18)&gt;&gt;)
&gt; <b>(address-infos host: &quot;ftp.at.debian.org&quot;
                 family: 'INET
                 protocol: 'TCP)</b>
(#&lt;address-info #10
    family: INET
    socket-type: STREAM
    protocol: TCP
    socket-info:
     #&lt;socket-info #11
        family: INET
        port-number: 0
        address: #u8(213 129 232 18)&gt;&gt;)
&gt; <b>(address-infos host: &quot;unknown.domain&quot;)</b>
*** ERROR IN (console)@5.1 -- nodename nor servname provided, or not known
(address-infos host: &quot;unknown.domain&quot;)
</pre></td></tr></table>



<a name="Definition_of_address-info?"></a><a name="Procedure_address-info?"></a><a name="index-address_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-info?">address-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is an address-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map address-info?
       (address-infos host: &quot;ftp.at.debian.org&quot;))</b>
(#t #t #t #t)
&gt; <b>(address-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_address-info-family"></a><a name="Procedure_address-info-family"></a><a name="index-address_002dinfo_002dfamily"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-info-family">address-info-family</a></b></code><i> <var>address-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the family field of the address-information record
<var>address-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map address-info-family
       (address-infos host: &quot;ftp.at.debian.org&quot;))</b>
(INET6 INET6 INET INET)
</pre></td></tr></table>



<a name="Definition_of_address-info-socket-type"></a><a name="Procedure_address-info-socket-type"></a><a name="index-address_002dinfo_002dsocket_002dtype"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-info-socket-type">address-info-socket-type</a></b></code><i> <var>address-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the socket-type field of the address-information record
<var>address-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map address-info-socket-type
       (address-infos host: &quot;ftp.at.debian.org&quot;))</b>
(DGRAM STREAM DGRAM STREAM)
</pre></td></tr></table>



<a name="Definition_of_address-info-protocol"></a><a name="Procedure_address-info-protocol"></a><a name="index-address_002dinfo_002dprotocol"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-info-protocol">address-info-protocol</a></b></code><i> <var>address-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the protocol field of the address-information record
<var>address-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map address-info-protocol
       (address-infos host: &quot;ftp.at.debian.org&quot;))</b>
(UDP TCP UDP TCP)
</pre></td></tr></table>



<a name="Definition_of_address-info-socket-info"></a><a name="Procedure_address-info-socket-info"></a><a name="index-address_002dinfo_002dsocket_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_address-info-socket-info">address-info-socket-info</a></b></code><i> <var>address-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the socket-info field of the address-information record
<var>address-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(map address-info-socket-info
       (address-infos host: &quot;ftp.at.debian.org&quot;))</b>
(#&lt;socket-info #2
    family: INET6
    port-number: 0
    address: #u16(8193 2136 2 1 0 0 0 16)&gt;
 #&lt;socket-info #3
    family: INET6
    port-number: 0
    address: #u16(8193 2136 2 1 0 0 0 16)&gt;
 #&lt;socket-info #4
    family: INET
    port-number: 0
    address: #u8(213 129 232 18)&gt;
 #&lt;socket-info #5
    family: INET
    port-number: 0
    address: #u8(213 129 232 18)&gt;)
</pre></td></tr></table>



<a name="Service-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Host-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Protocol-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Service-information-1"></a>
<h2 class="section">16.12 Service information</h2>

<a name="Definition_of_service-info"></a><a name="Procedure_service-info"></a><a name="index-service_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info">service-info</a></b></code><i> <var>service-name-or-id</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the service database to get information about
the service identified by <var>service-name-or-id</var>, which is the
service&rsquo;s symbolic name (string) or the service&rsquo;s port number (exact
integer).  A service-information record is returned that contains the
service&rsquo;s symbolic name, a list of aliases (alternative names), the
port number (exact integer), and the protocol name (string).  An
exception is raised when <var>service-name-or-id</var> does not appear in
the database.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info &quot;http&quot;)</b>
#&lt;service-info #2
   name: &quot;http&quot;
   aliases: (&quot;www&quot; &quot;www-http&quot;)
   port-number: 80
   protocol: &quot;udp&quot;&gt;
&gt; <b>(service-info 80)</b>
#&lt;service-info #3
   name: &quot;http&quot;
   aliases: (&quot;www&quot; &quot;www-http&quot;)
   port-number: 80
   protocol: &quot;udp&quot;&gt;
</pre></td></tr></table>



<a name="Definition_of_service-info?"></a><a name="Procedure_service-info?"></a><a name="index-service_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info?">service-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a service-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info? (service-info &quot;http&quot;))</b>
#t
&gt; <b>(service-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_service-info-name"></a><a name="Procedure_service-info-name"></a><a name="index-service_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info-name">service-info-name</a></b></code><i> <var>service-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the symbolic name field of the service-information record
<var>service-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info-name (service-info 80))</b>
&quot;http&quot;
</pre></td></tr></table>



<a name="Definition_of_service-info-aliases"></a><a name="Procedure_service-info-aliases"></a><a name="index-service_002dinfo_002daliases"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info-aliases">service-info-aliases</a></b></code><i> <var>service-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the aliases field of the service-information record
<var>service-info</var>.  This field is a possibly empty list of strings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info-aliases (service-info &quot;http&quot;))</b>
(&quot;www&quot; &quot;www-http&quot;)
</pre></td></tr></table>



<a name="Definition_of_service-info-port-number"></a><a name="Procedure_service-info-port-number"></a><a name="index-service_002dinfo_002dport_002dnumber"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info-port-number">service-info-port-number</a></b></code><i> <var>service-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the service port number field of the service-information
record <var>service-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info-port-number (service-info &quot;http&quot;))</b>
80
</pre></td></tr></table>



<a name="Definition_of_service-info-protocol"></a><a name="Procedure_service-info-protocol"></a><a name="index-service_002dinfo_002dprotocol"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_service-info-protocol">service-info-protocol</a></b></code><i> <var>service-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the service protocol name field of the service-information
record <var>service-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(service-info-protocol (service-info &quot;http&quot;))</b>
&quot;udp&quot;
</pre></td></tr></table>



<a name="Protocol-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Service-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Network-information" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Protocol-information-1"></a>
<h2 class="section">16.13 Protocol information</h2>

<a name="Definition_of_protocol-info"></a><a name="Procedure_protocol-info"></a><a name="index-protocol_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_protocol-info">protocol-info</a></b></code><i> <var>protocol-name-or-id</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the protocol database to get information about
the protocol identified by <var>protocol-name-or-id</var>, which is the
protocol&rsquo;s symbolic name (string) or the protocol&rsquo;s number (exact
integer).  A protocol-information record is returned that contains the
protocol&rsquo;s symbolic name, a list of aliases (alternative names), and
the protocol number (32 bit unsigned exact integer).  An exception is
raised when <var>protocol-name-or-id</var> does not appear in the database.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(protocol-info &quot;tcp&quot;)</b>
#&lt;protocol-info #2 name: &quot;tcp&quot; aliases: (&quot;TCP&quot;) number: 6&gt;
&gt; <b>(protocol-info 6)</b>
#&lt;protocol-info #2 name: &quot;tcp&quot; aliases: (&quot;TCP&quot;) number: 6&gt;
</pre></td></tr></table>



<a name="Definition_of_protocol-info?"></a><a name="Procedure_protocol-info?"></a><a name="index-protocol_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_protocol-info?">protocol-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a protocol-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(protocol-info? (protocol-info &quot;tcp&quot;))</b>
#t
&gt; <b>(protocol-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_protocol-info-name"></a><a name="Procedure_protocol-info-name"></a><a name="index-protocol_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_protocol-info-name">protocol-info-name</a></b></code><i> <var>protocol-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the symbolic name field of the protocol-information record
<var>protocol-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(protocol-info-name (protocol-info 6))</b>
&quot;tcp&quot;
</pre></td></tr></table>



<a name="Definition_of_protocol-info-aliases"></a><a name="Procedure_protocol-info-aliases"></a><a name="index-protocol_002dinfo_002daliases"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_protocol-info-aliases">protocol-info-aliases</a></b></code><i> <var>protocol-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the aliases field of the protocol-information record
<var>protocol-info</var>.  This field is a possibly empty list of strings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(protocol-info-aliases (protocol-info &quot;tcp&quot;))</b>
(&quot;TCP&quot;)
</pre></td></tr></table>



<a name="Definition_of_protocol-info-number"></a><a name="Procedure_protocol-info-number"></a><a name="index-protocol_002dinfo_002dnumber"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_protocol-info-number">protocol-info-number</a></b></code><i> <var>protocol-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the protocol number field of the protocol-information record
<var>protocol-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(protocol-info-number (protocol-info &quot;tcp&quot;))</b>
6
</pre></td></tr></table>



<a name="Network-information"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Protocol-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Host-environment" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Network-information-1"></a>
<h2 class="section">16.14 Network information</h2>

<a name="Definition_of_network-info"></a><a name="Procedure_network-info"></a><a name="index-network_002dinfo"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_network-info">network-info</a></b></code><i> <var>network-name-or-id</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure accesses the network database to get information about
the network identified by <var>network-name-or-id</var>, which is the
network&rsquo;s symbolic name (string) or the network&rsquo;s number (exact
integer).  A network-information record is returned that contains the
network&rsquo;s symbolic name, a list of aliases (alternative names), and
the network number (32 bit unsigned exact integer).  An exception is
raised when <var>network-name-or-id</var> does not appear in the database.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(network-info &quot;loopback&quot;)</b>
#&lt;network-info #2
   name: &quot;loopback&quot;
   aliases: (&quot;loopback-net&quot;)
   number: 127&gt;
&gt; <b>(network-info 127)</b>
#&lt;network-info #3
   name: &quot;loopback&quot;
   aliases: (&quot;loopback-net&quot;)
   number: 127&gt;
</pre></td></tr></table>



<a name="Definition_of_network-info?"></a><a name="Procedure_network-info?"></a><a name="index-network_002dinfo_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_network-info?">network-info?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a network-information
record and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(network-info? (network-info &quot;loopback&quot;))</b>
#t
&gt; <b>(network-info? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_network-info-name"></a><a name="Procedure_network-info-name"></a><a name="index-network_002dinfo_002dname"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_network-info-name">network-info-name</a></b></code><i> <var>network-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the symbolic name field of the network-information record
<var>network-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(network-info-name (network-info 127))</b>
&quot;loopback&quot;
</pre></td></tr></table>



<a name="Definition_of_network-info-aliases"></a><a name="Procedure_network-info-aliases"></a><a name="index-network_002dinfo_002daliases"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_network-info-aliases">network-info-aliases</a></b></code><i> <var>network-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the aliases field of the network-information record
<var>network-info</var>.  This field is a possibly empty list of strings.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(network-info-aliases (network-info &quot;loopback&quot;))</b>
(&quot;loopback-net&quot;)
</pre></td></tr></table>



<a name="Definition_of_network-info-number"></a><a name="Procedure_network-info-number"></a><a name="index-network_002dinfo_002dnumber"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_network-info-number">network-info-number</a></b></code><i> <var>network-info</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Returns the network number field of the network-information record
<var>network-info</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(network-info-number (network-info &quot;loopback&quot;))</b>
127
</pre></td></tr></table>



<a name="I_002fO-and-ports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Network-information" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Unidirectional-and-bidirectional-ports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Host-environment" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="I_002fO-and-ports-1"></a>
<h1 class="chapter">17. I/O and ports</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Unidirectional-and-bidirectional-ports">17.1 Unidirectional and bidirectional ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Port-classes">17.2 Port classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Port-settings">17.3 Port settings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Object_002dports">17.4 Object-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Character_002dports">17.5 Character-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Byte_002dports">17.6 Byte-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Device_002dports">17.7 Device-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Directory_002dports">17.8 Directory-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#String_002dports">17.10 String-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Unidirectional-and-bidirectional-ports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Port-classes" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Unidirectional-and-bidirectional-ports-1"></a>
<h2 class="section">17.1 Unidirectional and bidirectional ports</h2>

<p>Unidirectional ports allow communication between a producer of
information and a consumer.  An input-port&rsquo;s producer is typically a
resource managed by the operating system (such as a file, a process or
a network connection) and the consumer is the Scheme program.  The
roles are reversed for an output-port.
</p>
<p>Associated with each port are settings that affect I/O operations on
that port (encoding of characters to bytes, end-of-line encoding, type
of buffering, etc).  Port settings are specified when the port is
created.  Some port settings can be changed after a port is created.
</p>
<p>Bidirectional ports, also called input-output-ports, allow
communication in both directions.  They are best viewed as an object
that groups two separate unidirectional ports (one in each direction).
Each direction has its own port settings and can be closed
independently from the other direction.
</p>
<a name="Port-classes"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Unidirectional-and-bidirectional-ports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Port-settings" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Port-classes-1"></a>
<h2 class="section">17.2 Port classes</h2>

<p>The four classes of ports listed below form an inheritance hierarchy.
Operations possible for a certain class of port are also possible for
the subclasses.  Only device-ports are connected to a device managed
by the operating system.  For instance it is possible to create ports
that behave as a FIFO where the Scheme program is both the producer
and consumer of information (possibly one thread is the producer and
another thread is the consumer).
</p>
<ol>
<li>
An <em>object-port</em> (or simply a port) provides operations to read
and write Scheme data (i.e. any Scheme object) to/from the port.  It
also provides operations to force output to occur, to change the way
threads block on the port, and to close the port.  Note that the class
of objects for which write/read invariance is guaranteed depends on
the particular class of port.

</li><li>
A <em>character-port</em> provides all the operations of an object-port,
and also operations to read and write individual characters to/from
the port.  When a Scheme object is written to a character-port, it is
converted into the sequence of characters that corresponds to its
external-representation.  When reading a Scheme object, an inverse
conversion occurs.  Note that some Scheme objects do not have an
external textual representation that can be read back.

</li><li>
A <em>byte-port</em> provides all the operations of a character-port, and
also operations to read and write individual bytes to/from the port.
When a character is written to a byte-port, some encoding of that
character into a sequence of bytes will occur (for example,
<code>#\newline</code> will be encoded as the 2 bytes CR-LF when using
ISO-8859-1 character encoding and <code>cr-lf</code> end-of-line encoding, and
a non-ASCII character will generate more than 1 byte when using UTF-8
character encoding).  When reading a character, a similar decoding
occurs.

</li><li>
A <em>device-port</em> provides all the operations of a byte-port, and
also operations to control the operating system managed device (file,
network connection, terminal, etc) that is connected to the port.

</li></ol>

<a name="Port-settings"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Port-classes" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Object_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Port-settings-1"></a>
<h2 class="section">17.3 Port settings</h2>

<p>Some port settings are only valid for specific port classes whereas
some others are valid for all ports.  Port settings are specified when
a port is created.  The settings that are not specified will default
to some reasonable values.  Keyword objects are used to name the
settings to be set.  As a simple example, a device-port connected to
the file <code>&quot;foo&quot;</code> can be created using the call
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(open-input-file &quot;foo&quot;)
</pre></td></tr></table>

<p>This will use default settings for the character encoding, buffering,
etc.  If the UTF-8 character encoding is desired, then the port could
be opened using the call
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(open-input-file (list path: &quot;foo&quot; char-encoding: 'UTF-8))
</pre></td></tr></table>

<p>Here the argument of the procedure <code>open-input-file</code> has been
replaced by a <em>port settings list</em> which specifies the value of
each port setting that should not be set to the default value.  Note
that some port settings have no useful default and it is therefore
required to specify a value for them, such as the <code>path:</code> in the
case of the file opening procedures.  All port creation procedures
(i.e. named <code>open-...</code>) take a single argument that can either
be a port settings list or a value of a type that depends on the kind
of port being created (a path string for files, an IP port number for
socket servers, etc).
</p>
<a name="Object_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Port-settings" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Object_002dport-settings" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Object_002dports-1"></a>
<h2 class="section">17.4 Object-ports</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Object_002dport-settings">17.4.1 Object-port settings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Object_002dport-settings"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Object_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Object_002dport-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Object_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Object_002dport-settings-1"></a>
<h3 class="subsection">17.4.1 Object-port settings</h3>

<p>The following is a list of port settings that are valid for all types
of ports.
</p>
<ul>
<li>
<code>direction:</code> ( <code>input</code> | <code>output</code> | <code>input-output</code> )

<p>This setting controls the direction of the port.  The symbol
<code>input</code> indicates a unidirectional input-port, the symbol
<code>output</code> indicates a unidirectional output-port, and the symbol
<code>input-output</code> indicates a bidirectional port.  The default
value of this setting depends on the port creation procedure.
</p>
</li><li>
<code>buffering:</code> ( <code>#f</code> | <code>#t</code> | <code>line</code> )

<p>This setting controls the buffering of the port.  To set each
direction separately the keywords <code>input-buffering:</code> and
<code>output-buffering:</code> must be used instead of <code>buffering:</code>.
The value <code>#f</code> selects unbuffered I/O, the value <code>#t</code>
selects fully buffered I/O, and the symbol <code>line</code> selects line
buffered I/O (the output buffer is drained when a <code>#\newline</code>
character is written).  Line buffered I/O only applies to
character-ports.  The default value of this setting is operating
system dependent except consoles which are unbuffered.
</p>
</li></ul>

<a name="Object_002dport-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Object_002dport-settings" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Character_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Object_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Object_002dport-operations-1"></a>
<h3 class="subsection">17.4.2 Object-port operations</h3>

<a name="Definition_of_input-port?"></a><a name="Procedure_input-port?"></a><a name="index-input_002dport_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port?">input-port?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port?"></a><a name="Procedure_output-port?"></a><a name="index-output_002dport_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port?">output-port?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_port?"></a><a name="Procedure_port?"></a><a name="index-port_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_port?">port?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>input-port?</code> returns <code>#t</code> when <var>obj</var> is a
unidirectional input-port or a bidirectional port and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>output-port?</code> returns <code>#t</code> when <var>obj</var> is a
unidirectional output-port or a bidirectional port and <code>#f</code>
otherwise.
</p>
<p>The procedure <code>port?</code> returns <code>#t</code> when <var>obj</var> is a port
(either unidirectional or bidirectional) and <code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(input-port? (current-input-port))</b>
#t
&gt; <b>(call-with-input-string &quot;some text&quot; output-port?)</b>
#f
&gt; <b>(port? (current-output-port))</b>
#t
</pre></td></tr></table>



<a name="Definition_of_read"></a><a name="Procedure_read"></a><a name="index-read"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read">read</a></b></code><i> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure reads and returns the next Scheme datum from the
input-port <var>port</var>.  The end-of-file object is returned when the
end of the stream is reached.  If it is not specified, <var>port</var>
defaults to the current input-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-input-string &quot;some text&quot; read)</b>
some
&gt; <b>(call-with-input-string &quot;&quot; read)</b>
#!eof
</pre></td></tr></table>



<a name="Definition_of_read-all"></a><a name="Procedure_read-all"></a><a name="index-read_002dall"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-all">read-all</a></b></code><i> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>reader</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure repeatedly calls the procedure <var>reader</var> with
<var>port</var> as the sole argument and accumulates a list of each value
returned up to the end-of-file object.  The procedure <code>read-all</code>
returns the accumulated list without the end-of-file object.  If it is
not specified, <var>port</var> defaults to the current input-port.  If it
is not specified, <var>reader</var> defaults to the procedure <code>read</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-input-string &quot;3,2,1\ngo!&quot; read-all)</b>
(3 ,2 ,1 go!)
&gt; <b>(call-with-input-string &quot;3,2,1\ngo!&quot;
                          (lambda (p) (read-all p read-char)))</b>
(#\3 #\, #\2 #\, #\1 #\newline #\g #\o #\!)
&gt; <b>(call-with-input-string &quot;3,2,1\ngo!&quot;
                          (lambda (p) (read-all p read-line)))</b>
(&quot;3,2,1&quot; &quot;go!&quot;)
</pre></td></tr></table>



<a name="Definition_of_write"></a><a name="Procedure_write"></a><a name="index-write"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_write">write</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure writes the Scheme datum <var>obj</var> to the output-port
<var>port</var> and the value returned is unspecified.  If it is not
specified, <var>port</var> defaults to the current output-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(write (list 'compare (list 'quote '@x) 'and (list 'unquote '@x))) </b>
(compare '@x and , @x)&gt; 
</pre></td></tr></table>



<a name="Definition_of_newline"></a><a name="Procedure_newline"></a><a name="index-newline"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_newline">newline</a></b></code><i> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure writes an &ldquo;object separator&rdquo; to the output-port
<var>port</var> and the value returned is unspecified.  The separator
ensures that the next Scheme datum written with the <code>write</code>
procedure will not be confused with the latest datum that was written.
On character-ports this is done by writing the character
<code>#\newline</code>.  On ports where successive objects are implicitly
distinct (such as &ldquo;vector ports&rdquo;) this procedure does nothing.
</p>
<p>Regardless of the class of a port <var>p</var> and assuming that the
external textual representation of the object <var>x</var> is readable, the
expression <code>(begin (write <var>x</var> <var>p</var>) (newline <var>p</var>))</code>
will write to <var>p</var> a representation of <var>x</var> that can be read
back with the procedure <code>read</code>.  If it is not specified,
<var>port</var> defaults to the current output-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(begin (write 123) (newline) (write 456) (newline))</b>
123
456
</pre></td></tr></table>



<a name="Definition_of_force-output"></a><a name="Procedure_force-output"></a><a name="index-force_002doutput"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_force-output">force-output</a></b></code><i> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>level</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>force-output</code> causes the data that was written to
the output-port <var>port</var> to be moved closer to its destination
according to <var>level</var>, an exact integer in the range 0 to 2.  If
<var>port</var> is not specified, the current output-port is used.  If
<var>level</var> is not specified, it defaults to 0.  Values of <var>level</var>
above 0 are equivalent to <var>level</var> = 0 except for device ports as
explained below.
</p>
<p>When <var>level</var> is 0, the output buffers of <var>port</var> which are
managed in the Scheme process are drained (i.e.  the output operation
that was delayed due to buffering is actually performed).  In the case
of a device port the data is passed to the operating system and it
becomes its responsibility to transmit the data to the device.  The
operating system may implement its own buffering approach which delays
the transmission of the data to the device.
</p>
<p>When <var>level</var> is 1, in addition to the operations for <var>level</var> =
0 and if the operating system supports the functionality, the
operating system is requested to transmit the data to the device.  On
UNIX this corresponds to a <code>fsync</code> system call.
</p>
<p>When <var>level</var> is 2, in addition to the operations for <var>level</var> =
1 and if the operating system supports the functionality, the
operating system is requested to wait until the device reports that
the data was saved by the device (e.g. actually written to disk in the
case of a file).  This operation can take a long time on some
operating systems.  On Mac OS X this corresponds to a <code>fcntl</code>
system call with operation <code>F_FULLFSYNC</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-tcp-client &quot;www.iro.umontreal.ca:80&quot;))</b>
&gt; <b>(display &quot;GET /\n&quot; p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read-line p)</b>
&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01 Transitional//EN\&quot;&quot;
</pre></td></tr></table>



<a name="Definition_of_close-input-port"></a><a name="Procedure_close-input-port"></a><a name="index-close_002dinput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_close-input-port">close-input-port</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_close-output-port"></a><a name="Procedure_close-output-port"></a><a name="index-close_002doutput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_close-output-port">close-output-port</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_close-port"></a><a name="Procedure_close-port"></a><a name="index-close_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_close-port">close-port</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <var>port</var> argument of these procedures must be a unidirectional
or a bidirectional port.  For all three procedures the value returned
is unspecified.
</p>
<p>The procedure <code>close-input-port</code> closes the input-port side of
<var>port</var>, which must not be a unidirectional output-port.
</p>
<p>The procedure <code>close-output-port</code> closes the output-port side of
<var>port</var>, which must not be a unidirectional input-port.  The ouput
buffers are drained before <var>port</var> is closed.
</p>
<p>The procedure <code>close-port</code> closes all sides of the <var>port</var>.
Unless <var>port</var> is a unidirectional input-port, the output buffers
are drained before <var>port</var> is closed.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-tcp-client &quot;www.iro.umontreal.ca:80&quot;))</b>
&gt; <b>(display &quot;GET /\n&quot; p)</b>
&gt; <b>(close-output-port p)</b>
&gt; <b>(read-line p)</b>
&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01 Transitional//EN\&quot;&quot;
</pre></td></tr></table>



<a name="Definition_of_input-port-timeout-set!"></a><a name="Procedure_input-port-timeout-set!"></a><a name="index-input_002dport_002dtimeout_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-timeout-set!">input-port-timeout-set!</a></b></code><i> <var>port</var> <var>timeout</var> <span class="roman">[</span><var>thunk</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-timeout-set!"></a><a name="Procedure_output-port-timeout-set!"></a><a name="index-output_002dport_002dtimeout_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-timeout-set!">output-port-timeout-set!</a></b></code><i> <var>port</var> <var>timeout</var> <span class="roman">[</span><var>thunk</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>When a thread tries to perform an I/O operation on a port, the
requested operation may not be immediately possible and the thread
must wait.  For example, the thread may be trying to read a line of
text from the console and the user has not typed anything yet, or the
thread may be trying to write to a network connection faster than the
network can handle.  In such situations the thread normally blocks
until the operation becomes possible.
</p>
<p>It is sometimes necessary to guarantee that the thread will not block
too long.  For this purpose, to each input-port and output-port is
attached a <em>timeout</em> and <em>timeout-thunk</em>.  The timeout
indicates the point in time beyond which the thread should stop
waiting on an input and output operation respectively.  When the
timeout is reached, the thread calls the port&rsquo;s timeout-thunk.  If the
timeout-thunk returns <code>#f</code> the thread abandons trying to perform
the operation (in the case of an input operation an end-of-file is
read and in the case of an output operation an exception is raised).
Otherwise, the thread will block again waiting for the operation to
become possible (note that if the port&rsquo;s timeout has not changed the
thread will immediately call the timeout-thunk again).
</p>
<p>The procedure <code>input-port-timeout-set!</code> sets the timeout of the
input-port <var>port</var> to <var>timeout</var> and the timeout-thunk to
<var>thunk</var>.  The procedure <code>output-port-timeout-set!</code> sets the
timeout of the output-port <var>port</var> to <var>timeout</var> and the
timeout-thunk to <var>thunk</var>.  If it is not specified, the <var>thunk</var>
defaults to a thunk that returns <code>#f</code>.  The <var>timeout</var> is
either a time object indicating an absolute point in time, or it is a
real number which indicates the number of seconds relative to the
moment the procedure is called.  For both procedures the value
returned is unspecified.
</p>
<p>When a port is created the timeout is set to infinity (<code>+inf.0</code>).
This causes the thread to wait as long as needed for the operation to
become possible.  Setting the timeout to a point in the past
(<code>-inf.0</code>) will cause the thread to attempt the I/O operation and
never block (i.e. the timeout-thunk is called if the operation is not
immediately possible).
</p>
<p>The following example shows how to cause the REPL to terminate
when the user does not enter an expression within the next 60 seconds.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(input-port-timeout-set! (repl-input-port) 60)</b>
&gt; 
*** EOF again to exit
</pre></td></tr></table>



<a name="Character_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Object_002dport-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Character_002dport-settings" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Character_002dports-1"></a>
<h2 class="section">17.5 Character-ports</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Character_002dport-settings">17.5.1 Character-port settings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Character_002dport-settings"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Character_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Character_002dport-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Character_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Character_002dport-settings-1"></a>
<h3 class="subsection">17.5.1 Character-port settings</h3>

<p>The following is a list of port settings that are valid for
character-ports.
</p>
<ul>
<li>
<code>readtable:</code> <var>readtable</var>

<p>This setting determines the readtable attached to the character-port.
To set each direction separately the keywords <code>input-readtable:</code>
and <code>output-readtable:</code> must be used instead of
<code>readtable:</code>.  Readtables control the external textual
representation of Scheme objects, that is the encoding of Scheme
objects using characters.  The behavior of the <code>read</code> procedure
depends on the port&rsquo;s input-readtable and the behavior of the
procedures <code>write</code>, <code>pretty-print</code>, and related procedures
is affected by the port&rsquo;s output-readtable.  The default value of this
setting is the value bound to the parameter object
<code>current-readtable</code>.
</p>
</li><li>
<code>output-width:</code> <var>positive-integer</var>

<p>This setting indicates the width of the character output-port in
number of characters.  This information is used by the pretty-printer.
The default value of this setting is 80.
</p>
</li></ul>

<a name="Character_002dport-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Character_002dport-settings" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Byte_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Character_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Character_002dport-operations-1"></a>
<h3 class="subsection">17.5.2 Character-port operations</h3>

<a name="Definition_of_input-port-line"></a><a name="Procedure_input-port-line"></a><a name="index-input_002dport_002dline"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-line">input-port-line</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_input-port-column"></a><a name="Procedure_input-port-column"></a><a name="index-input_002dport_002dcolumn"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-column">input-port-column</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-line"></a><a name="Procedure_output-port-line"></a><a name="index-output_002dport_002dline"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-line">output-port-line</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-column"></a><a name="Procedure_output-port-column"></a><a name="index-output_002dport_002dcolumn"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-column">output-port-column</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The current character location of a character input-port is the
location of the next character to read.  The current character
location of a character output-port is the location of the next
character to write.  Location is denoted by a line number (the first
line is line 1) and a column number, that is the location on the
current line (the first column is column 1).  The procedures
<code>input-port-line</code> and <code>input-port-column</code> return the line
location and the column location respectively of the character
input-port <var>port</var>.  The procedures <code>output-port-line</code> and
<code>output-port-column</code> return the line location and the column
location respectively of the character output-port <var>port</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-output-string
    '()
    (lambda (p)
      (display &quot;abc\n123def&quot; p)
      (write (list (output-port-line p) (output-port-column p))
             p)))</b>
&quot;abc\n123def(2 7)&quot;
</pre></td></tr></table>



<a name="Definition_of_output-port-width"></a><a name="Procedure_output-port-width"></a><a name="index-output_002dport_002dwidth"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-width">output-port-width</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the width, in characters, of the character
output-port <var>port</var>.  The value returned is the port&rsquo;s output-width
setting.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(output-port-width (repl-output-port))</b>
80
</pre></td></tr></table>



<a name="Definition_of_read-char"></a><a name="Procedure_read-char"></a><a name="index-read_002dchar"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-char">read-char</a></b></code><i> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure reads the character input-port <var>port</var> and returns
the character at the current character location and advances the
current character location to the next character, unless the
<var>port</var> is already at end-of-file in which case <code>read-char</code>
returns the end-of-file object.  If it is not specified, <var>port</var>
defaults to the current input-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-input-string
    &quot;some text&quot;
    (lambda (p)
      (let ((a (read-char p))) (list a (read-char p)))))</b>
(#\s #\o)
&gt; <b>(call-with-input-string &quot;&quot; read-char)</b>
#!eof
</pre></td></tr></table>



<a name="Definition_of_peek-char"></a><a name="Procedure_peek-char"></a><a name="index-peek_002dchar"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_peek-char">peek-char</a></b></code><i> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the same result as <code>read-char</code> but it does
not advance the current character location of the input-port
<var>port</var>.  If it is not specified, <var>port</var> defaults to the
current input-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-input-string
    &quot;some text&quot;
    (lambda (p)
      (let ((a (peek-char p))) (list a (read-char p)))))</b>
(#\s #\s)
&gt; <b>(call-with-input-string &quot;&quot; peek-char)</b>
#!eof
</pre></td></tr></table>



<a name="Definition_of_write-char"></a><a name="Procedure_write-char"></a><a name="index-write_002dchar"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_write-char">write-char</a></b></code><i> <var>char</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure writes the character <var>char</var> to the character
output-port <var>port</var> and advances the current character location of
that output-port.  The value returned is unspecified.  If it is not
specified, <var>port</var> defaults to the current output-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(write-char #\=)</b>
=&gt; 
</pre></td></tr></table>



<a name="Definition_of_read-line"></a><a name="Procedure_read-line"></a><a name="index-read_002dline"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-line">read-line</a></b></code><i> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>separator</var> <span class="roman">[</span><var>include-separator?</var> <span class="roman">[</span><var>max-length</var><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure reads characters from the character input-port
<var>port</var> until a specific <var>separator</var> or the end-of-file is
encountered and returns a string containing the sequence of characters
read.  If it is specified, <var>max-length</var> must be a nonnegative
exact integer and it places an upper limit on the number of characters
that are read.
</p>
<p>The <var>separator</var> is included at the end of the string only
if it was the last character read and <var>include-separator?</var> is not
<code>#f</code>.  The <var>separator</var> must be a character or <code>#f</code> (in
which case all the characters until the end-of-file are read).  If it
is not specified, <var>port</var> defaults to the current input-port.  If
it is not specified, <var>separator</var> defaults to <code>#\newline</code>.  If
it is not specified, <var>include-separator?</var> defaults to <code>#f</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (split sep)
    (lambda (str)
      (call-with-input-string
        str
        (lambda (p)
          (read-all p (lambda (p) (read-line p sep)))))))</b>
&gt; <b>((split #\,) &quot;a,b,c&quot;)</b>
(&quot;a&quot; &quot;b&quot; &quot;c&quot;)
&gt; <b>(map (split #\,)
       (call-with-input-string &quot;1,2,3\n4,5&quot;
                               (lambda (p) (read-all p read-line))))</b>
((&quot;1&quot; &quot;2&quot; &quot;3&quot;) (&quot;4&quot; &quot;5&quot;))
&gt; <b>(read-line (current-input-port) #\newline #f 2)1234</b>
&quot;12&quot;
&gt; 34
</pre></td></tr></table>



<a name="Definition_of_read-substring"></a><a name="Procedure_read-substring"></a><a name="index-read_002dsubstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-substring">read-substring</a></b></code><i> <var>string</var> <var>start</var> <var>end</var> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>need</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_write-substring"></a><a name="Procedure_write-substring"></a><a name="index-write_002dsubstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_write-substring">write-substring</a></b></code><i> <var>string</var> <var>start</var> <var>end</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures support bulk character I/O.  The part of the string
<var>string</var> starting at index <var>start</var> and ending just before
index <var>end</var> is used as a character buffer that will be the target
of <code>read-substring</code> or the source of the <code>write-substring</code>.
The <code>read-substring</code> also accepts a <var>need</var> parameter which
must be a nonnegative fixnum.  Up to <var>end</var>-<var>start</var> characters
will be transferred.  The number of characters transferred, possibly
zero, is returned by these procedures.  Fewer characters will be read
by <code>read-substring</code> if an end-of-file is read, or a timeout
occurs before all the requested characters are transferred and the
timeout thunk returns <code>#f</code> (see the procedure
<code>input-port-timeout-set!</code>), or <var>need</var> is specified and at
least that many characters have been read (in other words the
procedure does not block for more characters but may transfer more
characters if they are immediately available).  Fewer characters will
be written by <code>write-substring</code> if a timeout occurs before all
the requested characters are transferred and the timeout thunk returns
<code>#f</code> (see the procedure <code>output-port-timeout-set!</code>).  If it
is not specified, <var>port</var> defaults to the current input-port and
current output-port respectively.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (make-string 10 #\x))</b>
&gt; <b>(read-substring s 2 5)123456789</b>
3
&gt; 456789
&gt; <b>s</b>
&quot;xx123xxxxx&quot;
&gt; <b>(read-substring s 2 10 (current-input-port) 3)abcd</b>
5
&gt; <b>s</b>
&quot;xxabcd\nxxx&quot;
</pre></td></tr></table>



<a name="Definition_of_input-port-readtable"></a><a name="Procedure_input-port-readtable"></a><a name="index-input_002dport_002dreadtable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-readtable">input-port-readtable</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-readtable"></a><a name="Procedure_output-port-readtable"></a><a name="index-output_002dport_002dreadtable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-readtable">output-port-readtable</a></b></code><i> <var>port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures return the readtable attached to the character-port
<var>port</var>.  The <var>port</var> parameter of <code>input-port-readtable</code>
must be an input-port.  The <var>port</var> parameter of
<code>output-port-readtable</code> must be an output-port.
</p>


<a name="Definition_of_input-port-readtable-set!"></a><a name="Procedure_input-port-readtable-set!"></a><a name="index-input_002dport_002dreadtable_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-readtable-set!">input-port-readtable-set!</a></b></code><i> <var>port</var> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-readtable-set!"></a><a name="Procedure_output-port-readtable-set!"></a><a name="index-output_002dport_002dreadtable_002dset_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-readtable-set!">output-port-readtable-set!</a></b></code><i> <var>port</var> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures change the readtable attached to the character-port
<var>port</var> to the readtable <var>readtable</var>.  The <var>port</var> parameter
of <code>input-port-readtable-set!</code>  must be an input-port.  The
<var>port</var> parameter of <code>output-port-readtable-set!</code> must be an
output-port.  The value returned is unspecified.
</p>


<a name="Byte_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Character_002dport-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Byte_002dport-settings" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Byte_002dports-1"></a>
<h2 class="section">17.6 Byte-ports</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Byte_002dport-settings">17.6.1 Byte-port settings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Byte_002dport-settings"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Byte_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Byte_002dport-operations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Byte_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Byte_002dport-settings-1"></a>
<h3 class="subsection">17.6.1 Byte-port settings</h3>

<p>The following is a list of port settings that are valid for
byte-ports.
</p>
<ul>
<li>
<code>char-encoding:</code> <var>encoding</var>

<p>This setting controls the character encoding of the byte-port.  For
bidirectional byte-ports, the character encoding for input and output
is set.  To set each direction separately the keywords
<code>input-char-encoding:</code> and <code>output-char-encoding:</code> must be
used instead of <code>char-encoding:</code>.  The default value of this
setting is operating system dependent, but this can be overridden
through the runtime options (see section <a href="#Runtime-options">Runtime options</a>).  The following
encodings are supported:
</p>
<dl compact="compact">
<dt> <code>ISO-8859-1</code></dt>
<dd><p>ISO-8859-1 character encoding.  Each character is encoded by a single byte.
Only Unicode characters with a code in the range 0 to 255 are allowed.
</p>
</dd>
<dt> <code>ASCII</code></dt>
<dd><p>ASCII character encoding.  Each character is encoded by a single byte.
In principle only Unicode characters with a code in the range 0 to 127
are allowed but most types of ports treat this exactly like <code>ISO-8859-1</code>.
</p>
</dd>
<dt> <code>UTF-8</code></dt>
<dd><p>UTF-8 character encoding.  Each character is encoded by a sequence of one
to four bytes.  The minimum length UTF-8 encoding is used.  If a BOM is
needed at the beginning of the stream then it must be explicitly
written.
</p>
</dd>
<dt> <code>UTF-16</code></dt>
<dd><p>UTF-16 character encoding.  Each character is encoded by one or two 16
bit integers (2 or 4 bytes).  The 16 bit integers may be encoded using
little-endian encoding or big-endian encoding.  If the port is an
input-port and the first two bytes read are a BOM (&ldquo;Byte Order Mark&rdquo;
character with hexadecimal code FEFF) then the BOM will be discarded
and the endianness will be set accordingly, otherwise the endianness
depends on the operating system and how the Gambit runtime was
compiled.  If the port is an output-port then a BOM will be output at
the beginning of the stream and the endianness depends on the
operating system and how the Gambit runtime was compiled.
</p>
</dd>
<dt> <code>UTF-16LE</code></dt>
<dd><p>UTF-16 character encoding with little-endian endianness.  It is like
<code>UTF-16</code> except the endianness is set to little-endian and there is no
BOM processing.  If a BOM is needed at the beginning of the stream
then it must be explicitly written.
</p>
</dd>
<dt> <code>UTF-16BE</code></dt>
<dd><p>UTF-16 character encoding with big-endian endianness.  It is like
<code>UTF-16LE</code> except the endianness is set to big-endian.
</p>
</dd>
<dt> <code>UTF / UTF-fallback-ASCII / UTF-fallback-ISO-8859-1 / UTF-fallback-UTF-16 / UTF-fallback-UTF-16LE / UTF-fallback-UTF-16BE</code></dt>
<dd><p>These encodings combine the UTF-8 and UTF-16 encodings.  When one of
these character encodings is used for an output port, characters will
be encoded using the UTF-8 encoding.  The first character, if there is
one, is prefixed with a UTF-8 BOM (the three byte sequence EF BB BF in
hexadecimal).  When one of these character encodings is used for an
input port, the character encoding depends on the first few bytes.  If
the first bytes of the stream are a UTF-16LE BOM (FF FE in
hexadecimal), or a UTF-16BE BOM (FE FF in hexadecimal), or a UTF-8 BOM
(EF BB BF in hexadecimal), then the BOM is discarded and the remaining
bytes of the stream are decoded using the corresponding character
encoding.  If a BOM is not present, then the stream is decoded using
the fallback encoding specified.  The encoding <code>UTF</code> is a synonym
for <code>UTF-fallback-UTF-8</code>.  Note that the <code>UTF</code> character
encoding for input will correctly handle streams produced using the
encodings <code>UTF</code>, <code>UTF-8</code>, <code>UTF-16</code>, <code>ASCII</code>, and
if an explicit BOM is output, the encodings <code>UTF-16LE</code>, and
<code>UTF-16BE</code>.
</p>
</dd>
<dt> <code>UCS-2</code></dt>
<dd><p>UCS-2 character encoding.  Each character is encoded by a 16 bit
integer (2 bytes).  The 16 bit integers may be encoded using
little-endian encoding or big-endian encoding.  If the port is an
input-port and the first two bytes read are a BOM (&ldquo;Byte Order Mark&rdquo;
character with hexadecimal code FEFF) then the BOM will be discarded
and the endianness will be set accordingly, otherwise the endianness
depends on the operating system and how the Gambit runtime was
compiled.  If the port is an output-port then a BOM will be output at
the beginning of the stream and the endianness depends on the
operating system and how the Gambit runtime was compiled.
</p>
</dd>
<dt> <code>UCS-2LE</code></dt>
<dd><p>UCS-2 character encoding with little-endian endianness.  It is like
<code>UCS-2</code> except the endianness is set to little-endian and there is no
BOM processing.  If a BOM is needed at the beginning of the stream
then it must be explicitly written.
</p>
</dd>
<dt> <code>UCS-2BE</code></dt>
<dd><p>UCS-2 character encoding with big-endian endianness.  It is like
<code>UCS-2LE</code> except the endianness is set to big-endian.
</p>
</dd>
<dt> <code>UCS-4</code></dt>
<dd><p>UCS-4 character encoding.  Each character is encoded by a 32 integer
(4 bytes).  The 32 bit integers may be encoded using little-endian
encoding or big-endian encoding.  If the port is an input-port and the
first four bytes read are a BOM (&ldquo;Byte Order Mark&rdquo; character with
hexadecimal code 0000FEFF) then the BOM will be discarded and the
endianness will be set accordingly, otherwise the endianness depends
on the operating system and how the Gambit runtime was compiled.  If
the port is an output-port then a BOM will be output at the beginning
of the stream and the endianness depends on the operating system and
how the Gambit runtime was compiled.
</p>
</dd>
<dt> <code>UCS-4LE</code></dt>
<dd><p>UCS-4 character encoding with little-endian endianness.  It is like
<code>UCS-4</code> except the endianness is set to little-endian and there is no
BOM processing.  If a BOM is needed at the beginning of the stream
then it must be explicitly written.
</p>
</dd>
<dt> <code>UCS-4BE</code></dt>
<dd><p>UCS-4 character encoding with big-endian endianness.  It is like
<code>UCS-4LE</code> except the endianness is set to big-endian.
</p>
</dd>
</dl>

</li><li>
<code>char-encoding-errors:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls whether illegal character encodings are silently
replaced with the Unicode character #xfffd (replacement character) or
raise an error.  To set each direction separately the keywords
<code>input-char-encoding-errors:</code> and
<code>output-char-encoding-errors:</code> must be used instead of
<code>char-encoding-errors:</code>.  The default value of this setting is
<code>#t</code>.
</p>
</li><li>
<code>eol-encoding:</code> <var>encoding</var>

<p>This setting controls the end-of-line encoding of the byte-port.  To
set each direction separately the keywords <code>input-eol-encoding:</code>
and <code>output-eol-encoding:</code> must be used instead of
<code>eol-encoding:</code>.  The default value of this setting is operating
system dependent, but this can be overridden through the runtime
options (see section <a href="#Runtime-options">Runtime options</a>).  Note that for output-ports the
end-of-line encoding is applied before the character encoding, and for
input-ports it is applied after.  The following encodings are
supported:
</p>
<dl compact="compact">
<dt> <code>lf</code></dt>
<dd><p>For an output-port, writing a <code>#\newline</code> character outputs a
<code>#\linefeed</code> character to the stream (Unicode character code 10).
For an input-port, a <code>#\newline</code> character is read when a
<code>#\linefeed</code> character is encountered on the stream.  Note that
<code>#\linefeed</code> and <code>#\newline</code> are two names for the same
character, so this end-of-line encoding is actually the identity
function.  Text files created by UNIX applications typically use this
end-of-line encoding.
</p>
</dd>
<dt> <code>cr</code></dt>
<dd><p>For an output-port, writing a <code>#\newline</code> character outputs a
<code>#\return</code> character to the stream (Unicode character code 13).
For an input-port, a <code>#\newline</code> character is read when a
<code>#\linefeed</code> character or a <code>#\return</code> character is
encountered on the stream.  Text files created by Classic Mac OS
applications typically use this end-of-line encoding.
</p>
</dd>
<dt> <code>cr-lf</code></dt>
<dd><p>For an output-port, writing a <code>#\newline</code> character outputs to
the stream a <code>#\return</code> character followed by a <code>#\linefeed</code>
character.  For an input-port, a <code>#\newline</code> character is read
when a <code>#\linefeed</code> character or a <code>#\return</code> character is
encountered on the stream.  Moreover, if this character is immediately
followed by the opposite character (<code>#\linefeed</code> followed by
<code>#\return</code> or <code>#\return</code> followed by <code>#\linefeed</code>) then
the second character is ignored.  In other words, all four possible
end-of-line encodings are read as a single <code>#\newline</code> character.
Text files created by DOS and Microsoft Windows applications typically
use this end-of-line encoding.
</p>
</dd>
</dl>

</li></ul>

<a name="Byte_002dport-operations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Byte_002dport-settings" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Device_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Byte_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Byte_002dport-operations-1"></a>
<h3 class="subsection">17.6.2 Byte-port operations</h3>

<a name="Definition_of_read-u8"></a><a name="Procedure_read-u8"></a><a name="index-read_002du8"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-u8">read-u8</a></b></code><i> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure reads the byte input-port <var>port</var> and returns the
byte at the current byte location and advances the current byte
location to the next byte, unless the <var>port</var> is already at
end-of-file in which case <code>read-u8</code> returns the end-of-file
object.  If it is not specified, <var>port</var> defaults to the current
input-port.
</p>
<p>This procedure must be called when the port&rsquo;s input character buffer
is empty otherwise the character-stream and byte-stream may be out of
sync due to buffering.  The input character buffer is used for bulk
decoding of encoded characters (i.e. to translate the byte-stream into
a character-stream).  The input character buffer is initially empty.
It is only when characters are read that it is filled with characters
obtained by decoding the byte-stream.
</p>
<p>One way to ensure that the port&rsquo;s input character buffer is empty is
to call <code>read-u8</code> strictly before any use of the port in a character
input operation (i.e. a call to the procedures <code>read</code>,
<code>read-char</code>, <code>peek-char</code>, etc).  Alternatively
<code>input-port-characters-buffered</code> can be used to get the number of
characters in the port&rsquo;s input character buffer, and to empty the
buffer with calls to <code>read-char</code> or <code>read-substring</code>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-input-u8vector
    '#u8(11 22 33 44)
    (lambda (p)
      (let ((a (read-u8 p))) (list a (read-u8 p)))))</b>
(11 22)
&gt; <b>(call-with-input-u8vector '#u8() read-u8)</b>
#!eof
</pre></td></tr></table>



<a name="Definition_of_write-u8"></a><a name="Procedure_write-u8"></a><a name="index-write_002du8"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_write-u8">write-u8</a></b></code><i> <var>n</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure writes the byte <var>n</var> to the byte output-port
<var>port</var> and advances the current byte location of that output-port.
The value returned is unspecified.  If it is not specified, <var>port</var>
defaults to the current output-port.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(call-with-output-u8vector '() (lambda (p) (write-u8 33 p)))</b>
#u8(33)
</pre></td></tr></table>



<a name="Definition_of_read-subu8vector"></a><a name="Procedure_read-subu8vector"></a><a name="index-read_002dsubu8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_read-subu8vector">read-subu8vector</a></b></code><i> <var>u8vector</var> <var>start</var> <var>end</var> <span class="roman">[</span><var>port</var> <span class="roman">[</span><var>need</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_write-subu8vector"></a><a name="Procedure_write-subu8vector"></a><a name="index-write_002dsubu8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_write-subu8vector">write-subu8vector</a></b></code><i> <var>u8vector</var> <var>start</var> <var>end</var> <span class="roman">[</span><var>port</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures support bulk byte I/O.  The part of the u8vector
<var>u8vector</var> starting at index <var>start</var> and ending just before
index <var>end</var> is used as a byte buffer that will be the target of
<code>read-subu8vector</code> or the source of the <code>write-subu8vector</code>.
The <code>read-subu8vector</code> also accepts a <var>need</var> parameter which
must be a nonnegative fixnum.  Up to <var>end</var>-<var>start</var> bytes will
be transferred.  The number of bytes transferred, possibly zero, is
returned by these procedures.  Fewer bytes will be read by
<code>read-subu8vector</code> if an end-of-file is read, or a timeout occurs
before all the requested bytes are transferred and the timeout thunk
returns <code>#f</code> (see the procedure <code>input-port-timeout-set!</code>),
or <var>need</var> is specified and at least that many bytes have been read
(in other words the procedure does not block for more bytes but may
transfer more bytes if they are immediately available).  Fewer bytes
will be written by <code>write-subu8vector</code> if a timeout occurs before
all the requested bytes are transferred and the timeout thunk returns
<code>#f</code> (see the procedure <code>output-port-timeout-set!</code>).  If it
is not specified, <var>port</var> defaults to the current input-port and
current output-port respectively.
</p>
<p>The procedure <code>read-subu8vector</code> must be called before any use of
the port in a character input operation (i.e. a call to the procedures
<code>read</code>, <code>read-char</code>, <code>peek-char</code>, etc) because
otherwise the character-stream and byte-stream may be out of sync due
to the port buffering.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define v (make-u8vector 10))</b>
&gt; <b>(read-subu8vector v 2 5)123456789</b>
3
&gt; 456789
&gt; <b>v</b>
#u8(0 0 49 50 51 0 0 0 0 0)
&gt; <b>(read-subu8vector v 2 10 (current-input-port) 3)abcd</b>
5
&gt; <b>v</b>
#u8(0 0 97 98 99 100 10 0 0 0)
</pre></td></tr></table>



<a name="Device_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Byte_002dport-operations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Filesystem-devices" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Device_002dports-1"></a>
<h2 class="section">17.7 Device-ports</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Network-devices">17.7.3 Network devices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Filesystem-devices"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Device_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Process-devices" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Device_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Filesystem-devices-1"></a>
<h3 class="subsection">17.7.1 Filesystem devices</h3>

<a name="Definition_of_open-file"></a><a name="Procedure_open-file"></a><a name="index-open_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-file">open-file</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-input-file"></a><a name="Procedure_open-input-file"></a><a name="index-open_002dinput_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-input-file">open-input-file</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-output-file"></a><a name="Procedure_open-output-file"></a><a name="index-open_002doutput_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-output-file">open-output-file</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-input-file"></a><a name="Procedure_call-with-input-file"></a><a name="index-call_002dwith_002dinput_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-input-file">call-with-input-file</a></b></code><i> <var>path-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-output-file"></a><a name="Procedure_call-with-output-file"></a><a name="index-call_002dwith_002doutput_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-output-file">call-with-output-file</a></b></code><i> <var>path-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-input-from-file"></a><a name="Procedure_with-input-from-file"></a><a name="index-with_002dinput_002dfrom_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-file">with-input-from-file</a></b></code><i> <var>path-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-file"></a><a name="Procedure_with-output-to-file"></a><a name="index-with_002doutput_002dto_002dfile"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-file">with-output-to-file</a></b></code><i> <var>path-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>All of these procedures create a port to interface to a byte-stream
device (such as a file, console, serial port, named pipe, etc) whose
name is given by a path of the filesystem.  The <code>direction:</code>
setting will default to the value <code>input</code> for the procedures
<code>open-input-file</code>, <code>call-with-input-file</code> and
<code>with-input-from-file</code>, to the value <code>output</code> for the
procedures <code>open-output-file</code>, <code>call-with-output-file</code> and
<code>with-output-to-file</code>, and to the value <code>input-output</code> for
the procedure <code>open-file</code>.
</p>
<p>The procedures <code>open-file</code>, <code>open-input-file</code> and
<code>open-output-file</code> return the port that is created.  The
procedures <code>call-with-input-file</code> and
<code>call-with-output-file</code> call the procedure <var>proc</var> with the
port as single argument, and then return the value(s) of this call
after closing the port.  The procedures <code>with-input-from-file</code>
and <code>with-output-to-file</code> dynamically bind the current input-port
and current output-port respectively to the port created for the
duration of a call to the procedure <var>thunk</var> with no argument.  The
value(s) of the call to <var>thunk</var> are returned after closing the
port.
</p>
<p>The first argument of these procedures is either a string denoting a
filesystem path or a list of port settings which must contain a
<code>path:</code> setting.  Here are the settings allowed in addition to
the generic settings of byte-ports:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the file in the filesystem.
There is no default value for this setting.
</p>
</li><li>
<code>append:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls whether output will be added to the end of the
file.  This is useful for writing to log files that might be open by
more than one process.  The default value of this setting is
<code>#f</code>.
</p>
</li><li>
<code>create:</code> ( <code>#f</code> | <code>#t</code> | <code>maybe</code> )

<p>This setting controls whether the file will be created when it is
opened.  A setting of <code>#f</code> requires that the file exist
(otherwise an exception is raised).  A setting of <code>#t</code> requires
that the file does not exist (otherwise an exception is raised).  A
setting of <code>maybe</code> will create the file if it does not exist.
The default value of this setting is <code>maybe</code> for output-ports and
<code>#f</code> for input-ports and bidirectional ports.
</p>
</li><li>
<code>permissions:</code> <var>12-bit-exact-integer</var>

<p>This setting controls the UNIX permissions that will be attached to
the file if it is created.  The default value of this setting is
<code>#o666</code>.
</p>
</li><li>
<code>truncate:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls whether the file will be truncated when it is
opened.  For input-ports, the default value of this setting is
<code>#f</code>.  For output-ports, the default value of this setting is
<code>#t</code> when the <code>append:</code> setting is <code>#f</code>, and <code>#f</code>
otherwise.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(with-output-to-file
    (list path: &quot;nofile&quot;
          create: #f)
    (lambda ()
      (display &quot;hello world!\n&quot;)))</b>
*** ERROR IN (console)@1.1 -- No such file or directory
(with-output-to-file '(path: &quot;nofile&quot; create: #f) '#&lt;procedure #2&gt;)
</pre></td></tr></table>



<a name="Definition_of_input-port-byte-position"></a><a name="Procedure_input-port-byte-position"></a><a name="index-input_002dport_002dbyte_002dposition"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_input-port-byte-position">input-port-byte-position</a></b></code><i> <var>port</var> <span class="roman">[</span><var>position</var> <span class="roman">[</span><var>whence</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_output-port-byte-position"></a><a name="Procedure_output-port-byte-position"></a><a name="index-output_002dport_002dbyte_002dposition"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_output-port-byte-position">output-port-byte-position</a></b></code><i> <var>port</var> <span class="roman">[</span><var>position</var> <span class="roman">[</span><var>whence</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>When called with a single argument these procedures return the byte
position where the next I/O operation would take place in the file
attached to the given <var>port</var> (relative to the beginning of the
file).  When called with two or three arguments, the byte position for
subsequent I/O operations on the given <var>port</var> is changed to
<var>position</var>, which must be an exact integer.  When <var>whence</var> is
omitted or is 0, the <var>position</var> is relative to the beginning of
the file.  When <var>whence</var> is 1, the <var>position</var> is relative to
the current byte position of the file.  When <var>whence</var> is 2, the
<var>position</var> is relative to the end of the file.  The return value
is the new byte position.  On most operating systems the byte position
for reading and writing of a given bidirectional port are the same.
</p>
<p>When <code>input-port-byte-position</code> is called to change the byte
position of an input-port, all input buffers will be flushed so that
the next byte read will be the one at the given position.
</p>
<p>When <code>output-port-byte-position</code> is called to change the byte
position of an output-port, there is an implicit call to
<code>force-output</code> before the position is changed.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p  <span class="roman"><i>; p is an input-output-port</i></span>
    (open-file '(path: &quot;test&quot; char-encoding: ISO-8859-1 create: maybe)))</b>
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(0 0)
&gt; <b>(display &quot;abcdefghij\n&quot; p)</b>
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(0 0)
&gt; <b>(force-output p)</b>
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(11 11)
&gt; <b>(input-port-byte-position p 2)</b>
2
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(2 2)
&gt; <b>(peek-char p)</b>
#\c
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(11 11)
&gt; <b>(output-port-byte-position p -7 2)</b>
4
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(4 4)
&gt; <b>(write-char #\! p)</b>
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(4 4)
&gt; <b>(force-output p)</b>
&gt; <b>(list (input-port-byte-position p) (output-port-byte-position p))</b>
(5 5)
&gt; <b>(input-port-byte-position p 1)</b>
1
&gt; <b>(read p)</b>
bcd!fghij
</pre></td></tr></table>



<a name="Process-devices"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Filesystem-devices" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Network-devices" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Device_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Process-devices-1"></a>
<h3 class="subsection">17.7.2 Process devices</h3>

<a name="Definition_of_open-process"></a><a name="Procedure_open-process"></a><a name="index-open_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-process">open-process</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-input-process"></a><a name="Procedure_open-input-process"></a><a name="index-open_002dinput_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-input-process">open-input-process</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-output-process"></a><a name="Procedure_open-output-process"></a><a name="index-open_002doutput_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-output-process">open-output-process</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-input-process"></a><a name="Procedure_call-with-input-process"></a><a name="index-call_002dwith_002dinput_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-input-process">call-with-input-process</a></b></code><i> <var>path-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-output-process"></a><a name="Procedure_call-with-output-process"></a><a name="index-call_002dwith_002doutput_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-output-process">call-with-output-process</a></b></code><i> <var>path-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-input-from-process"></a><a name="Procedure_with-input-from-process"></a><a name="index-with_002dinput_002dfrom_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-process">with-input-from-process</a></b></code><i> <var>path-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-process"></a><a name="Procedure_with-output-to-process"></a><a name="index-with_002doutput_002dto_002dprocess"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-process">with-output-to-process</a></b></code><i> <var>path-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>All of these procedures start a new operating system process and
create a bidirectional port which allows communication with that
process on its standard input and standard output.  The
<code>direction:</code> setting will default to the value <code>input</code> for
the procedures <code>open-input-process</code>,
<code>call-with-input-process</code> and <code>with-input-from-process</code>, to
the value <code>output</code> for the procedures <code>open-output-process</code>,
<code>call-with-output-process</code> and <code>with-output-to-process</code>, and
to the value <code>input-output</code> for the procedure
<code>open-process</code>.  If the <code>direction:</code> setting is
<code>input</code>, the output-port side is closed.  If the
<code>direction:</code> setting is <code>output</code>, the input-port side is
closed.
</p>
<p>The procedures <code>open-process</code>, <code>open-input-process</code> and
<code>open-output-process</code> return the port that is created.  The
procedures <code>call-with-input-process</code> and
<code>call-with-output-process</code> call the procedure <var>proc</var> with the
port as single argument, and then return the value(s) of this call
after closing the port and waiting for the process to terminate.  The
procedures <code>with-input-from-process</code> and
<code>with-output-to-process</code> dynamically bind the current input-port
and current output-port respectively to the port created for the
duration of a call to the procedure <var>thunk</var> with no argument.  The
value(s) of the call to <var>thunk</var> are returned after closing the
port and waiting for the process to terminate.
</p>
<p>The first argument of this procedure is either a string denoting a
filesystem path of an executable program or a list of port settings
which must contain a <code>path:</code> setting.  Here are the settings
allowed in addition to the generic settings of byte-ports:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the executable program in the
filesystem.  There is no default value for this setting.
</p>
</li><li>
<code>arguments:</code> <var>list-of-strings</var>

<p>This setting indicates the string arguments that are passed to the
program.  The default value of this setting is the empty list (i.e. no
arguments).
</p>
</li><li>
<code>environment:</code> <var>list-of-strings</var>

<p>This setting indicates the set of environment variable bindings that
the process receives.  Each element of the list is a string of the
form &ldquo;<code><var>VAR</var>=<var>VALUE</var></code>&rdquo;, where <code><var>VAR</var></code> is the
name of the variable and <code><var>VALUE</var></code> is its binding.  When
<var>list-of-strings</var> is <code>#f</code>, the process inherits the
environment variable bindings of the Scheme program.  The default
value of this setting is <code>#f</code>.
</p>
</li><li>
<code>directory:</code> <var>dir</var>

<p>This setting indicates the current working directory of the process.
When <var>dir</var> is <code>#f</code>, the process uses the value of
<code>(current-directory)</code>.  The default value of this setting is
<code>#f</code>.
</p>
</li><li>
<code>stdin-redirection:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting indicates how the standard input of the process is
redirected.  A setting of <code>#t</code> will redirect the standard input
from the process-port (i.e. what is written to the process-port will
be available on the standard input).  A setting of <code>#f</code> will
leave the standard input as-is, which typically results in input
coming from the console.  The default value of this setting is
<code>#t</code>.
</p>
</li><li>
<code>stdout-redirection:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting indicates how the standard output of the process is
redirected.  A setting of <code>#t</code> will redirect the standard output
to the process-port (i.e. all output to standard output can be read
from the process-port).  A setting of <code>#f</code> will leave the
standard output as-is, which typically results in the output going to
the console.  The default value of this setting is <code>#t</code>.
</p>
</li><li>
<code>stderr-redirection:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting indicates how the standard error of the process is
redirected.  A setting of <code>#t</code> will redirect the standard error
to the process-port (i.e. all output to standard error can be read
from the process-port).  A setting of <code>#f</code> will leave the
standard error as-is, which typically results in error messages being
output to the console.  The default value of this setting is
<code>#f</code>.
</p>
</li><li>
<code>pseudo-terminal:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting applies to UNIX.  It indicates what type of device will
be bound to the process&rsquo; standard input and standard output.  A
setting of <code>#t</code> will use a pseudo-terminal device (this is a
device that behaves like a tty device even though there is no real
terminal or user directly involved).  A setting of <code>#f</code> will use
a pair of pipes.  The difference is important for programs which
behave differently when they are used interactively, for example
shells.  The default value of this setting is <code>#f</code>.
</p>
</li><li>
<code>show-console:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting applies to Microsoft Windows.  It controls whether the
process&rsquo; console window will be hidden or visible.  The default value
of this setting is <code>#t</code> (i.e. show the console window).
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(with-input-from-process &quot;date&quot; read-line)</b>
&quot;Sun Jun 14 15:06:41 EDT 2009&quot;
&gt; <b>(define p (open-process (list path: &quot;ls&quot;
                                arguments: '(&quot;../examples&quot;))))</b>
&gt; <b>(read-line p)</b>
&quot;README&quot;
&gt; <b>(read-line p)</b>
&quot;Xlib-simple&quot;
&gt; <b>(close-port p)</b>
&gt; <b>(define p (open-process &quot;/usr/bin/dc&quot;))</b>
&gt; <b>(display &quot;2 100 ^ p\n&quot; p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read-line p)</b>
&quot;1267650600228229401496703205376&quot;
</pre></td></tr></table>



<a name="Definition_of_process-pid"></a><a name="Procedure_process-pid"></a><a name="index-process_002dpid"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_process-pid">process-pid</a></b></code><i> <var>process-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns the PID (Process Identifier) of the process of
<var>process-port</var>.  The PID is a small exact integer.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(let ((p (open-process &quot;sort&quot;)))
    (process-pid p))</b>
318
</pre></td></tr></table>



<a name="Definition_of_process-status"></a><a name="Procedure_process-status"></a><a name="index-process_002dstatus"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_process-status">process-status</a></b></code><i> <var>process-port</var> <span class="roman">[</span><var>timeout</var> <span class="roman">[</span><var>timeout-val</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure causes the current thread to wait until the process of
<var>process-port</var> terminates (normally or not) or until the timeout
is reached if <var>timeout</var> is supplied.  If the timeout is reached,
<var>process-status</var> returns <var>timeout-val</var> if it is supplied,
otherwise an unterminated-process-exception object is raised.  The
procedure returns the process exit status as encoded by the operating
system.  Typically, if the process exited normally the return value is
the process exit status multiplied by 256.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(let ((p (open-process &quot;sort&quot;)))
    (for-each (lambda (x) (pretty-print x p))
              '(22 11 33))
    (close-output-port p)
    (let ((r (read-all p)))
      (close-input-port p)
      (list (process-status p) r)))</b>
(0 (11 22 33))
</pre></td></tr></table>



<a name="Definition_of_unterminated-process-exception?"></a><a name="Procedure_unterminated-process-exception?"></a><a name="index-unterminated_002dprocess_002dexception_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unterminated-process-exception?">unterminated-process-exception?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unterminated-process-exception-procedure"></a><a name="Procedure_unterminated-process-exception-procedure"></a><a name="index-unterminated_002dprocess_002dexception_002dprocedure"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unterminated-process-exception-procedure">unterminated-process-exception-procedure</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_unterminated-process-exception-arguments"></a><a name="Procedure_unterminated-process-exception-arguments"></a><a name="index-unterminated_002dprocess_002dexception_002darguments"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_unterminated-process-exception-arguments">unterminated-process-exception-arguments</a></b></code><i> <var>exc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Unterminated-process-exception objects are raised when a call to the
<code>process-status</code> procedure reaches its timeout before the target
process terminates and a timeout-value parameter is not specified.
The parameter <var>exc</var> must be an unterminated-process-exception
object.
</p>
<p>The procedure <code>unterminated-process-exception?</code> returns
<code>#t</code> when <var>obj</var> is an unterminated-process-exception
object and <code>#f</code> otherwise.
</p>
<p>The procedure <code>unterminated-process-exception-procedure</code>
returns the procedure that raised <var>exc</var>.
</p>
<p>The procedure <code>unterminated-process-exception-arguments</code>
returns the list of arguments of the procedure that raised <var>exc</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (handler exc)
    (if (unterminated-process-exception? exc)
        (list (unterminated-process-exception-procedure exc)
              (unterminated-process-exception-arguments exc))
        'not-unterminated-process-exception))</b>
&gt; <b>(with-exception-catcher
    handler
    (lambda ()
      (let ((p (open-process &quot;sort&quot;)))
        (process-status p 1))))</b>
(#&lt;procedure #2 process-status&gt; (#&lt;input-output-port #3 (process &quot;sort&quot;)&gt;))
</pre></td></tr></table>



<a name="Network-devices"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Process-devices" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Directory_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Device_002dports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Network-devices-1"></a>
<h3 class="subsection">17.7.3 Network devices</h3>

<a name="Definition_of_open-tcp-client"></a><a name="Procedure_open-tcp-client"></a><a name="index-open_002dtcp_002dclient"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-tcp-client">open-tcp-client</a></b></code><i> <var>port-number-or-address-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure opens a network connection to a socket server and
returns a tcp-client-port (a subtype of device-port) that represents
this connection and allows communication with that server.  The
default value of the <code>direction:</code> setting is <code>input-output</code>,
i.e. the Scheme program can send information to the server and receive
information from the server.  The sending direction can be
&ldquo;shutdown&rdquo; using the <code>close-output-port</code> procedure and the
receiving direction can be &ldquo;shutdown&rdquo; using the
<code>close-input-port</code> procedure.  The <code>close-port</code> procedure
closes both directions of the connection.
</p>
<p>The parameter of this procedure is an IP port number (16-bit nonnegative
exact integer), a string of the form <code>&quot;<var>HOST</var>:<var>PORT</var>&quot;</code> or
a list of port settings.  When the parameter is the number <var>PORT</var>
it is handled as if it was the setting <code>port-number:</code> <var>PORT</var>.
When the parameter is the string <code>&quot;<var>HOST</var>:<var>PORT</var>&quot;</code> it is
handled as if it was the setting <code>server-address:</code>
<code>&quot;<var>HOST</var>:<var>PORT</var>&quot;</code>.
</p>
<p>Here are the settings allowed in addition to the generic settings of
byte-ports:
</p>
<ul>
<li>
<code>server-address:</code> <var>string-or-ip-address</var>

<p>This setting indicates the internet address of the server, and
possibly the IP port number.  When this parameter is not specified or
is <code>&quot;&quot;</code>, the connection requests are sent to the loopback
interface (with IP address 127.0.0.1).  The parameter can be a string
denoting a host name, which will be translated to an IP address by the
<code>host-info</code> procedure, or a 4 element u8vector which contains the
32-bit IPv4 address or an 8 element u16vector which contains the
128-bit IPv6 address.  A string of the form
<code>&quot;<var>HOST</var>:<var>PORT</var>&quot;</code> is handled as if it was the combination
of settings <code>server-address:</code> <code>&quot;<var>HOST</var>&quot;</code>
<code>port-number:</code> <var>PORT</var>.
</p>
</li><li>
<code>port-number:</code> <var>16-bit-exact-integer</var>

<p>This setting indicates the IP port number of the server to connect
to (e.g. 80 for the standard HTTP server, 23 for the standard telnet
server).  There is no default value for this setting.
</p>
</li><li>
<code>keep-alive:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls the use of the &ldquo;keep alive&rdquo; option on the
connection.  The &ldquo;keep alive&rdquo; option will periodically send control
packets on otherwise idle network connections to ensure that the
server host is active and reachable.  The default value of this
setting is <code>#f</code>.
</p>
</li><li>
<code>coalesce:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls the use of TCP&rsquo;s &ldquo;Nagle algorithm&rdquo; which
reduces the number of small packets by delaying their transmission and
coalescing them into larger packets.  A setting of <code>#t</code> will
coalesce small packets into larger ones.  A setting of <code>#f</code> will
transmit packets as soon as possible.  The default value of this
setting is <code>#t</code>.  Note that this setting does not affect the
buffering of the port.
</p>
</li></ul>

<p>Below is an example of the client-side code that opens a connection to
an HTTP server on port 8080 of the loopback interface (with IP address
127.0.0.1).  For the server-side code see the example for the
procedure <code>open-tcp-server</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-tcp-client (list port-number: 8080
                                   eol-encoding: 'cr-lf)))</b>
&gt; <b>p</b>
#&lt;input-output-port #2 (tcp-client #u8(127 0 0 1) 8080)&gt;
&gt; <b>(display &quot;GET /\n&quot; p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read-line p)</b>
&quot;&lt;HTML&gt;&quot;
</pre></td></tr></table>



<a name="Definition_of_open-tcp-server"></a><a name="Procedure_open-tcp-server"></a><a name="index-open_002dtcp_002dserver"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-tcp-server">open-tcp-server</a></b></code><i> <var>port-number-or-address-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure sets up a socket to accept network connection requests
from clients and returns a tcp-server-port from which network
connections to clients are obtained.  Tcp-server-ports are a direct
subtype of object-ports (i.e. they are not character-ports) and are
input-ports.  Reading from a tcp-server-port with the <code>read</code>
procedure will block until a network connection request is received
from a client.  The <code>read</code> procedure will then return a
tcp-client-port (a subtype of device-port) that represents this
connection and allows communication with that client.  Closing a
tcp-server-port with either the <code>close-input-port</code> or
<code>close-port</code> procedures will cause the network subsystem to stop
accepting connections on that socket.
</p>
<p>The parameter of this procedure is an IP port number (16-bit nonnegative
exact integer), a string of the form <code>&quot;<var>INTF</var>:<var>PORT</var>&quot;</code> or
a list of port settings which must contain a <code>port-number:</code>
setting.  When the parameter is the number <var>PORT</var> it is handled as
if it was the setting <code>port-number:</code> <var>PORT</var>.  When the
parameter is the string <code>&quot;<var>INTF</var>:<var>PORT</var>&quot;</code> it is handled
as if it was the setting <code>server-address:</code>
<code>&quot;<var>INTF</var>:<var>PORT</var>&quot;</code>.
</p>
<p>Below is a list of the settings allowed in addition to the settings
<code>keep-alive:</code> and <code>coalesce:</code> allowed by the
<code>open-tcp-client</code> procedure and the generic settings of
byte-ports.  The settings which are not listed below apply to the
tcp-client-port that is returned by <code>read</code> when a connection is
accepted and have the same meaning as if they were used in a call to
the <code>open-tcp-client</code> procedure.
</p>
<ul>
<li>
<code>server-address:</code> <var>string-or-ip-address</var>

<p>This setting indicates the internet address of the network interface
on which connections requests are accepted, and possibly the IP port
number.  When this parameter is not specified or is <code>&quot;&quot;</code>, the
connection requests are accepted only on the loopback interface (with
IP address 127.0.0.1).  When this parameter is <code>&quot;*&quot;</code>, the
connection requests are accepted on all network interfaces
(i.e. address INADDR_ANY).  The parameter can be a string denoting a
host name, which will be translated to an IP address by the
<code>host-info</code> procedure, or a 4 element u8vector which contains the
32-bit IPv4 address or an 8 element u16vector which contains the
128-bit IPv6 address.  A string of the form
<code>&quot;<var>INTF</var>:<var>PORT</var>&quot;</code> is handled as if it was the combination
of settings <code>server-address:</code> <code>&quot;<var>INTF</var>&quot;</code>
<code>port-number:</code> <var>PORT</var>.
</p>
</li><li>
<code>port-number:</code> <var>16-bit-exact-integer</var>

<p>This setting indicates the IP port number assigned to the socket which
accepts connection requests from clients.  So called &ldquo;well-known
ports&rdquo;, which are reserved for standard services, have a port number
below 1024 and can only be assigned to a socket by a process with
superuser priviledges (e.g. 80 for the HTTP service, 23 for the telnet
service).  No special priviledges are needed to assign higher
port numbers to a socket.  The special value 0 requests that a
currently unused port number be assigned to the socket (the port
number assigned can be retrieved using the procedure
<code>tcp-server-socket-info</code>).  There is no default value for this
setting.
</p>
</li><li>
<code>backlog:</code> <var>positive-exact-integer</var>

<p>This setting indicates the maximum number of connection requests that
can be waiting to be accepted by a call to <code>read</code> (technically it
is the value passed as the second argument of the UNIX <code>listen()</code>
function).  The default value of this setting is 128.
</p>
</li><li>
<code>reuse-address:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls whether it is possible to assign a port number
that is currently active.  Note that when a server process terminates,
the socket it was using to accept connection requests does not become
inactive immediately.  Instead it remains active for a few minutes to
ensure clean termination of the connections.  A setting of <code>#f</code>
will cause an exception to be raised in that case.  A setting of
<code>#t</code> will allow a port number to be used even if it is active.
The default value of this setting is <code>#t</code>.
</p>
</li></ul>

<p>Below is an example of the server-side code that accepts connections
on port 8080 of any network interface.  For the client-side code see
the example for the procedure <code>open-tcp-client</code>.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define s (open-tcp-server (list server-address: &quot;*&quot;
                                   port-number: 8080
                                   eol-encoding: 'cr-lf)))</b>
&gt; <b>(define p (read s))  <span class="roman"><i>; blocks until client connects</i></span></b>
&gt; <b>p</b>
#&lt;input-output-port #2 (tcp-client 8080)&gt;
&gt; <b>(read-line p)</b>
&quot;GET /&quot;
&gt; <b>(display &quot;&lt;HTML&gt;\n&quot; p)</b>
&gt; <b>(force-output p)</b>
</pre></td></tr></table>



<a name="Definition_of_tcp-service-register!"></a><a name="Procedure_tcp-service-register!"></a><a name="index-tcp_002dservice_002dregister_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tcp-service-register!">tcp-service-register!</a></b></code><i> <var>port-number-or-address-or-settings</var> <var>thunk</var> <span class="roman">[</span><var>thread-group</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_tcp-service-unregister!"></a><a name="Procedure_tcp-service-unregister!"></a><a name="index-tcp_002dservice_002dunregister_0021"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_tcp-service-unregister!">tcp-service-unregister!</a></b></code><i> <var>port-number-or-address-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>tcp-service-register!</code> sets up a socket to accept
network connection requests from clients and creates a &ldquo;service&rdquo;
thread which processes the incoming connections.  The parameter
<var>port-number-or-address-or-settings</var> has the same meaning as for
the procedure <code>open-tcp-server</code>.
</p>
<p>For each connection established the service thread creates a
&ldquo;handler&rdquo; thread which executes a call to the procedure <var>thunk</var>
with no argument.  The handler thread&rsquo;s current input-port and current
output-port are both set to the tcp-client-port created for the
connection.  There is no need for the <var>thunk</var> to close the
tcp-client-port, as this is done by the handler thread when the
<var>thunk</var> returns normally.
</p>
<p>The procedure <code>tcp-service-unregister!</code> terminates the service
thread which was registered by <code>tcp-service-register!</code> with the
same network interface and port number (if a service thread is still
registered).  The procedure <code>tcp-service-register!</code> implicitly
calls <code>tcp-service-unregister!</code> before registering the new
service thread.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(tcp-service-register!
   8000
   (lambda () (display &quot;hello\n&quot;)))</b>
&gt; <b>(define p (open-tcp-client 8000))</b>
&gt; <b>(read-line p)</b>
&quot;hello&quot;
&gt; <b>(tcp-service-unregister! 8000)</b>
</pre></td></tr></table>



<a name="Directory_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Network-devices" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Vector_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Directory_002dports-1"></a>
<h2 class="section">17.8 Directory-ports</h2>

<a name="Definition_of_open-directory"></a><a name="Procedure_open-directory"></a><a name="index-open_002ddirectory"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-directory">open-directory</a></b></code><i> <var>path-or-settings</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure opens a directory of the filesystem for reading its
entries and returns a directory-port from which the entries can be
enumerated.  Directory-ports are a direct subtype of object-ports
(i.e. they are not character-ports) and are input-ports.  Reading from
a directory-port with the <code>read</code> procedure returns the next file
name in the directory as a string.  The end-of-file object is returned
when all the file names have been enumerated.  Another way to get the
list of all files in a directory is the <code>directory-files</code>
procedure which returns a list of the files in the directory.  The
advantage of using directory-ports is that it allows iterating over
the files in a directory in constant space, which is interesting when
the number of files in the directory is not known in advance and may
be large.  Note that the order in which the names are returned is
operating-system dependent.
</p>
<p>The parameter of this procedure is either a string denoting a
filesystem path to a directory or a list of port settings which must
contain a <code>path:</code> setting.  Here are the settings allowed in
addition to the generic settings of object-ports:
</p>
<ul>
<li>
<code>path:</code> <var>string</var>

<p>This setting indicates the location of the directory in the filesystem.
There is no default value for this setting.
</p>
</li><li>
<code>ignore-hidden:</code> ( <code>#f</code> | <code>#t</code> | <code>dot-and-dot-dot</code> )

<p>This setting controls whether hidden-files will be returned.  Under
UNIX and Mac OS X hidden-files are those that start with a period
(such as &lsquo;<samp>.</samp>&rsquo;, &lsquo;<samp>..</samp>&rsquo;, and &lsquo;<samp>.profile</samp>&rsquo;).  Under Microsoft
Windows hidden files are the &lsquo;<samp>.</samp>&rsquo; and &lsquo;<samp>..</samp>&rsquo; entries and the
files whose &ldquo;hidden file&rdquo; attribute is set.  A setting of <code>#f</code>
will enumerate all the files.  A setting of <code>#t</code> will only
enumerate the files that are not hidden.  A setting of
<code>dot-and-dot-dot</code> will enumerate all the files except for the
&lsquo;<samp>.</samp>&rsquo; and &lsquo;<samp>..</samp>&rsquo; hidden files.  The default value of this
setting is <code>#t</code>.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(let ((p (open-directory (list path: &quot;../examples&quot;
                                 ignore-hidden: #f))))
    (let loop ()
      (let ((fn (read p)))
        (if (string? fn)
            (begin
              (pp (path-expand fn))
              (loop)))))
    (close-input-port p))</b>
&quot;/u/feeley/examples/.&quot;
&quot;/u/feeley/examples/..&quot;
&quot;/u/feeley/examples/complex&quot;
&quot;/u/feeley/examples/README&quot;
&quot;/u/feeley/examples/simple&quot;
&gt; <b>(define x (open-directory &quot;../examples&quot;))</b>
&gt; <b>(read-all x)</b>
(&quot;complex&quot; &quot;README&quot; &quot;simple&quot;)
</pre></td></tr></table>



<a name="Vector_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Directory_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#String_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Vector_002dports-1"></a>
<h2 class="section">17.9 Vector-ports</h2>

<a name="Definition_of_open-vector"></a><a name="Procedure_open-vector"></a><a name="index-open_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-vector">open-vector</a></b></code><i> <span class="roman">[</span><var>vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-input-vector"></a><a name="Procedure_open-input-vector"></a><a name="index-open_002dinput_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-input-vector">open-input-vector</a></b></code><i> <span class="roman">[</span><var>vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-output-vector"></a><a name="Procedure_open-output-vector"></a><a name="index-open_002doutput_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-output-vector">open-output-vector</a></b></code><i> <span class="roman">[</span><var>vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-input-vector"></a><a name="Procedure_call-with-input-vector"></a><a name="index-call_002dwith_002dinput_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-input-vector">call-with-input-vector</a></b></code><i> <var>vector-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-output-vector"></a><a name="Procedure_call-with-output-vector"></a><a name="index-call_002dwith_002doutput_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-output-vector">call-with-output-vector</a></b></code><i> <var>vector-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-input-from-vector"></a><a name="Procedure_with-input-from-vector"></a><a name="index-with_002dinput_002dfrom_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-vector">with-input-from-vector</a></b></code><i> <var>vector-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-vector"></a><a name="Procedure_with-output-to-vector"></a><a name="index-with_002doutput_002dto_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-vector">with-output-to-vector</a></b></code><i> <var>vector-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>Vector-ports represent streams of Scheme objects.  They are a direct
subtype of object-ports (i.e. they are not character-ports).  All of
these procedures create vector-ports that are either unidirectional or
bidirectional.  The <code>direction:</code> setting will default to the
value <code>input</code> for the procedures <code>open-input-vector</code>,
<code>call-with-input-vector</code> and <code>with-input-from-vector</code>, to
the value <code>output</code> for the procedures <code>open-output-vector</code>,
<code>call-with-output-vector</code> and <code>with-output-to-vector</code>, and
to the value <code>input-output</code> for the procedure <code>open-vector</code>.
Bidirectional vector-ports behave like FIFOs: data written to the port
is added to the end of the stream that is read.  It is only when a
bidirectional vector-port&rsquo;s output-side is closed with a call to the
<code>close-output-port</code> procedure that the stream&rsquo;s end is known
(when the stream&rsquo;s end is reached, reading the port returns the
end-of-file object).
</p>
<p>The procedures <code>open-vector</code>, <code>open-input-vector</code> and
<code>open-output-vector</code> return the port that is created.  The
procedures <code>call-with-input-vector</code> and
<code>call-with-output-vector</code> create a vector port, call the
procedure <var>proc</var> with the port as single argument and then close
the port.  The procedures <code>with-input-from-vector</code> and
<code>with-output-to-vector</code> create a vector port, dynamically bind
the current input-port and current output-port respectively to the
port created for the duration of a call to the procedure <var>thunk</var>
with no argument, and then close the port.  The procedures
<code>call-with-input-vector</code> and <code>with-input-from-vector</code> return
the value returned by the procedures <var>proc</var> and <var>thunk</var>
respectively.  The procedures <code>call-with-output-vector</code> and
<code>with-output-to-vector</code> return the vector accumulated in the port
(see <code>get-output-vector</code>).
</p>
<p>The first parameter of these procedures is either a vector of the
elements used to initialize the stream or a list of port settings.  If
it is not specified, the parameter of the <code>open-vector</code>,
<code>open-input-vector</code>, and <code>open-output-vector</code> procedures
defaults to an empty list of port settings.  Here are the settings
allowed in addition to the generic settings of object-ports:
</p>
<ul>
<li>
<code>init:</code> <var>vector</var>

<p>This setting indicates the initial content of the stream.  The default
value of this setting is an empty vector.
</p>
</li><li>
<code>permanent-close:</code> ( <code>#f</code> | <code>#t</code> )

<p>This setting controls whether a call to the procedures
<code>close-output-port</code> will close the output-side of a bidirectional
vector-port permanently or not.  A permanently closed bidirectional
vector-port whose end-of-file has been reached on the input-side will
return the end-of-file object for all subsequent calls to the
<code>read</code> procedure.  A non-permanently closed bidirectional
vector-port will return to its opened state when its end-of-file is
read.  The default value of this setting is <code>#t</code>.
</p>
</li></ul>

<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-vector))</b>
&gt; <b>(write 1 p)</b>
&gt; <b>(write 2 p)</b>
&gt; <b>(write 3 p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read p)</b>
1
&gt; <b>(read p)</b>
2
&gt; <b>(close-output-port p)</b>
&gt; <b>(read p)</b>
3
&gt; <b>(read p)</b>
#!eof
&gt; <b>(with-output-to-vector '() (lambda () (write 1) (write 2)))</b>
#(1 2)
</pre></td></tr></table>



<a name="Definition_of_open-vector-pipe"></a><a name="Procedure_open-vector-pipe"></a><a name="index-open_002dvector_002dpipe"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-vector-pipe">open-vector-pipe</a></b></code><i> <span class="roman">[</span><var>vector-or-settings1</var> <span class="roman">[</span><var>vector-or-settings2</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>open-vector-pipe</code> creates two vector-ports and
returns these two ports.  The two ports are interrelated as follows:
the first port&rsquo;s output-side is connected to the second port&rsquo;s
input-side and the first port&rsquo;s input-side is connected to the second
port&rsquo;s output-side.  The value <var>vector-or-settings1</var> is used to
setup the first vector-port and <var>vector-or-settings2</var> is used to
setup the second vector-port.  The same settings as for
<code>open-vector</code> are allowed.  The default <code>direction:</code> setting
is <code>input-output</code> (i.e. a bidirectional port is created).  If it
is not specified <var>vector-or-settings1</var> defaults to the empty list.
If it is not specified <var>vector-or-settings2</var> defaults to
<var>vector-or-settings1</var> but with the <code>init:</code> setting set to the
empty vector and with the input and output settings exchanged (e.g. if
the first port is an input-port then the second port is an
output-port, if the first port&rsquo;s input-side is non-buffered then the
second port&rsquo;s output-side is non-buffered).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (server op)
    (receive (c s) (open-vector-pipe)  <span class="roman"><i>; client-side and server-side ports</i></span>
      (thread-start!
        (make-thread
          (lambda ()
            (let loop ()
              (let ((request (read s)))
                (if (not (eof-object? request))
                    (begin
                      (write (op request) s)
                      (newline s)
                      (force-output s)
                      (loop))))))))
      c))</b>
&gt; <b>(define a (server (lambda (x) (expt 2 x))))</b>
&gt; <b>(define b (server (lambda (x) (expt 10 x))))</b>
&gt; <b>(write 100 a)</b>
&gt; <b>(write 30 b)</b>
&gt; <b>(read a)</b>
1267650600228229401496703205376
&gt; <b>(read b)</b>
1000000000000000000000000000000
</pre></td></tr></table>



<a name="Definition_of_get-output-vector"></a><a name="Procedure_get-output-vector"></a><a name="index-get_002doutput_002dvector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_get-output-vector">get-output-vector</a></b></code><i> <var>vector-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>get-output-vector</code> takes an output vector-port or
a bidirectional vector-port as parameter and removes all the objects
currently on the output-side, returning them in a vector.  The port
remains open and subsequent output to the port and calls to the
procedure <code>get-output-vector</code> are possible.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-vector '#(1 2 3)))</b>
&gt; <b>(write 4 p)</b>
&gt; <b>(get-output-vector p)</b>
#(1 2 3 4)
&gt; <b>(write 5 p)</b>
&gt; <b>(write 6 p)</b>
&gt; <b>(get-output-vector p)</b>
#(5 6)
</pre></td></tr></table>



<a name="String_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Vector_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#U8vector_002dports" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="String_002dports-1"></a>
<h2 class="section">17.10 String-ports</h2>

<a name="Definition_of_open-string"></a><a name="Procedure_open-string"></a><a name="index-open_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-string">open-string</a></b></code><i> <span class="roman">[</span><var>string-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-input-string"></a><a name="Procedure_open-input-string"></a><a name="index-open_002dinput_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-input-string">open-input-string</a></b></code><i> <span class="roman">[</span><var>string-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-output-string"></a><a name="Procedure_open-output-string"></a><a name="index-open_002doutput_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-output-string">open-output-string</a></b></code><i> <span class="roman">[</span><var>string-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-input-string"></a><a name="Procedure_call-with-input-string"></a><a name="index-call_002dwith_002dinput_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-input-string">call-with-input-string</a></b></code><i> <var>string-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-output-string"></a><a name="Procedure_call-with-output-string"></a><a name="index-call_002dwith_002doutput_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-output-string">call-with-output-string</a></b></code><i> <var>string-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-input-from-string"></a><a name="Procedure_with-input-from-string"></a><a name="index-with_002dinput_002dfrom_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-string">with-input-from-string</a></b></code><i> <var>string-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-string"></a><a name="Procedure_with-output-to-string"></a><a name="index-with_002doutput_002dto_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-string">with-output-to-string</a></b></code><i> <var>string-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-string-pipe"></a><a name="Procedure_open-string-pipe"></a><a name="index-open_002dstring_002dpipe"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-string-pipe">open-string-pipe</a></b></code><i> <span class="roman">[</span><var>string-or-settings1</var> <span class="roman">[</span><var>string-or-settings2</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_get-output-string"></a><a name="Procedure_get-output-string"></a><a name="index-get_002doutput_002dstring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_get-output-string">get-output-string</a></b></code><i> <var>string-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>String-ports represent streams of characters.  They are a direct
subtype of character-ports.  These procedures are the string-port
analog of the procedures specified in the vector-ports section.  Note
that these procedures are a superset of the procedures specified in
the &ldquo;Basic String Ports SRFI&rdquo; (SRFI 6).
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-string))</b>
&gt; <b>(write 1 p)</b>
&gt; <b>(write 2 p)</b>
&gt; <b>(write 3 p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read-char p)</b>
#\1
&gt; <b>(read-char p)</b>
#\2
&gt; <b>(close-output-port p)</b>
&gt; <b>(read-char p)</b>
#\3
&gt; <b>(read-char p)</b>
#!eof
&gt; <b>(with-output-to-string '() (lambda () (write 1) (write 2)))</b>
&quot;12&quot;
</pre></td></tr></table>



<a name="Definition_of_object-%3Estring"></a><a name="Procedure_object-%3Estring"></a><a name="index-object_002d_003estring"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_object-%3Estring">object-&gt;string</a></b></code><i> <var>obj</var> <span class="roman">[</span><var>n</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure converts the object <var>obj</var> to its external
representation and returns it in a string.  The parameter <var>n</var>
specifies the maximal width of the resulting string.  If the external
representation is wider than <var>n</var>, the resulting string will be
truncated to <var>n</var> characters and the last 3 characters will be set
to periods.  Note that the current readtable is used.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(object-&gt;string (expt 2 100))</b>
&quot;1267650600228229401496703205376&quot;
&gt; <b>(object-&gt;string (expt 2 100) 30)</b>
&quot;126765060022822940149670320...&quot;
&gt; <b>(object-&gt;string (cons car cdr))</b>
&quot;(#&lt;procedure #2 car&gt; . #&lt;procedure #3 cdr&gt;)&quot;
</pre></td></tr></table>



<a name="U8vector_002dports"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#String_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Other-procedures-related-to-I_002fO" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="U8vector_002dports-1"></a>
<h2 class="section">17.11 U8vector-ports</h2>

<a name="Definition_of_open-u8vector"></a><a name="Procedure_open-u8vector"></a><a name="index-open_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-u8vector">open-u8vector</a></b></code><i> <span class="roman">[</span><var>u8vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-input-u8vector"></a><a name="Procedure_open-input-u8vector"></a><a name="index-open_002dinput_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-input-u8vector">open-input-u8vector</a></b></code><i> <span class="roman">[</span><var>u8vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-output-u8vector"></a><a name="Procedure_open-output-u8vector"></a><a name="index-open_002doutput_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-output-u8vector">open-output-u8vector</a></b></code><i> <span class="roman">[</span><var>u8vector-or-settings</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-input-u8vector"></a><a name="Procedure_call-with-input-u8vector"></a><a name="index-call_002dwith_002dinput_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-input-u8vector">call-with-input-u8vector</a></b></code><i> <var>u8vector-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_call-with-output-u8vector"></a><a name="Procedure_call-with-output-u8vector"></a><a name="index-call_002dwith_002doutput_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_call-with-output-u8vector">call-with-output-u8vector</a></b></code><i> <var>u8vector-or-settings</var> <var>proc</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-input-from-u8vector"></a><a name="Procedure_with-input-from-u8vector"></a><a name="index-with_002dinput_002dfrom_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-input-from-u8vector">with-input-from-u8vector</a></b></code><i> <var>u8vector-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_with-output-to-u8vector"></a><a name="Procedure_with-output-to-u8vector"></a><a name="index-with_002doutput_002dto_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_with-output-to-u8vector">with-output-to-u8vector</a></b></code><i> <var>u8vector-or-settings</var> <var>thunk</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_open-u8vector-pipe"></a><a name="Procedure_open-u8vector-pipe"></a><a name="index-open_002du8vector_002dpipe"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_open-u8vector-pipe">open-u8vector-pipe</a></b></code><i> <span class="roman">[</span><var>u8vector-or-settings1</var> <span class="roman">[</span><var>u8vector-or-settings2</var><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_get-output-u8vector"></a><a name="Procedure_get-output-u8vector"></a><a name="index-get_002doutput_002du8vector"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_get-output-u8vector">get-output-u8vector</a></b></code><i> <var>u8vector-port</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>U8vector-ports represent streams of bytes.  They are a direct subtype
of byte-ports.  These procedures are the u8vector-port analog of the
procedures specified in the vector-ports section.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define p (open-u8vector))</b>
&gt; <b>(write 1 p)</b>
&gt; <b>(write 2 p)</b>
&gt; <b>(write 3 p)</b>
&gt; <b>(force-output p)</b>
&gt; <b>(read-u8 p)</b>
49
&gt; <b>(read-u8 p)</b>
50
&gt; <b>(close-output-port p)</b>
&gt; <b>(read-u8 p)</b>
51
&gt; <b>(read-u8 p)</b>
#!eof
&gt; <b>(with-output-to-u8vector '() (lambda () (write 1) (write 2)))</b>
#u8(49 50)
</pre></td></tr></table>



<a name="Other-procedures-related-to-I_002fO"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#U8vector_002dports" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Other-procedures-related-to-I_002fO-1"></a>
<h2 class="section">17.12 Other procedures related to I/O</h2>

<a name="Definition_of_current-input-port"></a><a name="Procedure_current-input-port"></a><a name="index-current_002dinput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-input-port">current-input-port</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_current-output-port"></a><a name="Procedure_current-output-port"></a><a name="index-current_002doutput_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-output-port">current-output-port</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_current-error-port"></a><a name="Procedure_current-error-port"></a><a name="index-current_002derror_002dport"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-error-port">current-error-port</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_current-readtable"></a><a name="Procedure_current-readtable"></a><a name="index-current_002dreadtable"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_current-readtable">current-readtable</a></b></code><i> <span class="roman">[</span><var>new-value</var><span class="roman">]</span></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>These procedures are parameter objects which represent respectively:
the current input-port, the current output-port, the current
error-port, and the current readtable.
</p>


<a name="Definition_of_print"></a><a name="Procedure_print"></a><a name="index-print"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_print">print</a></b></code><i> <span class="roman">[</span><code>port:</code> <var>port</var><span class="roman">]</span> <var>obj</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_println"></a><a name="Procedure_println"></a><a name="index-println"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_println">println</a></b></code><i> <span class="roman">[</span><code>port:</code> <var>port</var><span class="roman">]</span> <var>obj</var>&hellip;</i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The <code>print</code> procedure writes a representation of each <var>obj</var>,
from left to right, to <var>port</var>.  When a compound object is
encountered (pair, list, vector, box) the elements of that object are
recursively written without the surrounding tokens (parentheses,
spaces, dots, etc).  Strings, symbols, keywords and characters are
written like the <code>display</code> procedure.  If there are more than one
<var>obj</var>, the first <var>obj</var> must not be a keyword object.  If it is
not specified, <var>port</var> defaults to the current output-port.  The
procedure <code>print</code> returns an unspecified value.
</p>
<p>The <code>println</code> procedure does the same thing as the <code>print</code>
procedure and then writes an end of line to <var>port</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(println &quot;2*2 is &quot; (* 2 2) &quot; and 2+2 is &quot; (+ 2 2))</b>
2*2 is 4 and 2+2 is 4
&gt; <b>(define x (list &quot;&lt;i&gt;&quot; (list &quot;&lt;tt&gt;&quot; 123 &quot;&lt;/tt&gt;&quot;) &quot;&lt;/i&gt;&quot;))</b>
&gt; <b>(println x)</b>
&lt;i&gt;&lt;tt&gt;123&lt;/tt&gt;&lt;/i&gt;
&gt; <b>(define p (open-output-string))</b>
&gt; <b>(print port: p 1 #\2 &quot;345&quot;)</b>
&gt; <b>(get-output-string p)</b>
&quot;12345&quot;
</pre></td></tr></table>



<a name="Lexical-syntax-and-readtables"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Other-procedures-related-to-I_002fO" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Readtables" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#I_002fO-and-ports" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Lexical-syntax-and-readtables-1"></a>
<h1 class="chapter">18. Lexical syntax and readtables</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Readtables">18.1 Readtables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Boolean-syntax">18.2 Boolean syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Character-syntax">18.3 Character syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#String-syntax">18.4 String syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Symbol-syntax">18.5 Symbol syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Keyword-syntax">18.6 Keyword syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Box-syntax">18.7 Box syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Number-syntax">18.8 Number syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Homogeneous-vector-syntax">18.9 Homogeneous vector syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Special-_0023_0021-syntax">18.10 Special <code>#!</code> syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">                 Special #! syntax
</td></tr>
<tr><td align="left" valign="top"><a href="#Multiline-comment-syntax">18.11 Multiline comment syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#Scheme-infix-syntax-extension">18.12 Scheme infix syntax extension</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="Readtables"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Boolean-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Readtables-1"></a>
<h2 class="section">18.1 Readtables</h2>

<p>Readtables control the external textual representation of Scheme
objects, that is the encoding of Scheme objects using characters.
Readtables affect the behavior of the reader (i.e. the <code>read</code>
procedure and the parser used by the <code>load</code> procedure and the
interpreter and compiler) and the printer (i.e. the procedures
<code>write</code>, <code>display</code>, <code>print</code>, <code>println</code>,
<code>pretty-print</code>, and <code>pp</code>, and the procedure used by the REPL
to print results).  To preserve write/read invariance the printer and
reader must be using compatible readtables.  For example a symbol
which contains upper case letters will be printed with special escapes
if the readtable indicates that the reader is case-insensitive.
</p>
<p>Readtables are immutable records whose fields specify various textual
representation aspects.  There are accessor procedures to retrieve the
content of specific fields.  There are also functional update
procedures that create a copy of a readtable, with a specific field
set to a new value.
</p>
<a name="Definition_of_readtable?"></a><a name="Procedure_readtable?"></a><a name="index-readtable_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable?">readtable?</a></b></code><i> <var>obj</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>This procedure returns <code>#t</code> when <var>obj</var> is a readtable and
<code>#f</code> otherwise.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(readtable? (current-readtable))</b>
#t
&gt; <b>(readtable? 123)</b>
#f
</pre></td></tr></table>



<a name="Definition_of_readtable-case-conversion?"></a><a name="Procedure_readtable-case-conversion?"></a><a name="index-readtable_002dcase_002dconversion_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-case-conversion?">readtable-case-conversion?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-case-conversion?-set"></a><a name="Procedure_readtable-case-conversion?-set"></a><a name="index-readtable_002dcase_002dconversion_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-case-conversion?-set">readtable-case-conversion?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-case-conversion?</code> returns the content of
the &lsquo;<samp>case-conversion?</samp>&rsquo; field of <var>readtable</var>.  When the
content of this field is <code>#f</code>, the reader preserves the case of
symbols and keyword objects that are read (i.e. <code>Ice</code> and
<code>ice</code> are distinct symbols).  When the content of this field is
the symbol <code>upcase</code>, the reader converts lowercase letters to
uppercase when reading symbols and keywords (i.e. <code>Ice</code> is read
as the symbol <code>(string-&gt;symbol &quot;ICE&quot;)</code>).  Otherwise the reader
converts uppercase letters to lowercase when reading symbols and
keywords (i.e. <code>Ice</code> is read as the symbol <code>(string-&gt;symbol
&quot;ice&quot;)</code>).
</p>
<p>The procedure <code>readtable-case-conversion?-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>case-conversion?</samp>&rsquo; field
has been changed to <var>new-value</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(output-port-readtable-set!
    (repl-output-port)
    (readtable-case-conversion?-set
      (output-port-readtable (repl-output-port))
      #f))</b>
&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-case-conversion?-set
      (input-port-readtable (repl-input-port))
      #f))</b>
&gt; <b>'Ice</b>
Ice
&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-case-conversion?-set
      (input-port-readtable (repl-input-port))
      #t))</b>
&gt; <b>'Ice</b>
ice
&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-case-conversion?-set
      (input-port-readtable (repl-input-port))
      'upcase))</b>
&gt; <b>'Ice</b>
ICE
</pre></td></tr></table>



<a name="Definition_of_readtable-keywords-allowed?"></a><a name="Procedure_readtable-keywords-allowed?"></a><a name="index-readtable_002dkeywords_002dallowed_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-keywords-allowed?">readtable-keywords-allowed?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-keywords-allowed?-set"></a><a name="Procedure_readtable-keywords-allowed?-set"></a><a name="index-readtable_002dkeywords_002dallowed_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-keywords-allowed?-set">readtable-keywords-allowed?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-keywords-allowed?</code> returns the content
of the &lsquo;<samp>keywords-allowed?</samp>&rsquo; field of <var>readtable</var>.  When the
content of this field is <code>#f</code>, the reader does not recognize
keyword objects (i.e. <code>:foo</code> and <code>foo:</code> are read as the
symbols <code>(string-&gt;symbol &quot;:foo&quot;)</code> and <code>(string-&gt;symbol
&quot;foo:&quot;)</code> respectively).  When the content of this field is the symbol
<code>prefix</code>, the reader recognizes keyword objects that start with a
colon, as in Common Lisp (i.e. <code>:foo</code> is read as the keyword
<code>(string-&gt;keyword &quot;foo&quot;)</code>).  Otherwise the reader recognizes
keyword objects that end with a colon, as in DSSSL (i.e. <code>foo:</code>
is read as the symbol <code>(string-&gt;symbol &quot;foo&quot;)</code>).
</p>
<p>The procedure <code>readtable-keywords-allowed?-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>keywords-allowed?</samp>&rsquo; field
has been changed to <var>new-value</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-keywords-allowed?-set
      (input-port-readtable (repl-input-port))
      #f))</b>
&gt; <b>(map keyword? '(foo :foo foo:))</b>
(#f #f #f)
&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-keywords-allowed?-set
      (input-port-readtable (repl-input-port))
      #t))</b>
&gt; <b>(map keyword? '(foo :foo foo:))</b>
(#f #f #t)
&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-keywords-allowed?-set
      (input-port-readtable (repl-input-port))
      'prefix))</b>
&gt; <b>(map keyword? '(foo :foo foo:))</b>
(#f #t #f)
</pre></td></tr></table>



<a name="Definition_of_readtable-sharing-allowed?"></a><a name="Procedure_readtable-sharing-allowed?"></a><a name="index-readtable_002dsharing_002dallowed_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-sharing-allowed?">readtable-sharing-allowed?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-sharing-allowed?-set"></a><a name="Procedure_readtable-sharing-allowed?-set"></a><a name="index-readtable_002dsharing_002dallowed_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-sharing-allowed?-set">readtable-sharing-allowed?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="index-serialization-1"></a>
<a name="index-deserialization-1"></a>

<p>The procedure <code>readtable-sharing-allowed?</code> returns the content of
the &lsquo;<samp>sharing-allowed?</samp>&rsquo; field of <var>readtable</var>.  The reader
recognizes the <code>#<var>n</var>#</code> and <code>#<var>n</var>=<var>datum</var></code>
notation for circular structures and the printer uses this notation if
and only if the content of the &lsquo;<samp>sharing-allowed?</samp>&rsquo; field is not
<code>#f</code>.  Moreover when the content of the &lsquo;<samp>sharing-allowed?</samp>&rsquo;
field is the symbol <code>serialize</code>, the printer uses a special
external representation that the reader understands and that extends
write/read invariance to the following types: records, procedures and
continuations.  Note that an object can be serialized and deserialized
if and only if all of its components are serializable.
</p>
<p>The procedure <code>readtable-sharing-allowed?-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>sharing-allowed?</samp>&rsquo; field
has been changed to <var>new-value</var>.
</p>
<p>Here is a simple example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (wr obj allow?)
    (call-with-output-string
      '()
      (lambda (p)
        (output-port-readtable-set!
          p
          (readtable-sharing-allowed?-set
            (output-port-readtable p)
            allow?))
        (write obj p))))</b>
&gt; <b>(define (rd str allow?)
    (call-with-input-string
      str
      (lambda (p)
        (input-port-readtable-set!
          p
          (readtable-sharing-allowed?-set
            (input-port-readtable p)
            allow?))
        (read p))))</b>
&gt; <b>(define x (list 1 2 3))</b>
&gt; <b>(set-car! (cdr x) (cddr x))</b>
&gt; <b>(wr x #f)</b>
&quot;(1 (3) 3)&quot;
&gt; <b>(wr x #t)</b>
&quot;(1 #0=(3) . #0#)&quot;
&gt; <b>(define y (rd (wr x #t) #t))</b>
&gt; <b>y</b>
(1 (3) 3)
&gt; <b>(eq? (cadr y) (cddr y))</b>
#t
&gt; <b>(define f #f)</b>
&gt; <b>(let ((free (expt 2 10)))
  (set! f (lambda (x) (+ x free))))</b>
&gt; <b>(define s (wr f 'serialize))</b>
&gt; <b>(string-length s)</b>
4196
&gt; <b>(define g (rd s 'serialize))</b>
&gt; <b>(eq? f g)</b>
#f
&gt; <b>(g 4)</b>
1028
</pre></td></tr></table>

<p>Continuations are tricky to serialize because they contain a dynamic
environment and this dynamic environment may contain non-serializable
objects, in particular ports attached to operating-system streams such
as files, the console or standard input/output.  Indeed, all dynamic
environments contain a binding for the <code>current-input-port</code> and
<code>current-output-port</code>.  Moreover, any thread that has started a
REPL has a continuation which refers to the <em>repl-context</em> object
in its dynamic environment.  A repl-context object contains the
interaction channel, which is typically connected to a
non-serializable port, such as the console.  Another problem is that
the <code>parameterize</code> form saves the old binding of the parameter in
the continuation, so it is not possible to eliminate the references to
these ports in the continuation by using the <code>parameterize</code> form
alone.
</p>
<p>Serialization of continuations can be achieved dependably by taking
advantage of string-ports, which are serializable objects (unless
there is a blocked thread), and the following features of threads:
they inherit the dynamic environment of the parent thread and they
start with an initial continuation that contains only serializable
objects.  So a thread created in a dynamic environment where
<code>current-input-port</code> and <code>current-output-port</code> are bound to
a dummy string-port has a serializable continuation.
</p>
<p>Here is an example where continuations are serialized:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (wr obj)
    (call-with-output-string
     '()
     (lambda (p)
       (output-port-readtable-set!
        p
        (readtable-sharing-allowed?-set
         (output-port-readtable p)
         'serialize))
       (write obj p))))</b>
&gt; <b>(define (rd str)
    (call-with-input-string
     str
     (lambda (p)
       (input-port-readtable-set!
        p
        (readtable-sharing-allowed?-set
         (input-port-readtable p)
         'serialize))
       (read p))))</b>
&gt; <b>(define fifo (open-vector))</b>
&gt; <b>(define (suspend-and-die!)
    (call-with-current-continuation
     (lambda (k)
       (write (wr k) fifo)
       (newline fifo)
       (force-output fifo)
       (thread-terminate! (current-thread)))))</b>
&gt; <b>(let ((dummy-port (open-string)))
    (parameterize ((current-input-port dummy-port)
                   (current-output-port dummy-port))
      (thread-start!
       (make-thread
        (lambda ()
          (* 100
             (suspend-and-die!)))))))</b>
#&lt;thread #2&gt;
&gt; <b>(define s (read fifo))</b>
&gt; <b>(thread-join!
    (thread-start!
      (make-thread
        (lambda ()
          ((rd s) 111)))))</b>
11100
&gt; <b>(thread-join!
    (thread-start!
      (make-thread
        (lambda ()
          ((rd s) 222)))))</b>
22200
&gt; <b>(string-length s)</b>
13114
</pre></td></tr></table>



<a name="Definition_of_readtable-eval-allowed?"></a><a name="Procedure_readtable-eval-allowed?"></a><a name="index-readtable_002deval_002dallowed_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-eval-allowed?">readtable-eval-allowed?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-eval-allowed?-set"></a><a name="Procedure_readtable-eval-allowed?-set"></a><a name="index-readtable_002deval_002dallowed_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-eval-allowed?-set">readtable-eval-allowed?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-eval-allowed?</code> returns the content of
the &lsquo;<samp>eval-allowed?</samp>&rsquo; field of <var>readtable</var>.  The reader
recognizes the <code>#.<var>expression</var></code> notation for read-time
evaluation if and only if the content of the &lsquo;<samp>eval-allowed?</samp>&rsquo;
field is not <code>#f</code>.
</p>
<p>The procedure <code>readtable-eval-allowed?-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>eval-allowed?</samp>&rsquo; field
has been changed to <var>new-value</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(input-port-readtable-set!
    (repl-input-port)
    (readtable-eval-allowed?-set
      (input-port-readtable (repl-input-port))
      #t))</b>
&gt; <b>'(5 plus 7 is #.(+ 5 7))</b>
(5 plus 7 is 12)
&gt; <b>'(buf = #.(make-u8vector 25))</b>
(buf = #u8(0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0))
</pre></td></tr></table>



<a name="Definition_of_readtable-write-cdr-read-macros?"></a><a name="Procedure_readtable-write-cdr-read-macros?"></a><a name="index-readtable_002dwrite_002dcdr_002dread_002dmacros_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-write-cdr-read-macros?">readtable-write-cdr-read-macros?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-write-cdr-read-macros?-set"></a><a name="Procedure_readtable-write-cdr-read-macros?-set"></a><a name="index-readtable_002dwrite_002dcdr_002dread_002dmacros_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-write-cdr-read-macros?-set">readtable-write-cdr-read-macros?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-write-extended-read-macros?"></a><a name="Procedure_readtable-write-extended-read-macros?"></a><a name="index-readtable_002dwrite_002dextended_002dread_002dmacros_003f"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-write-extended-read-macros?">readtable-write-extended-read-macros?</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-write-extended-read-macros?-set"></a><a name="Procedure_readtable-write-extended-read-macros?-set"></a><a name="index-readtable_002dwrite_002dextended_002dread_002dmacros_003f_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-write-extended-read-macros?-set">readtable-write-extended-read-macros?-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-write-cdr-read-macros?</code> returns the
content of the &lsquo;<samp>write-cdr-read-macros?</samp>&rsquo; field of <var>readtable</var>.
The procedure <code>readtable-write-extended-read-macros?</code> returns the
content of the &lsquo;<samp>write-extended-read-macros?</samp>&rsquo; field of
<var>readtable</var>.
</p>
<p>At all times the printer uses read-macros in its output for datums of
the form <code>(quote <var>datum</var>)</code>, <code>(quasiquote <var>datum</var>)</code>,
<code>(unquote <var>datum</var>)</code>, and <code>(unquote-splicing
<var>datum</var>)</code>.  That is the following read-macro notations will be
used respectively: <code>'<var>datum</var></code>, <code>`<var>datum</var></code>,
<code>,<var>datum</var></code>, and <code>,@<var>datum</var></code>.  Moreover, normally
the read-macros will not be used when the form appears in the cdr of a
list, for example <code>(foo quote bar)</code>, <code>(foo . (quote bar))</code>
and <code>(foo . 'bar)</code> will all be printed as <code>(foo quote bar)</code>.
</p>
<p>When the content of the &lsquo;<samp>write-cdr-read-macros?</samp>&rsquo; field is not
<code>#f</code>, the printer will use read-macros when the forms appear in
the cdr of a list.  For example <code>(foo quote bar)</code> will be printed
as <code>(foo . 'bar)</code>.  When the content of the
&lsquo;<samp>write-extended-read-macros?</samp>&rsquo; field is not <code>#f</code>, the printer
will also use extended read-macros, for example <code>#'<var>datum</var></code>
in place of <code>(syntax <var>datum</var>)</code>.
</p>
<p>The procedure <code>readtable-write-cdr-read-macros?-set</code> returns a
copy of <var>readtable</var> where only the &lsquo;<samp>write-cdr-read-macros?</samp>&rsquo;
field has been changed to <var>new-value</var>.  The procedure
<code>readtable-write-extended-read-macros?-set</code> returns a copy of
<var>readtable</var> where only the &lsquo;<samp>write-extended-read-macros?</samp>&rsquo;
field has been changed to <var>new-value</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(output-port-readtable-set!
    (repl-output-port)
    (readtable-write-extended-read-macros?-set
      (output-port-readtable (repl-output-port))
      #t))</b>
&gt; <b>'(foo (syntax bar))</b>
(foo #'bar)
&gt; <b>'(foo syntax bar)</b>
(foo syntax bar)
&gt; <b>(output-port-readtable-set!
    (repl-output-port)
    (readtable-write-cdr-read-macros?-set
      (output-port-readtable (repl-output-port))
      #t))</b>
&gt; <b>'(foo syntax bar)</b>
(foo . #'bar)
</pre></td></tr></table>



<a name="Definition_of_readtable-max-write-level"></a><a name="Procedure_readtable-max-write-level"></a><a name="index-readtable_002dmax_002dwrite_002dlevel"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-write-level">readtable-max-write-level</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-max-write-level-set"></a><a name="Procedure_readtable-max-write-level-set"></a><a name="index-readtable_002dmax_002dwrite_002dlevel_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-write-level-set">readtable-max-write-level-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-max-write-level</code> returns the content of
the &lsquo;<samp>max-write-level</samp>&rsquo; field of <var>readtable</var>.  The printer will
display an ellipsis for the elements of lists and vectors that are
nested deeper than this level.
</p>
<p>The procedure <code>readtable-max-write-level-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>max-write-level</samp>&rsquo; field
has been changed to <var>new-value</var>, which must be an nonnegative
fixnum.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (wr obj n)
    (call-with-output-string
      '()
      (lambda (p)
        (output-port-readtable-set!
          p
          (readtable-max-write-level-set
            (output-port-readtable p)
            n))
        (write obj p))))</b>
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) a) 3)</b>
&quot;(a #(b (c c) #u8(9 9 9) b) a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) a) 2)</b>
&quot;(a #(b (...) #u8(...) b) a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) a) 1)</b>
&quot;(a #(...) a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) a) 0)</b>
&quot;(...)&quot;
&gt; <b>(wr 'hello 0)</b>
&quot;hello&quot;
</pre></td></tr></table>



<a name="Definition_of_readtable-max-write-length"></a><a name="Procedure_readtable-max-write-length"></a><a name="index-readtable_002dmax_002dwrite_002dlength"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-write-length">readtable-max-write-length</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-max-write-length-set"></a><a name="Procedure_readtable-max-write-length-set"></a><a name="index-readtable_002dmax_002dwrite_002dlength_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-write-length-set">readtable-max-write-length-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<p>The procedure <code>readtable-max-write-length</code> returns the content of
the &lsquo;<samp>max-write-length</samp>&rsquo; field of <var>readtable</var>.  The printer will
display an ellipsis for the elements of lists and vectors that are at
an index beyond that length.
</p>
<p>The procedure <code>readtable-max-write-length-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>max-write-length</samp>&rsquo; field
has been changed to <var>new-value</var>, which must be an nonnegative
fixnum.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define (wr obj n)
    (call-with-output-string
      '()
      (lambda (p)
        (output-port-readtable-set!
          p
          (readtable-max-write-length-set
            (output-port-readtable p)
            n))
        (write obj p))))</b>
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) . a) 4)</b>
&quot;(a #(b (c c) #u8(9 9 9) b) . a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) . a) 3)</b>
&quot;(a #(b (c c) #u8(9 9 9) ...) . a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) . a) 2)</b>
&quot;(a #(b (c c) ...) . a)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) . a) 1)</b>
&quot;(a ...)&quot;
&gt; <b>(wr '(a #(b (c c) #u8(9 9 9) b) . a) 0)</b>
&quot;(...)&quot;
</pre></td></tr></table>



<a name="Definition_of_readtable-max-unescaped-char"></a><a name="Procedure_readtable-max-unescaped-char"></a><a name="index-readtable_002dmax_002dunescaped_002dchar"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-unescaped-char">readtable-max-unescaped-char</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-max-unescaped-char-set"></a><a name="Procedure_readtable-max-unescaped-char-set"></a><a name="index-readtable_002dmax_002dunescaped_002dchar_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-max-unescaped-char-set">readtable-max-unescaped-char-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-max-unescaped-char</code> returns the content
of the &lsquo;<samp>max-unescaped-char</samp>&rsquo; field of <var>readtable</var>.  The
printer will display using an escape sequence any character within
symbols, strings and character objects greater than
&lsquo;<samp>max-unescaped-char</samp>&rsquo;
</p>
<p>The procedure <code>readtable-max-unescaped-char-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>max-unescaped-char</samp>&rsquo; field
has been changed to <var>new-value</var>, which must be a character.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(define rt (output-port-readtable (repl-output-port)))</b>
&gt; <b>(readtable-max-unescaped-char rt)</b>
#\delete
&gt; <b>(string (integer-&gt;char 233))</b>
&quot;\351&quot;
&gt; <b>(define (f c)
    (with-output-to-string
     (list readtable: (readtable-max-unescaped-char-set rt c))
     (lambda () (write (string (integer-&gt;char 233))))))</b>
&gt; <b>(f #\delete)</b>
&quot;\&quot;\\351\&quot;&quot;
&gt; <b>(string-length (f #\delete))</b>
6
&gt; <b>(f #\U0010ffff)</b>
&quot;\&quot;\351\&quot;&quot;
&gt; <b>(string-length (f #\U0010ffff))</b>
3
&gt; <b>(output-port-readtable-set!
   (repl-output-port)
   (readtable-max-unescaped-char-set rt #\U0010ffff))</b>
&gt; <b>(string (integer-&gt;char 233))</b>
&quot;&eacute;&quot;
</pre></td></tr></table>



<a name="Definition_of_readtable-start-syntax"></a><a name="Procedure_readtable-start-syntax"></a><a name="index-readtable_002dstart_002dsyntax"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-start-syntax">readtable-start-syntax</a></b></code><i> <var>readtable</var></i><code>)</code></td><td align="right">procedure</td></tr></table>
<a name="Definition_of_readtable-start-syntax-set"></a><a name="Procedure_readtable-start-syntax-set"></a><a name="index-readtable_002dstart_002dsyntax_002dset"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Procedure_readtable-start-syntax-set">readtable-start-syntax-set</a></b></code><i> <var>readtable</var> <var>new-value</var></i><code>)</code></td><td align="right">procedure</td></tr></table>

<p>The procedure <code>readtable-start-syntax</code> returns the content of the
&lsquo;<samp>start-syntax</samp>&rsquo; field of <var>readtable</var>.  The reader uses this
field to determine in which syntax to start parsing the input.  When
the content of this field is the symbol <code>six</code>, the reader starts
in the infix syntax.  Otherwise the reader starts in the prefix
syntax.
</p>
<p>The procedure <code>readtable-start-syntax-set</code> returns a copy
of <var>readtable</var> where only the &lsquo;<samp>start-syntax</samp>&rsquo; field
has been changed to <var>new-value</var>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(+ 2 3)</b>
5
&gt; <b>(input-port-readtable-set!
   (repl-input-port)
   (readtable-start-syntax-set
     (input-port-readtable (repl-input-port))
     'six))</b>
&gt; <b>2+3;</b>
5
&gt; <b>exit();</b>
</pre></td></tr></table>



<a name="Boolean-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Readtables" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Character-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Boolean-syntax-1"></a>
<h2 class="section">18.2 Boolean syntax</h2>

<p>Booleans are required to be followed by a delimiter
(i.e. <code>#f64()</code> is not the boolean <code>#f</code> followed by the
number <code>64</code> and the empty list).
</p>
<a name="Character-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Boolean-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#String-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Character-syntax-1"></a>
<h2 class="section">18.3 Character syntax</h2>

<p>Characters are required to be followed by a delimiter
(i.e. <code>#\spaceballs</code> is not the character <code>#\space</code> followed
by the symbol <code>balls</code>).  The lexical syntax of characters is
extended to allow the following:
</p>
<dl compact="compact">
<dt> <code>#\nul</code></dt>
<dd><p>Unicode character 0
</p></dd>
<dt> <code>#\alarm</code></dt>
<dd><p>Unicode character 7
</p></dd>
<dt> <code>#\backspace</code></dt>
<dd><p>Unicode character 8
</p></dd>
<dt> <code>#\tab</code></dt>
<dd><p>Unicode character 9
</p></dd>
<dt> <code>#\newline</code></dt>
<dd><p>Unicode character 10 (newline character)
</p></dd>
<dt> <code>#\linefeed</code></dt>
<dd><p>Unicode character 10
</p></dd>
<dt> <code>#\vtab</code></dt>
<dd><p>Unicode character 11
</p></dd>
<dt> <code>#\page</code></dt>
<dd><p>Unicode character 12
</p></dd>
<dt> <code>#\return</code></dt>
<dd><p>Unicode character 13
</p></dd>
<dt> <code>#\esc</code></dt>
<dd><p>Unicode character 27
</p></dd>
<dt> <code>#\space</code></dt>
<dd><p>Unicode character 32 (space character)
</p></dd>
<dt> <code>#\delete</code></dt>
<dd><p>Unicode character 127
</p></dd>
<dt> <code>#\x<var>hh</var></code></dt>
<dd><p>character encoded in hexadecimal (&gt;= 1 hexadecimal digit)
</p></dd>
<dt> <code>#\u<var>hhhh</var></code></dt>
<dd><p>character encoded in hexadecimal (exactly 4 hexadecimal digits)
</p></dd>
<dt> <code>#\U<var>hhhhhhhh</var></code></dt>
<dd><p>character encoded in hexadecimal (exactly 8 hexadecimal digits)
</p></dd>
</dl>

<a name="String-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Character-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Symbol-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="String-syntax-1"></a>
<h2 class="section">18.4 String syntax</h2>

<p>The lexical syntax of quoted strings is extended to allow the following
escape codes:
</p>
<dl compact="compact">
<dt> <code>\a</code></dt>
<dd><p>Unicode character 7
</p></dd>
<dt> <code>\b</code></dt>
<dd><p>Unicode character 8
</p></dd>
<dt> <code>\t</code></dt>
<dd><p>Unicode character 9
</p></dd>
<dt> <code>\n</code></dt>
<dd><p>Unicode character 10 (newline character)
</p></dd>
<dt> <code>\v</code></dt>
<dd><p>Unicode character 11
</p></dd>
<dt> <code>\f</code></dt>
<dd><p>Unicode character 12
</p></dd>
<dt> <code>\r</code></dt>
<dd><p>Unicode character 13
</p></dd>
<dt> <code>\&quot;</code></dt>
<dd><p><code>&quot;</code>
</p></dd>
<dt> <code>\\</code></dt>
<dd><p><code>\</code>
</p></dd>
<dt> <code>\|</code></dt>
<dd><p><code>|</code>
</p></dd>
<dt> <code>\?</code></dt>
<dd><p><code>?</code>
</p></dd>
<dt> <code>\<var>ooo</var></code></dt>
<dd><p>character encoded in octal (1 to 3 octal digits, first digit must be less
than 4 when there are 3 octal digits)
</p></dd>
<dt> <code>\x<var>hh</var></code></dt>
<dd><p>character encoded in hexadecimal (&gt;= 1 hexadecimal digit)
</p></dd>
<dt> <code>\u<var>hhhh</var></code></dt>
<dd><p>character encoded in hexadecimal (exactly 4 hexadecimal digits)
</p></dd>
<dt> <code>\U<var>hhhhhhhh</var></code></dt>
<dd><p>character encoded in hexadecimal (exactly 8 hexadecimal digits)
</p></dd>
<dt> <code>\&lt;space&gt;</code></dt>
<dd><p>Unicode character 32 (space character)
</p></dd>
<dt> <code>\&lt;newline&gt;&lt;whitespace-except-newline&gt;*</code></dt>
<dd><p>This sequence expands to nothing (it is useful for splitting a long
string literal on multiple lines while respecting proper indentation
of the source code)
</p></dd>
</dl>

<p>Gambit also supports a &ldquo;here string&rdquo; syntax that is similar
to shell &ldquo;here documents&rdquo;.  For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(pretty-print #&lt;&lt;THE-END
hello
world
THE-END
)</b>
&quot;hello\nworld&quot;
</pre></td></tr></table>

<p>The here string starts with the sequence &lsquo;<samp>#&lt;&lt;</samp>&rsquo;.  The part of the
line after the &lsquo;<samp>#&lt;&lt;</samp>&rsquo; up to and including the newline character is
the key. The first line afterward that matches the key marks the end
of the here string.  The string contains all the characters between
the start key and the end key, with the exception of the newline
character before the end key.
</p>
<a name="Symbol-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#String-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Keyword-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Symbol-syntax-1"></a>
<h2 class="section">18.5 Symbol syntax</h2>

<p>The lexical syntax of symbols is extended to allow a leading and
trailing vertical bar (e.g. <code>|a\|b&quot;c:|</code>).  The symbol&rsquo;s name
corresponds verbatim to the characters between the vertical bars
except for escaped characters.  The same escape sequences as for
strings are permitted except that &lsquo;<samp>&quot;</samp>&rsquo; does not need to be escaped
and &lsquo;<samp>|</samp>&rsquo; needs to be escaped.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(symbol-&gt;string '|a\|b&quot;c:|)</b>
&quot;a|b\&quot;c:&quot;
</pre></td></tr></table>

<a name="Keyword-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Symbol-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Box-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Keyword-syntax-1"></a>
<h2 class="section">18.6 Keyword syntax</h2>

<p>The lexical syntax of keywords is like symbols, but with a colon at
the end (note that this can be changed to a leading colon by setting
the &lsquo;<samp>keywords-allowed?</samp>&rsquo; field of the readtable to the symbol
<code>prefix</code>).  A colon by itself is not a keyword, it is a symbol.
Vertical bars can be used like symbols but the colon must be outside
the vertical bars.  Note that the string returned by the
<code>keyword-&gt;string</code> procedure does not include the colon.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(keyword-&gt;string 'foo:)</b>
&quot;foo&quot;
&gt; <b>(map keyword? '(|ab()cd:| |ab()cd|: : ||:))</b>
(#f #t #f #t)
</pre></td></tr></table>

<a name="Box-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Keyword-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Number-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Box-syntax-1"></a>
<h2 class="section">18.7 Box syntax</h2>

<p>The lexical syntax of boxes is <code>#&amp;<var>obj</var></code> where <var>obj</var> is the
content of the box.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(list '#&amp;&quot;hello&quot; '#&amp;123)</b>
(#&amp;&quot;hello&quot; #&amp;123)
&gt; <b>(box (box (+ 10 20)))</b>
#&amp;#&amp;30
</pre></td></tr></table>

<a name="Number-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Box-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Homogeneous-vector-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Number-syntax-1"></a>
<h2 class="section">18.8 Number syntax</h2>

<p>The lexical syntax of the special inexact real numbers is as follows:
</p>
<dl compact="compact">
<dt> <code>+inf.0</code></dt>
<dd><p>positive infinity
</p></dd>
<dt> <code>-inf.0</code></dt>
<dd><p>negative infinity
</p></dd>
<dt> <code>+nan.0</code></dt>
<dd><p>&ldquo;not a number&rdquo;
</p></dd>
<dt> <code>-0.</code></dt>
<dd><p>negative zero (&lsquo;<samp>0.</samp>&rsquo; is the positive zero)
</p></dd>
</dl>

<a name="Homogeneous-vector-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Number-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Special-_0023_0021-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Homogeneous-vector-syntax-1"></a>
<h2 class="section">18.9 Homogeneous vector syntax</h2>
<a name="index-homogeneous-vectors-1"></a>

<p>Homogeneous vectors are vectors containing raw numbers of the same
type (signed or unsigned exact integers or inexact reals).  There are
10 types of homogeneous vectors:
&lsquo;<samp>s8vector</samp>&rsquo; (vector of 8 bit signed integers),
&lsquo;<samp>u8vector</samp>&rsquo; (vector of 8 bit unsigned integers),
&lsquo;<samp>s16vector</samp>&rsquo; (vector of 16 bit signed integers),
&lsquo;<samp>u16vector</samp>&rsquo; (vector of 16 bit unsigned integers),
&lsquo;<samp>s32vector</samp>&rsquo; (vector of 32 bit signed integers),
&lsquo;<samp>u32vector</samp>&rsquo; (vector of 32 bit unsigned integers),
&lsquo;<samp>s64vector</samp>&rsquo; (vector of 64 bit signed integers),
&lsquo;<samp>u64vector</samp>&rsquo; (vector of 64 bit unsigned integers),
&lsquo;<samp>f32vector</samp>&rsquo; (vector of 32 bit floating point numbers),
and &lsquo;<samp>f64vector</samp>&rsquo; (vector of 64 bit floating point numbers).
</p>
<p>The external representation of homogeneous vectors is similar to
normal vectors but with the &lsquo;<samp>#(</samp>&rsquo; prefix replaced respectively
with
&lsquo;<samp>#s8(</samp>&rsquo;, &lsquo;<samp>#u8(</samp>&rsquo;,
&lsquo;<samp>#s16(</samp>&rsquo;, &lsquo;<samp>#u16(</samp>&rsquo;,
&lsquo;<samp>#s32(</samp>&rsquo;, &lsquo;<samp>#u32(</samp>&rsquo;,
&lsquo;<samp>#s64(</samp>&rsquo;, &lsquo;<samp>#u64(</samp>&rsquo;,
&lsquo;<samp>#f32(</samp>&rsquo;, and &lsquo;<samp>#f64(</samp>&rsquo;.
</p>
<p>The elements of the integer homogeneous vectors must be exact integers
fitting in the given precision.  The elements of the floating point
homogeneous vectors must be inexact reals.
</p>
<a name="Special-_0023_0021-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Homogeneous-vector-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Multiline-comment-syntax" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Special-_0023_0021-syntax-1"></a>
<h2 class="section">18.10 Special <code>#!</code> syntax</h2>

<p>The lexical syntax of the special <code>#!</code> objects is as follows:
</p>
<dl compact="compact">
<dt> <code>#!eof</code></dt>
<dd><p>end-of-file object
</p></dd>
<dt> <code>#!void</code></dt>
<dd><p>void object
</p></dd>
<dt> <code>#!optional</code></dt>
<dd><p>optional object
</p></dd>
<dt> <code>#!rest</code></dt>
<dd><p>rest object
</p></dd>
<dt> <code>#!key</code></dt>
<dd><p>key object
</p></dd>
</dl>

<a name="Multiline-comment-syntax"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Special-_0023_0021-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Scheme-infix-syntax-extension" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Multiline-comment-syntax-1"></a>
<h2 class="section">18.11 Multiline comment syntax</h2>

<p>Multiline comments are delimited by the tokens &lsquo;<samp>#|</samp>&rsquo; and &lsquo;<samp>|#</samp>&rsquo;.
These comments can be nested.
</p>
<a name="Scheme-infix-syntax-extension"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Multiline-comment-syntax" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SIX-grammar" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Scheme-infix-syntax-extension-1"></a>
<h2 class="section">18.12 Scheme infix syntax extension</h2>

<p>The reader supports an infix syntax extension which is called SIX
(Scheme Infix eXtension).  This extension is both supported by the
&lsquo;<samp>read</samp>&rsquo; procedure and in program source code.
</p>
<p>The backslash character is a delimiter that marks the beginning of a
single datum expressed in the infix syntax (the details are given
below).  One way to think about it is that the backslash character
escapes the prefix syntax temporarily to use the infix syntax.  For
example a three element list could be written as &lsquo;<samp>(<var>X</var>
\<var>Y</var> <var>Z</var>)</samp>&rsquo;, the elements <var>X</var> and <var>Z</var> are expressed
using the normal prefix syntax and <var>Y</var> is expressed using the
infix syntax.
</p>
<p>When the reader encounters an infix datum, it constructs a syntax tree
for that particular datum.  Each node of this tree is represented with
a list whose first element is a symbol indicating the type of node.
For example, &lsquo;<samp>(six.identifier abc)</samp>&rsquo; is the representation of the
infix identifier &lsquo;<samp>abc</samp>&rsquo; and &lsquo;<samp>(six.index (six.identifier abc)
(six.identifier i))</samp>&rsquo; is the representation of the infix datum
&lsquo;<samp>abc[i];</samp>&rsquo;.
</p>
<a name="SIX-grammar"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Scheme-infix-syntax-extension" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SIX-semantics" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-infix-syntax-extension" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<h3 class="subsection">18.12.1 SIX grammar</h3>

<p>The SIX grammar is given below.  On the left hand side are the
production rules.  On the right hand side is the datum that is
constructed by the reader.  The notation <var>$i</var> denotes the datum
that is constructed by the reader for the <var>i</var>th part of the
production rule.
</p>




<table>
<tr><td width="60%"><em>&lt;</em>infix datum<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>if stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>for stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>while stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>do stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>switch stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>case stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>break stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>continue stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>label stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>goto stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>return stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expression stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>procedure definition<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>variable definition<em>&gt;</em> <code>;</code></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>clause stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>compound stat<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>;</code></td><td width="40%"><code>(six.compound)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>if stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>if</code> <code>(</code> <em>&lt;</em>pexpr<em>&gt;</em> <code>)</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.if <var>$3</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>if</code> <code>(</code> <em>&lt;</em>pexpr<em>&gt;</em> <code>)</code> <em>&lt;</em>stat<em>&gt;</em> <code>else</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.if <var>$3</var> <var>$5</var> <var>$7</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>for stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>for</code> <code>(</code> <em>&lt;</em>stat<em>&gt;</em> <code>;</code> <em>&lt;</em>oexpr<em>&gt;</em> <code>;</code> <em>&lt;</em>oexpr<em>&gt;</em> <code>)</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.for <var>$3</var> <var>$5</var> <var>$7</var> <var>$9</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>while stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>while</code> <code>(</code> <em>&lt;</em>pexpr<em>&gt;</em> <code>)</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.while <var>$3</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>do stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>do</code> <em>&lt;</em>stat<em>&gt;</em> <code>while</code> <code>(</code> <em>&lt;</em>pexpr<em>&gt;</em> <code>)</code> <code>;</code></td><td width="40%"><code>(six.do-while <var>$2</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>switch stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>switch</code> <code>(</code> <em>&lt;</em>pexpr<em>&gt;</em> <code>)</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.switch <var>$3</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>case stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>case</code> <em>&lt;</em>expr<em>&gt;</em> <code>:</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.case <var>$2</var> <var>$4</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>break stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>break</code> <code>;</code></td><td width="40%"><code>(six.break)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>continue stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>continue</code> <code>;</code></td><td width="40%"><code>(six.continue)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>label stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>identifier<em>&gt;</em> <code>:</code> <em>&lt;</em>stat<em>&gt;</em></td><td width="40%"><code>(six.label <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>goto stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>goto</code> <em>&lt;</em>expr<em>&gt;</em> <code>;</code></td><td width="40%"><code>(six.goto <var>$2</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>return stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>return</code> <code>;</code></td><td width="40%"><code>(six.return)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>return</code> <em>&lt;</em>expr<em>&gt;</em> <code>;</code></td><td width="40%"><code>(six.return <var>$2</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>expression stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr<em>&gt;</em> <code>;</code></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>clause stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr<em>&gt;</em> <code>.</code></td><td width="40%"><code>(six.clause <var>$1</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>pexpr<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>procedure definition<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>variable definition<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>procedure definition<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>type<em>&gt;</em> <em>&lt;</em>id-or-prefix<em>&gt;</em> <code>(</code> <em>&lt;</em>parameters<em>&gt;</em> <code>)</code> <em>&lt;</em>body<em>&gt;</em></td><td width="40%"><code>(six.define-procedure <var>$2</var> (six.procedure <var>$1</var> <var>$4</var> <var>$6</var>))</code></td></tr>
<tr><td width="60%"><em>&lt;</em>variable definition<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>type<em>&gt;</em> <em>&lt;</em>id-or-prefix<em>&gt;</em> <em>&lt;</em>dimensions<em>&gt;</em> <em>&lt;</em>iexpr<em>&gt;</em></td><td width="40%"><code>(six.define-variable <var>$2</var> <var>$1</var> <var>$3</var> <var>$4</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>iexpr<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>=</code> <em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><var>$2</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>#f</code></td></tr>
<tr><td width="60%"><em>&lt;</em>dimensions<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>[</code> <em>&lt;</em>expr<em>&gt;</em> <code>]</code> <em>&lt;</em>dimensions<em>&gt;</em></td><td width="40%"><code>(<var>$2</var> . <var>$4</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>()</code></td></tr>
<tr><td width="60%"><em>&lt;</em>oexpr<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>#f</code></td></tr>
<tr><td width="60%"><em>&lt;</em>expr<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr18<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr18<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr17<em>&gt;</em> <code>:-</code> <em>&lt;</em>expr18<em>&gt;</em></td><td width="40%"><code>(six.x:-y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr17<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr17<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr17<em>&gt;</em> <code>,</code> <em>&lt;</em>expr16<em>&gt;</em></td><td width="40%"><code>(|six.x,y| <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr16<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr16<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr15<em>&gt;</em> <code>:=</code> <em>&lt;</em>expr16<em>&gt;</em></td><td width="40%"><code>(six.x:=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr15<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>%=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x%=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>&amp;=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x&amp;=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>*=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x*=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>+=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x+=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>-=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x-=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>/=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x/=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>&lt;&lt;=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x&lt;&lt;=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>&gt;&gt;=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x&gt;&gt;=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>^=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(six.x^=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em> <code>|=</code> <em>&lt;</em>expr15<em>&gt;</em></td><td width="40%"><code>(|six.x\|=y| <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr14<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr14<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr13<em>&gt;</em> <code>:</code> <em>&lt;</em>expr14<em>&gt;</em></td><td width="40%"><code>(six.x:y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr13<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr13<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr12<em>&gt;</em> <code>?</code> <em>&lt;</em>expr<em>&gt;</em> <code>:</code> <em>&lt;</em>expr13<em>&gt;</em></td><td width="40%"><code>(six.x?y:z <var>$1</var> <var>$3</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr12<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr12<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr12<em>&gt;</em> <code>||</code> <em>&lt;</em>expr11<em>&gt;</em></td><td width="40%"><code>(|six.x\|\|y| <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr11<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr11<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr11<em>&gt;</em> <code>&amp;&amp;</code> <em>&lt;</em>expr10<em>&gt;</em></td><td width="40%"><code>(six.x&amp;&amp;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr10<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr10<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr10<em>&gt;</em> <code>|</code> <em>&lt;</em>expr9<em>&gt;</em></td><td width="40%"><code>(|six.x\|y| <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr9<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr9<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr9<em>&gt;</em> <code>^</code> <em>&lt;</em>expr8<em>&gt;</em></td><td width="40%"><code>(six.x^y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr8<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr8<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr8<em>&gt;</em> <code>&amp;</code> <em>&lt;</em>expr7<em>&gt;</em></td><td width="40%"><code>(six.x&amp;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr7<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr7<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr7<em>&gt;</em> <code>!=</code> <em>&lt;</em>expr6<em>&gt;</em></td><td width="40%"><code>(six.x!=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr7<em>&gt;</em> <code>==</code> <em>&lt;</em>expr6<em>&gt;</em></td><td width="40%"><code>(six.x==y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr6<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr6<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr6<em>&gt;</em> <code>&lt;</code> <em>&lt;</em>expr5<em>&gt;</em></td><td width="40%"><code>(six.x&lt;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr6<em>&gt;</em> <code>&lt;=</code> <em>&lt;</em>expr5<em>&gt;</em></td><td width="40%"><code>(six.x&lt;=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr6<em>&gt;</em> <code>&gt;</code> <em>&lt;</em>expr5<em>&gt;</em></td><td width="40%"><code>(six.x&gt;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr6<em>&gt;</em> <code>&gt;=</code> <em>&lt;</em>expr5<em>&gt;</em></td><td width="40%"><code>(six.x&gt;=y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr5<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr5<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr5<em>&gt;</em> <code>&lt;&lt;</code> <em>&lt;</em>expr4<em>&gt;</em></td><td width="40%"><code>(six.x&lt;&lt;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr5<em>&gt;</em> <code>&gt;&gt;</code> <em>&lt;</em>expr4<em>&gt;</em></td><td width="40%"><code>(six.x&gt;&gt;y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr4<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr4<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr4<em>&gt;</em> <code>+</code> <em>&lt;</em>expr3<em>&gt;</em></td><td width="40%"><code>(six.x+y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr4<em>&gt;</em> <code>-</code> <em>&lt;</em>expr3<em>&gt;</em></td><td width="40%"><code>(six.x-y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr3<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr3<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr3<em>&gt;</em> <code>%</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.x%y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr3<em>&gt;</em> <code>*</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.x*y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr3<em>&gt;</em> <code>/</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.x/y <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr2<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>&amp;</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.&amp;x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>+</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.+x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>-</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.-x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>*</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.*x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>!</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.!x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>!</code></td><td width="40%"><code>(six.!)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>++</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.++x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>--</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.--x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>~</code> <em>&lt;</em>expr2<em>&gt;</em></td><td width="40%"><code>(six.~x <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>new</code> <em>&lt;</em>id-or-prefix<em>&gt;</em> <code>(</code> <em>&lt;</em>arguments<em>&gt;</em> <code>)</code></td><td width="40%"><code>(six.new <var>$2</var> . <var>$4</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr1<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>++</code></td><td width="40%"><code>(six.x++ <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>--</code></td><td width="40%"><code>(six.x-- <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>(</code> <em>&lt;</em>arguments<em>&gt;</em> <code>)</code></td><td width="40%"><code>(six.call <var>$1</var> . <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>[</code> <em>&lt;</em>expr<em>&gt;</em> <code>]</code></td><td width="40%"><code>(six.index <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>-&gt;</code> <em>&lt;</em>id-or-prefix<em>&gt;</em></td><td width="40%"><code>(six.arrow <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr1<em>&gt;</em> <code>.</code> <em>&lt;</em>id-or-prefix<em>&gt;</em></td><td width="40%"><code>(six.dot <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr0<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%"><em>&lt;</em>expr0<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>id-or-prefix<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>string<em>&gt;</em></td><td width="40%"><code>(six.literal <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>char<em>&gt;</em></td><td width="40%"><code>(six.literal <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>number<em>&gt;</em></td><td width="40%"><code>(six.literal <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>(</code> <em>&lt;</em>expr<em>&gt;</em> <code>)</code></td><td width="40%"><var>$2</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>(</code> <em>&lt;</em>block stat<em>&gt;</em> <code>)</code></td><td width="40%"><var>$2</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>datum-starting-with-#-or-backquote<em>&gt;</em></td><td width="40%"><code>(six.prefix <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>[</code> <em>&lt;</em>elements<em>&gt;</em> <code>]</code></td><td width="40%"><var>$2</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>type<em>&gt;</em> <code>(</code> <em>&lt;</em>parameters<em>&gt;</em> <code>)</code> <em>&lt;</em>body<em>&gt;</em></td><td width="40%"><code>(six.procedure <var>$1</var> <var>$3</var> <var>$5</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>block stat<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>{</code> <em>&lt;</em>stat list<em>&gt;</em> <code>}</code></td><td width="40%"><code>(six.compound . <var>$2</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>body<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>{</code> <em>&lt;</em>stat list<em>&gt;</em> <code>}</code></td><td width="40%"><code>(six.procedure-body . <var>$2</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>stat list<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>stat<em>&gt;</em> <em>&lt;</em>stat list<em>&gt;</em></td><td width="40%"><code>(<var>$1</var> . <var>$2</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>()</code></td></tr>
<tr><td width="60%"><em>&lt;</em>parameters<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>nonempty parameters<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>()</code></td></tr>
<tr><td width="60%"><em>&lt;</em>nonempty parameters<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>parameter<em>&gt;</em> <code>,</code> <em>&lt;</em>nonempty parameters<em>&gt;</em></td><td width="40%"><code>(<var>$1</var> . <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>parameter<em>&gt;</em></td><td width="40%"><code>(<var>$1</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>parameter<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>type<em>&gt;</em> <em>&lt;</em>id-or-prefix<em>&gt;</em></td><td width="40%"><code>(<var>$2</var> <var>$1</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>arguments<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>nonempty arguments<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>()</code></td></tr>
<tr><td width="60%"><em>&lt;</em>nonempty arguments<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr<em>&gt;</em> <code>,</code> <em>&lt;</em>nonempty arguments<em>&gt;</em></td><td width="40%"><code>(<var>$1</var> . <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><code>(<var>$1</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>elements<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>nonempty elements<em>&gt;</em></td><td width="40%"><var>$1</var></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;</td><td width="40%"><code>(six.null)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>nonempty elements<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><code>(six.list <var>$1</var> (six.null))</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr<em>&gt;</em> <code>,</code> <em>&lt;</em>nonempty elements<em>&gt;</em></td><td width="40%"><code>(six.list <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<em>&lt;</em>expr<em>&gt;</em> <code>|</code> <em>&lt;</em>expr<em>&gt;</em></td><td width="40%"><code>(six.cons <var>$1</var> <var>$3</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>id-or-prefix<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<em>&lt;</em>identifier<em>&gt;</em></td><td width="40%"><code>(six.identifier <var>$1</var>)</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>\</code> <em>&lt;</em>datum<em>&gt;</em></td><td width="40%"><code>(six.prefix <var>$2</var>)</code></td></tr>
<tr><td width="60%"><em>&lt;</em>type<em>&gt;</em> ::=</td></tr>
<tr><td width="60%">&nbsp;&nbsp;&nbsp;&nbsp;<code>int</code></td><td width="40%"><code>int</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>char</code></td><td width="40%"><code>char</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>bool</code></td><td width="40%"><code>bool</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>void</code></td><td width="40%"><code>void</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>float</code></td><td width="40%"><code>float</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>double</code></td><td width="40%"><code>double</code></td></tr>
<tr><td width="60%">&nbsp;&nbsp;|&nbsp;<code>obj</code></td><td width="40%"><code>obj</code></td></tr>
</table>

<a name="SIX-semantics"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#SIX-grammar" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Scheme-infix-syntax-extension" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<h3 class="subsection">18.12.2 SIX semantics</h3>

<p>The semantics of SIX depends on the definition of the
<code>six.<var>XXX</var></code> identifiers (as functions and macros).  Many of
these identifiers are predefined macros which give SIX a semantics
that is close to C&rsquo;s.  The user may override these definitions to
change the semantics either globally or locally.  For example,
<code>six.x^y</code> is a predefined macro that expands <code>(six.x^y x y)</code>
into <code>(bitwise-xor x y)</code>.  If the user prefers the &lsquo;<samp>^</samp>&rsquo;
operator to express exponentiation in a specific function, then in
that function <code>six.x^y</code> can be redefined as a macro that expands
<code>(six.x^y x y)</code> into <code>(expt x y)</code>.  Note that the
associativity and precedence of operators cannot be changed as that is
a syntactic issue.
</p>
<p>Note that the following identifiers are not predefined, and
consequently they do not have a predefined semantics:
<code>six.label</code>, <code>six.goto</code>, <code>six.switch</code>, <code>six.case</code>,
<code>six.break</code>, <code>six.continue</code>, <code>six.return</code>,
<code>six.clause</code>, <code>six.x:-y</code>, and <code>six.!</code>.
</p>
<p>The following is an example showing some of the predefined semantics
of SIX:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample">&gt; <b>(list (+ 1 2) \3+4; (+ 5 6))</b>
(3 7 11)
&gt; <b>\[ 1+2, \(+ 3 4), 5+6 ];</b>
(3 7 11)
&gt; <b>(map (lambda (x) \(x*x-1)/log(x+1);) '(1 2 3 4))</b>
(0 2.730717679880512 5.7707801635558535 9.320024018394177)
&gt; <b>\obj n = expt(10,5);</b>
&gt; <b>n</b>
100000
&gt; <b>\obj t[3][10] = 88;</b>
&gt; <b>\t[0][9] = t[2][1] = 11;</b>
11
&gt; <b>t</b>
#(#(88 88 88 88 88 88 88 88 88 11)
  #(88 88 88 88 88 88 88 88 88 88)
  #(88 11 88 88 88 88 88 88 88 88))
&gt; <b>\obj radix = new parameter (10);</b>
&gt; <b>\radix(2);</b>
&gt; <b>\radix();</b>
2
&gt; <b>\for (int i=0; i&lt;5; i++) pp(1&lt;&lt;i*8);</b>
1
256
65536
16777216
4294967296
&gt; <b>\obj \make-adder (obj x) { obj (obj y) { x+y; }; }</b>
&gt; <b>\map (new adder (100), [1,2,3,4]);</b>
(101 102 103 104)
&gt; <b>(map (make-adder 100) (list 1 2 3 4))</b>
(101 102 103 104)
</pre></td></tr></table>

<a name="C_002dinterface"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#SIX-semantics" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#mapping-of-types" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Lexical-syntax-and-readtables" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="C_002dinterface-1"></a>
<h1 class="chapter">19. C-interface</h1>
<a name="index-FFI"></a>
<a name="index-foreign-function-interface"></a>

<p>The Gambit Scheme system offers a mechanism for interfacing Scheme code
and C code called the &ldquo;C-interface&rdquo;.  A Scheme program indicates which
C functions it needs to have access to and which Scheme procedures can
be called from C, and the C interface automatically constructs the
corresponding Scheme procedures and C functions.  The conversions needed
to transform data from the Scheme representation to the C representation
(and back), are generated automatically in accordance with the argument
and result types of the C function or Scheme procedure.
</p>
<p>The C-interface places some restrictions on the types of data that can
be exchanged between C and Scheme.  The mapping of data types between C
and Scheme is discussed in the next section.  The remaining sections of
this chapter describe each special form of the C-interface.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#mapping-of-types">19.1 The mapping of types between C and Scheme</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#c_002ddeclare">19.2 The <code>c-declare</code> special form</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#c_002dinitialize">19.3 The <code>c-initialize</code> special form</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#c_002dlambda">19.4 The <code>c-lambda</code> special form</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#c_002ddefine_002dtype">19.6 The <code>c-define-type</code> special form</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
<tr><td align="left" valign="top"><a href="#continuations">19.7 Continuations and the C-interface</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top"></td></tr>
</table>

<a name="mapping-of-types"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#C_002dinterface" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#c_002ddeclare" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-mapping-of-types-between-C-and-Scheme"></a>
<h2 class="section">19.1 The mapping of types between C and Scheme</h2>

<p>Scheme and C do not provide the same set of built-in data types so it is
important to understand which Scheme type is compatible with which C
type and how values get mapped from one environment to the other.  To
improve compatibility a new type is added to Scheme, the &lsquo;<samp>foreign</samp>&rsquo;
object type, and the following data types are added to C:
</p>
<dl compact="compact">
<dt> <code>scheme-object</code></dt>
<dd><p>denotes the universal type of Scheme objects
(type <code>___SCMOBJ</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>bool</code></dt>
<dd><p>denotes the C++ &lsquo;<samp>bool</samp>&rsquo; type or the C &lsquo;<samp>int</samp>&rsquo; type
(type <code>___BOOL</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>int8</code></dt>
<dd><p>8 bit signed integer (type <code>___S8</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>unsigned-int8</code></dt>
<dd><p>8 bit unsigned integer (type <code>___U8</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>int16</code></dt>
<dd><p>16 bit signed integer (type <code>___S16</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>unsigned-int16</code></dt>
<dd><p>16 bit unsigned integer (type <code>___U16</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>int32</code></dt>
<dd><p>32 bit signed integer (type <code>___S32</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>unsigned-int32</code></dt>
<dd><p>32 bit unsigned integer (type <code>___U32</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>int64</code></dt>
<dd><p>64 bit signed integer (type <code>___S64</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>unsigned-int64</code></dt>
<dd><p>64 bit unsigned integer (type <code>___U64</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>float32</code></dt>
<dd><p>32 bit floating point number (type <code>___F32</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>float64</code></dt>
<dd><p>64 bit floating point number (type <code>___F64</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>ISO-8859-1</code></dt>
<dd><p>denotes ISO-8859-1 encoded characters
(8 bit unsigned integer, type <code>___ISO_8859_1</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>UCS-2</code></dt>
<dd><p>denotes UCS-2 encoded characters
(16 bit unsigned integer, type <code>___UCS_2</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>UCS-4</code></dt>
<dd><p>denotes UCS-4 encoded characters
(32 bit unsigned integer, type <code>___UCS_4</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>char-string</code></dt>
<dd><p>denotes the C &lsquo;<samp>char*</samp>&rsquo; type when used as a null terminated string
</p></dd>
<dt> <code>nonnull-char-string</code></dt>
<dd><p>denotes the nonnull C &lsquo;<samp>char*</samp>&rsquo; type when used as a null terminated string
</p></dd>
<dt> <code>nonnull-char-string-list</code></dt>
<dd><p>denotes an array of nonnull C &lsquo;<samp>char*</samp>&rsquo; terminated with a null pointer
</p></dd>
<dt> <code>ISO-8859-1-string</code></dt>
<dd><p>denotes ISO-8859-1 encoded strings
(null terminated string of 8 bit unsigned integers, i.e. <code>___ISO_8859_1*</code>)
</p></dd>
<dt> <code>nonnull-ISO-8859-1-string</code></dt>
<dd><p>denotes nonnull ISO-8859-1 encoded strings
(null terminated string of 8 bit unsigned integers, i.e. <code>___ISO_8859_1*</code>)
</p></dd>
<dt> <code>nonnull-ISO-8859-1-stringlist</code></dt>
<dd><p>denotes an array of nonnull ISO-8859-1 encoded strings terminated with a null pointer
</p></dd>
<dt> <code>UTF-8-string</code></dt>
<dd><p>denotes UTF-8 encoded strings
(null terminated string of <code>char</code>, i.e. <code>char*</code>)
</p></dd>
<dt> <code>nonnull-UTF-8-string</code></dt>
<dd><p>denotes nonnull UTF-8 encoded strings
(null terminated string of <code>char</code>, i.e. <code>char*</code>)
</p></dd>
<dt> <code>nonnull-UTF-8-string-list</code></dt>
<dd><p>denotes an array of nonnull UTF-8 encoded strings terminated with a null pointer
</p></dd>
<dt> <code>UTF-16-string</code></dt>
<dd><p>denotes UTF-16 encoded strings
(null terminated string of <code>char</code>, i.e. <code>char*</code>)
</p></dd>
<dt> <code>nonnull-UTF-16-string</code></dt>
<dd><p>denotes nonnull UTF-16 encoded strings
(null terminated string of <code>char</code>, i.e. <code>char*</code>)
</p></dd>
<dt> <code>nonnull-UTF-16-string-list</code></dt>
<dd><p>denotes an array of nonnull UTF-16 encoded strings terminated with a null pointer
</p></dd>
<dt> <code>UCS-2-string</code></dt>
<dd><p>denotes UCS-2 encoded strings
(null terminated string of 16 bit unsigned integers, i.e. <code>___UCS_2*</code>)
</p></dd>
<dt> <code>nonnull-UCS-2-string</code></dt>
<dd><p>denotes nonnull UCS-2 encoded strings
(null terminated string of 16 bit unsigned integers, i.e. <code>___UCS_2*</code>)
</p></dd>
<dt> <code>nonnull-UCS-2-string-list</code></dt>
<dd><p>denotes an array of nonnull UCS-2 encoded strings terminated with a null pointer
</p></dd>
<dt> <code>UCS-4-string</code></dt>
<dd><p>denotes UCS-4 encoded strings
(null terminated string of 32 bit unsigned integers, i.e. <code>___UCS_4*</code>)
</p></dd>
<dt> <code>nonnull-UCS-4-string</code></dt>
<dd><p>denotes nonnull UCS-4 encoded strings
(null terminated string of 32 bit unsigned integers, i.e. <code>___UCS_4*</code>)
</p></dd>
<dt> <code>nonnull-UCS-4-string-list</code></dt>
<dd><p>denotes an array of nonnull UCS-4 encoded strings terminated with a null pointer
</p></dd>
<dt> <code>wchar_t-string</code></dt>
<dd><p>denotes <code>wchar_t</code> encoded strings
(null terminated string of <code>wchar_t</code>, i.e. <code>wchar_t*</code>)
</p></dd>
<dt> <code>nonnull-wchar_t-string</code></dt>
<dd><p>denotes nonnull <code>wchar_t</code> encoded strings
(null terminated string of <code>wchar_t</code>, i.e. <code>wchar_t*</code>)
</p></dd>
<dt> <code>nonnull-wchar_t-string-list</code></dt>
<dd><p>denotes an array of nonnull <code>wchar_t</code> encoded strings terminated with a null pointer
</p></dd>
</dl>

<p>To specify a particular C type inside the <code>c-lambda</code>,
<code>c-define</code> and <code>c-define-type</code> forms, the following &ldquo;Scheme
notation&rdquo; is used:
</p>
<dl compact="compact">
<dt> <code><span class="roman">Scheme notation</span></code></dt>
<dd><p>C type
</p></dd>
<dt> <code>void</code></dt>
<dd><p><code>void</code>
</p></dd>
<dt> <code>bool</code></dt>
<dd><p><code>bool</code>
</p></dd>
<dt> <code>char</code></dt>
<dd><p><code>char</code>  (may be signed or unsigned depending on the C compiler)
</p></dd>
<dt> <code>signed-char</code></dt>
<dd><p><code>signed char</code>
</p></dd>
<dt> <code>unsigned-char</code></dt>
<dd><p><code>unsigned char</code>
</p></dd>
<dt> <code>ISO-8859-1</code></dt>
<dd><p><code>ISO-8859-1</code>
</p></dd>
<dt> <code>UCS-2</code></dt>
<dd><p><code>UCS-2</code>
</p></dd>
<dt> <code>UCS-4</code></dt>
<dd><p><code>UCS-4</code>
</p></dd>
<dt> <code>wchar_t</code></dt>
<dd><p><code>wchar_t</code>
</p></dd>
<dt> <code>size_t</code></dt>
<dd><p><code>size_t</code> (type <code>___SIZE_T</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>ssize_t</code></dt>
<dd><p><code>ssize_t</code> (type <code>___SSIZE_T</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>ptrdiff_t</code></dt>
<dd><p><code>ptrdiff_t</code> (type <code>___PTRDIFF_T</code> defined in &lsquo;<samp>gambit.h</samp>&rsquo;)
</p></dd>
<dt> <code>short</code></dt>
<dd><p><code>short</code>
</p></dd>
<dt> <code>unsigned-short</code></dt>
<dd><p><code>unsigned short</code>
</p></dd>
<dt> <code>int</code></dt>
<dd><p><code>int</code>
</p></dd>
<dt> <code>unsigned-int</code></dt>
<dd><p><code>unsigned int</code>
</p></dd>
<dt> <code>long</code></dt>
<dd><p><code>long</code>
</p></dd>
<dt> <code>unsigned-long</code></dt>
<dd><p><code>unsigned long</code>
</p></dd>
<dt> <code>long-long</code></dt>
<dd><p><code>long long</code>
</p></dd>
<dt> <code>unsigned-long-long</code></dt>
<dd><p><code>unsigned long long</code>
</p></dd>
<dt> <code>float</code></dt>
<dd><p><code>float</code>
</p></dd>
<dt> <code>double</code></dt>
<dd><p><code>double</code>
</p></dd>
<dt> <code>int8</code></dt>
<dd><p><code>int8</code>
</p></dd>
<dt> <code>unsigned-int8</code></dt>
<dd><p><code>unsigned-int8</code>
</p></dd>
<dt> <code>int16</code></dt>
<dd><p><code>int16</code>
</p></dd>
<dt> <code>unsigned-int16</code></dt>
<dd><p><code>unsigned-int16</code>
</p></dd>
<dt> <code>int32</code></dt>
<dd><p><code>int32</code>
</p></dd>
<dt> <code>unsigned-int32</code></dt>
<dd><p><code>unsigned-int32</code>
</p></dd>
<dt> <code>int64</code></dt>
<dd><p><code>int64</code>
</p></dd>
<dt> <code>unsigned-int64</code></dt>
<dd><p><code>unsigned-int64</code>
</p></dd>
<dt> <code>float32</code></dt>
<dd><p><code>float32</code>
</p></dd>
<dt> <code>float64</code></dt>
<dd><p><code>float64</code>
</p></dd>
<dt> <code>(struct &quot;<var>c-struct-id</var>&quot; <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code></dt>
<dd><p><code>struct <var>c-struct-id</var></code>  (where <var>c-struct-id</var> is the name of a
C structure; see below for the meaning of <var>tags</var> and <var>release-function</var>)
</p></dd>
<dt> <code>(union &quot;<var>c-union-id</var>&quot; <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code></dt>
<dd><p><code>union <var>c-union-id</var></code>  (where <var>c-union-id</var> is the name of a
C union; see below for the meaning of <var>tags</var> and <var>release-function</var>)
</p></dd>
<dt> <code>(type &quot;<var>c-type-id</var>&quot; <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code></dt>
<dd><p><code><var>c-type-id</var></code>  (where <var>c-type-id</var> is an identifier naming a
C type; see below for the meaning of <var>tags</var> and <var>release-function</var>)
</p></dd>
<dt> <code>(pointer <var>type</var> <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code></dt>
<dd><p><code><var>T</var>*</code>  (where <var>T</var> is the C equivalent of <var>type</var>
which must be the Scheme notation of a C type; see below for the meaning
of <var>tags</var> and <var>release-function</var>)
</p></dd>
<dt> <code>(nonnull-pointer <var>type</var> <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code></dt>
<dd><p>same as <code>(pointer <var>type</var> <span class="roman">[</span><var>tags</var> <span class="roman">[</span><var>release-function</var><span class="roman">]</span><span class="roman">]</span>)</code>
except the <code>NULL</code> pointer is not allowed
</p></dd>
<dt> <code>(function (<var>type1</var>&hellip;) <var>result-type</var>)</code></dt>
<dd><p>function with the given argument types and result type
</p></dd>
<dt> <code>(nonnull-function (<var>type1</var>&hellip;) <var>result-type</var>)</code></dt>
<dd><p>same as <code>(function (<var>type1</var>&hellip;) <var>result-type</var>)</code>
except the <code>NULL</code> pointer is not allowed
</p></dd>
<dt> <code>char-string</code></dt>
<dd><p><code>char-string</code>
</p></dd>
<dt> <code>nonnull-char-string</code></dt>
<dd><p><code>nonnull-char-string</code>
</p></dd>
<dt> <code>nonnull-char-string-list</code></dt>
<dd><p><code>nonnull-char-string-list</code>
</p></dd>
<dt> <code>ISO-8859-1-string</code></dt>
<dd><p><code>ISO-8859-1-string</code>
</p></dd>
<dt> <code>nonnull-ISO-8859-1-string</code></dt>
<dd><p><code>nonnull-ISO-8859-1-string</code>
</p></dd>
<dt> <code>nonnull-ISO-8859-1-string-list</code></dt>
<dd><p><code>nonnull-ISO-8859-1-string-list</code>
</p></dd>
<dt> <code>UTF-8-string</code></dt>
<dd><p><code>UTF-8-string</code>
</p></dd>
<dt> <code>nonnull-UTF-8-string</code></dt>
<dd><p><code>nonnull-UTF-8-string</code>
</p></dd>
<dt> <code>nonnull-UTF-8-string-list</code></dt>
<dd><p><code>nonnull-UTF-8-string-list</code>
</p></dd>
<dt> <code>UTF-16-string</code></dt>
<dd><p><code>UTF-16-string</code>
</p></dd>
<dt> <code>nonnull-UTF-16-string</code></dt>
<dd><p><code>nonnull-UTF-16-string</code>
</p></dd>
<dt> <code>nonnull-UTF-16-string-list</code></dt>
<dd><p><code>nonnull-UTF-16-string-list</code>
</p></dd>
<dt> <code>UCS-2-string</code></dt>
<dd><p><code>UCS-2-string</code>
</p></dd>
<dt> <code>nonnull-UCS-2-string</code></dt>
<dd><p><code>nonnull-UCS-2-string</code>
</p></dd>
<dt> <code>nonnull-UCS-2-string-list</code></dt>
<dd><p><code>nonnull-UCS-2-string-list</code>
</p></dd>
<dt> <code>UCS-4-string</code></dt>
<dd><p><code>UCS-4-string</code>
</p></dd>
<dt> <code>nonnull-UCS-4-string</code></dt>
<dd><p><code>nonnull-UCS-4-string</code>
</p></dd>
<dt> <code>nonnull-UCS-4-string-list</code></dt>
<dd><p><code>nonnull-UCS-4-string-list</code>
</p></dd>
<dt> <code>wchar_t-string</code></dt>
<dd><p><code>wchar_t-string</code>
</p></dd>
<dt> <code>nonnull-wchar_t-string</code></dt>
<dd><p><code>nonnull-wchar_t-string</code>
</p></dd>
<dt> <code>nonnull-wchar_t-string-list</code></dt>
<dd><p><code>nonnull-wchar_t-string-list</code>
</p></dd>
<dt> <code>scheme-object</code></dt>
<dd><p><code>scheme-object</code>
</p></dd>
<dt> <code><var>name</var></code></dt>
<dd><p>appropriate translation of <var>name</var> (where <var>name</var>
is a C type defined with <code>c-define-type</code>)
</p></dd>
<dt> <code>&quot;<var>c-type-id</var>&quot;</code></dt>
<dd><p><var>c-type-id</var> (this form is equivalent to <code>(type &quot;<var>c-type-id</var>&quot;)</code>)
</p></dd>
</dl>

<p>The <code>struct</code>, <code>union</code>, <code>type</code>, <code>pointer</code> and
<code>nonnull-pointer</code> types are &ldquo;foreign types&rdquo; and they are
represented on the Scheme side as &ldquo;foreign objects&rdquo;.  A foreign object
is internally represented as a pointer.  This internal pointer is
identical to the C pointer being represented in the case of the
<code>pointer</code> and <code>nonnull-pointer</code> types.
</p>
<p>In the case of the <code>struct</code>, <code>union</code> and <code>type</code> types,
the internal pointer points to a copy of the C data type being
represented.  When an instance of one of these types is converted from C
to Scheme, a block of memory is allocated from the C heap and
initialized with the instance and then a foreign object is allocated
from the Scheme heap and initialized with the pointer to this copy.
This approach may appear overly complex, but it allows the conversion of
C++ classes that do not have a zero parameter constructor or an
assignment method (i.e. when compiling with a C++ compiler an instance
is copied using &lsquo;<samp>new <var>type</var> (<var>instance</var>)</samp>&rsquo;, which calls the
copy-constructor of <var>type</var> if it is a class; <var>type</var>&rsquo;s assignment
operator is never used).  Conversion from Scheme to C simply
dereferences the internal pointer (no allocation from the C heap is
performed).  Deallocation of the copy on the C heap is under the control
of the release function attached to the foreign object (see below).
</p>
<p>The optional <var>tags</var> field of foreign type specifications is used
for type checking on the Scheme side.  The <var>tags</var> field must be
<code>#f</code>, a symbol or a non-empty list of symbols.  When it is not
specified the <var>tags</var> field defaults to a symbol whose name, as
returned by <code>symbol-&gt;string</code>, is the C type declaration for that
type.  For example the symbol &lsquo;<samp>char**</samp>&rsquo; is the default for the
type &lsquo;<samp>(pointer (pointer char))</samp>&rsquo;.  A <var>tags</var> field that is a
single symbol is equivalent to a list containing only that symbol.
The first symbol in the list of tags is the primary tag.  For example
the primary tag of the type &lsquo;<samp>(pointer char)</samp>&rsquo; is &lsquo;<samp>char*</samp>&rsquo; and
the primary tag of the type &lsquo;<samp>(pointer char (foo bar))</samp>&rsquo; is
&lsquo;<samp>foo</samp>&rsquo;.
</p>
<p>Type compatibility between two foreign types depends on their tags.
An instance of a foreign type <var>T</var> can be used where a foreign type
<var>E</var> is expected if and only if
</p>
<ul>
<li>
<var>T</var>&rsquo;s <var>tags</var> field is <code>#f</code>, or

</li><li>
<var>E</var>&rsquo;s <var>tags</var> field is <code>#f</code>, or

</li><li>
<var>T</var>&rsquo;s primary tag is a member of <var>E</var>&rsquo;s tags.

</li></ul>

<p>For the safest code a <var>tags</var> field of <code>#f</code> should be used
sparingly, as it completely bypasses type checking.  The external
representation of Scheme foreign objects (used by the <code>write</code>
procedure) contains the primary tag (if the <var>tags</var> field is not
<code>#f</code>), and the hexadecimal address denoted by the internal
pointer, for example &lsquo;<samp>#&lt;char** #2 0x2AAC535C&gt;</samp>&rsquo;.  Note that the
hexadecimal address is in C notation, which can be easily transferred
to a C debugger with a &ldquo;cut-and-paste&rdquo;.
</p>
<p>A <var>release-function</var> can also be specified within a foreign type
specification.  The <var>release-function</var> must be <code>#f</code> or a string
naming a C function with a single parameter of type &lsquo;<samp>void*</samp>&rsquo; (in
which the internal pointer is passed) and with a result of type
&lsquo;<samp>___SCMOBJ</samp>&rsquo; (for returning an error code).  When the
<var>release-function</var> is not specified or is <code>#f</code> a default
function is constructed by the C-interface.  This default function does
nothing in the case of the <code>pointer</code> and <code>nonnull-pointer</code>
types (deallocation is not the responsibility of the C-interface) and
returns the fixnum &lsquo;<samp>___FIX(___NO_ERR)</samp>&rsquo; to indicate no error.  In
the case of the <code>struct</code>, <code>union</code> and <code>type</code> types, the
default function reclaims the copy on the C heap referenced by the
internal pointer (when using a C++ compiler this is done using
&lsquo;<samp>delete (<var>type</var>*)<var>internal-pointer</var></samp>&rsquo;, which calls the
destructor of <var>type</var> if it is a class) and returns
&lsquo;<samp>___FIX(___NO_ERR)</samp>&rsquo;.  In many situations the default
<var>release-function</var> will perform the appropriate cleanup for the
foreign type.  However, in certain cases special operations (such as
decrementing a reference count, removing the object from a table, etc)
must be performed.  For such cases a user supplied
<var>release-function</var> is needed.
</p>
<p>The <var>release-function</var> is invoked at most once for any foreign
object.  After the <var>release-function</var> is invoked, the foreign
object is considered &ldquo;released&rdquo; and can no longer be used in a
foreign type conversion.  When the garbage collector detects that a
foreign object is no longer reachable by the program, it will invoke
the <var>release-function</var> if the foreign object is not yet released.
When there is a need to release the foreign object promptly, the
program can explicitly call <code>(foreign-release! <var>obj</var>)</code> which
invokes the <var>release-function</var> if the foreign object is not yet
released, and does nothing otherwise.  The call
<code>(foreign-released? <var>obj</var>)</code> returns a boolean indicating
whether the foreign object <var>obj</var> has been released yet or not.
The call <code>(foreign-address <var>obj</var>)</code> returns the address
denoted by the internal pointer of foreign object <var>obj</var> or 0 if it
has been released.  The call <code>(foreign? <var>obj</var>)</code> tests that
<var>obj</var> is a foreign object.  Finally the call <code>(foreign-tags
<var>obj</var>)</code> returns the list of tags of foreign object <var>obj</var>, or
<code>#f</code>.
</p>
<p>The following table gives the C types to which each Scheme type
can be converted:
</p>
<dl compact="compact">
<dt> Scheme type</dt>
<dd><p>Allowed target C types
</p></dd>
<dt> boolean <code>#f</code></dt>
<dd><p><code>scheme-object</code>; <code>bool</code>;
<code>pointer</code>;
<code>function</code>;
<code>char-string</code>;
<code>ISO-8859-1-string</code>;
<code>UTF-8-string</code>;
<code>UTF-16-string</code>;
<code>UCS-2-string</code>;
<code>UCS-4-string</code>;
<code>wchar_t-string</code>
</p></dd>
<dt> boolean <code>#t</code></dt>
<dd><p><code>scheme-object</code>; <code>bool</code>
</p></dd>
<dt> character</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>;
<span class="roman">[</span><code><span class="roman">[</span>un<span class="roman">]</span>signed</code><span class="roman">]</span> <code>char</code>; <code>ISO-8859-1</code>; <code>UCS-2</code>;
<code>UCS-4</code>; <code>wchar_t</code>
</p></dd>
<dt> exact integer</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>; <span class="roman">[</span><code>unsigned-</code><span class="roman">]</span>
<code>int8</code>/<code>int16</code>/<code>int32</code>/<code>int64</code>; <span class="roman">[</span><code>unsigned</code><span class="roman">]</span>
<code>short</code>/<code>int</code>/<code>long</code>; <code>size_t</code>/<code>ssize_t</code>/<code>ptrdiff_t</code>
</p></dd>
<dt> inexact real</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>; <code>float</code>; <code>double</code>; <code>float32</code>; <code>float64</code>
</p></dd>
<dt> string</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>;
<code>char-string</code>;
<code>nonnull-char-string</code>;
<code>ISO-8859-1-string</code>;
<code>nonnull-ISO-8859-1-string</code>;
<code>UTF-8-string</code>;
<code>nonnull-UTF-8-string</code>;
<code>UTF-16-string</code>;
<code>nonnull-UTF-16-string</code>;
<code>UCS-2-string</code>;
<code>nonnull-UCS-2-string</code>;
<code>UCS-4-string</code>;
<code>nonnull-UCS-4-string</code>;
<code>wchar_t-string</code>;
<code>nonnull-wchar_t-string</code>
</p></dd>
<dt> foreign object</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>; <code>struct</code>/<code>union</code>/<code>type</code>/<code>pointer</code>/<code>nonnull-pointer</code> with the appropriate tags
</p></dd>
<dt> vector</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>
</p></dd>
<dt> symbol</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>
</p></dd>
<dt> procedure</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>;
<code>function</code>;
<code>nonnull-function</code>
</p></dd>
<dt> other objects</dt>
<dd><p><code>scheme-object</code>; <code>bool</code>
</p></dd>
</dl>

<p>The following table gives the Scheme types to which each C type
will be converted:
</p>
<dl compact="compact">
<dt> C type</dt>
<dd><p>Resulting Scheme type
</p></dd>
<dt> scheme-object</dt>
<dd><p>the Scheme object encoded
</p></dd>
<dt> bool</dt>
<dd><p>boolean
</p></dd>
<dt> <span class="roman">[</span><code><span class="roman">[</span>un<span class="roman">]</span>signed</code><span class="roman">]</span> <code>char</code>; <code>ISO-8859-1</code>; <code>UCS-2</code>; <code>UCS-4</code>; <code>wchar_t</code></dt>
<dd><p>character
</p></dd>
<dt> <span class="roman">[</span><code>unsigned-</code><span class="roman">]</span> <code>int8</code>/<code>int16</code>/<code>int32</code>/<code>int64</code>; <span class="roman">[</span><code>unsigned</code><span class="roman">]</span> <code>short</code>/<code>int</code>/<code>long</code>; <code>size_t</code>/<code>ssize_t</code>/<code>ptrdiff_t</code></dt>
<dd><p>exact integer
</p></dd>
<dt> <code>float</code>; <code>double</code>; <code>float32</code>; <code>float64</code></dt>
<dd><p>inexact real
</p></dd>
<dt> <code>char-string</code>; <code>ISO-8859-1-string</code>; <code>UTF-8-string</code>; <code>UTF-16-string</code>; <code>UCS-2-string</code>; <code>UCS-4-string</code>; <code>wchar_t-string</code></dt>
<dd><p>string or <code>#f</code> if it is equal to &lsquo;<samp>NULL</samp>&rsquo;
</p></dd>
<dt> <code>nonnull-char-string</code>; <code>nonnull-ISO-8859-1-string</code>; <code>nonnull-UTF-8-string</code>; <code>nonnull-UTF-16-string</code>; <code>nonnull-UCS-2-string</code>; <code>nonnull-UCS-4-string</code>; <code>nonnull-wchar_t-string</code></dt>
<dd><p>string
</p></dd>
<dt> <code>struct</code>/<code>union</code>/<code>type</code>/<code>pointer</code>/<code>nonnull-pointer</code></dt>
<dd><p>foreign object with the appropriate tags
or <code>#f</code> in the case of a <code>pointer</code> equal to &lsquo;<samp>NULL</samp>&rsquo;
</p></dd>
<dt> <code>function</code></dt>
<dd><p>procedure or <code>#f</code> if it is equal to &lsquo;<samp>NULL</samp>&rsquo;
</p></dd>
<dt> <code>nonnull-function</code></dt>
<dd><p>procedure
</p></dd>
<dt> <code>void</code></dt>
<dd><p>void object
</p></dd>
</dl>

<p>All Scheme types are compatible with the C types <code>scheme-object</code>
and <code>bool</code>.  Conversion to and from the C type
<code>scheme-object</code> is the identity function on the object encoding.
This provides a low-level mechanism for accessing Scheme&rsquo;s object
representation from C (with the help of the macros in the
&lsquo;<samp>gambit.h</samp>&rsquo; header file).  When a C <code>bool</code> type is expected,
an extended Scheme boolean can be passed (<code>#f</code> is converted to 0
and all other values are converted to 1).
</p>
<p>The Scheme boolean <code>#f</code> can be passed to the C environment where
a <code>char-string</code>, <code>ISO-8859-1-string</code>, <code>UTF-8-string</code>,
<code>UTF-16-string</code>, <code>UCS-2-string</code>, <code>UCS-4-string</code>,
<code>wchar_t-string</code>, <code>pointer</code> or <code>function</code> type is
expected.  In this case, <code>#f</code> is converted to the &lsquo;<samp>NULL</samp>&rsquo;
pointer.  C <code>bool</code>s are extended booleans so any value different
from 0 represents true.  Thus, a C <code>bool</code> passed to the Scheme
environment is mapped as follows: 0 to <code>#f</code> and all other values
to <code>#t</code>.
</p>
<p>A Scheme character passed to the C environment where any C character
type is expected is converted to the corresponding character in the C
environment.  An error is signaled if the Scheme character does not fit
in the C character.  Any C character type passed to Scheme is converted
to the corresponding Scheme character.  An error is signaled if the C
character does not fit in the Scheme character.
</p>
<p>A Scheme exact integer passed to the C environment where a C integer
type (other than <code>char</code>) is expected is converted to the
corresponding integral value.  An error is signaled if the value falls
outside of the range representable by that integral type.  C integer
values passed to the Scheme environment are mapped to the same Scheme
exact integer.  If the value is outside the fixnum range, a bignum is
created.
</p>
<p>A Scheme inexact real passed to the C environment is converted to the
corresponding <code>float</code>, <code>double</code>, <code>float32</code> or
<code>float64</code> value.  C <code>float</code>, <code>double</code>, <code>float32</code> and
<code>float64</code> values passed to the Scheme environment are mapped to the
closest Scheme inexact real.
</p>
<p>Scheme&rsquo;s rational numbers and complex numbers are not compatible with
any C numeric type.
</p>
<p>A Scheme string passed to the C environment where any C string type is
expected is converted to a null terminated string using the appropriate
encoding.  The C string is a fresh copy of the Scheme string.  If the C
string was created for an argument of a <code>c-lambda</code>, the C string
will be reclaimed when the <code>c-lambda</code> returns.  If the C string was
created for returning the result of a <code>c-define</code> to C, the caller
is responsible for reclaiming the C string with a call to the
<code>___release_string</code> function (see below for an example).  Any C
string type passed to the Scheme environment causes the creation of a
fresh Scheme string containing a copy of the C string (unless the C
string is equal to <code>NULL</code>, in which case it is converted to
<code>#f</code>).
</p>
<p>A foreign type passed to the Scheme environment causes the creation
and initialization of a Scheme foreign object with the appropriate
tags (except for the case of a <code>pointer</code> equal to <code>NULL</code>
which is converted to <code>#f</code>).  A Scheme foreign object can be
passed where a foreign type is expected, on the condition that the
tags are compatible and the Scheme foreign object is not yet released.
The value <code>#f</code> is also acceptable for a <code>pointer</code> type, and
is converted to <code>NULL</code>.
</p>
<p>Scheme procedures defined with the <code>c-define</code> special form can be
passed where the <code>function</code> and <code>nonnull-function</code> types are
expected.  The value <code>#f</code> is also acceptable for a <code>function</code>
type, and is converted to <code>NULL</code>.  No other Scheme procedures are
acceptable.  Conversion from the <code>function</code> and
<code>nonnull-function</code> types to Scheme procedures is not currently
implemented.
</p>
<a name="c_002ddeclare"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#mapping-of-types" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#c_002dinitialize" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-c_002ddeclare-special-form"></a>
<h2 class="section">19.2 The <code>c-declare</code> special form</h2>
<a name="index-c_002ddeclare"></a>

<a name="Definition_of_c-declare"></a><a name="Special_form_c-declare"></a><a name="index-c_002ddeclare-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_c-declare">c-declare</a></b></code><i> <span class="roman"><i>c-declaration</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>Initially, the C file produced by <code>gsc</code> contains only an
&lsquo;<samp>#include</samp>&rsquo; of &lsquo;<samp>gambit.h</samp>&rsquo;.  This header file provides a
number of macro and procedure declarations to access the Scheme object
representation.  The special form <code>c-declare</code> adds
<i>c-declaration</i> (which must be a string containing the C
declarations) to the C file.  This string is copied to the C file on a
new line so it can start with preprocessor directives.  All types of C
declarations are allowed (including type declarations, variable
declarations, function declarations, &lsquo;<samp>#include</samp>&rsquo; directives,
&lsquo;<samp>#define</samp>&rsquo;s, and so on).  These declarations are visible to
subsequent <code>c-declare</code>s, <code>c-initialize</code>s, and
<code>c-lambda</code>s, and <code>c-define</code>s in the same module.  The most
common use of this special form is to declare the external functions
that are referenced in <code>c-lambda</code> special forms.  Such functions
must either be declared explicitly or by including a header file which
contains the appropriate C declarations.
</p>
<p>The <code>c-declare</code> special form does not return a value.
It can only appear at top level.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-declare #&lt;&lt;c-declare-end

#include &lt;stdio.h&gt;

extern char *getlogin ();

#ifdef sparc
char *host = &quot;sparc&quot;;
#else
char *host = &quot;unknown&quot;;
#endif

FILE *tfile;

c-declare-end
)
</pre></td></tr></table>



<a name="c_002dinitialize"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#c_002ddeclare" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#c_002dlambda" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-c_002dinitialize-special-form"></a>
<h2 class="section">19.3 The <code>c-initialize</code> special form</h2>
<a name="index-c_002dinitialize"></a>

<a name="Definition_of_c-initialize"></a><a name="Special_form_c-initialize"></a><a name="index-c_002dinitialize-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_c-initialize">c-initialize</a></b></code><i> <span class="roman"><i>c-code</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>Just after the program is loaded and before control is passed to the
Scheme code, each C file is initialized by calling its associated
initialization function.  The body of this function is normally empty
but it can be extended by using the <code>c-initialize</code> form.  Each
occurence of the <code>c-initialize</code> form adds code to the body of the
initialization function in the order of appearance in the source file.
<i>c-code</i> must be a string containing the C code to execute.  This
string is copied to the C file on a new line so it can start with
preprocessor directives.
</p>
<p>The <code>c-initialize</code> special form does not return a value.
It can only appear at top level.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-initialize &quot;tfile = tmpfile ();&quot;)
</pre></td></tr></table>



<a name="c_002dlambda"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#c_002dinitialize" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#c_002ddefine" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-c_002dlambda-special-form"></a>
<h2 class="section">19.4 The <code>c-lambda</code> special form</h2>
<a name="index-c_002dlambda"></a>

<a name="Definition_of_c-lambda"></a><a name="Special_form_c-lambda"></a><a name="index-c_002dlambda-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_c-lambda">c-lambda</a></b></code><i> (<span class="roman"><i>type1</i></span>&hellip;) <span class="roman"><i>result-type</i></span> <span class="roman"><i>c-name-or-code</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>The <code>c-lambda</code> special form makes it possible to create a Scheme
procedure that will act as a representative of some C function or C code
sequence.  The first subform is a list containing the type of each
argument.  The type of the function&rsquo;s result is given next.  Finally,
the last subform is a string that either contains the name of the C
function to call or some sequence of C code to execute.  Variadic C
functions are not supported.  The resulting Scheme procedure takes
exactly the number of arguments specified and delivers them in the same
order to the C function.  When the Scheme procedure is called, the
arguments will be converted to their C representation and then the C
function will be called.  The result returned by the C function will be
converted to its Scheme representation and this value will be returned
from the Scheme procedure call.  An error will be signaled if some
conversion is not possible.  The temporary memory allocated from the C
heap for the conversion of the arguments and result will be reclaimed
whether there is an error or not.
</p>
<p>When <i>c-name-or-code</i> is not a valid C identifier, it is treated
as an arbitrary piece of C code.  Within the C code the variables
&lsquo;<samp>___arg1</samp>&rsquo;, &lsquo;<samp>___arg2</samp>&rsquo;, etc. can be referenced to access the
converted arguments.  Similarly, the result to be returned from the
call should be assigned to the variable &lsquo;<samp>___result</samp>&rsquo; except when
the result is of type <code>struct</code>, <code>union</code>, <code>type</code>,
<code>pointer</code>, <code>nonnull-pointer</code>, <code>function</code> or
<code>nonnull-function</code> in which case a pointer must be assigned to
the variable &lsquo;<samp>___result_voidstar</samp>&rsquo; which is of type &lsquo;<samp>void*</samp>&rsquo;.
For results of type <code>pointer</code>, <code>nonnull-pointer</code>,
<code>function</code> and <code>nonnull-function</code>, the value assigned to the
variable &lsquo;<samp>___result_voidstar</samp>&rsquo; must be the pointer or function
cast to &lsquo;<samp>void*</samp>&rsquo;.  For results of type <code>struct</code>,
<code>union</code>, and <code>type</code>, the value assigned to the variable
&lsquo;<samp>___result_voidstar</samp>&rsquo; must be a pointer to a memory allocated
block containing a copy of the result.  Note that this block will be
reclaimed by the <var>release-function</var> associated with the type.
If no result needs to be returned, the <i>result-type</i> should be
<code>void</code> and no assignment to the variable &lsquo;<samp>___result</samp>&rsquo; or
&lsquo;<samp>___result_voidstar</samp>&rsquo; should take place.  Note that the C code
should not contain <code>return</code> statements as this is meaningless.
Control must always fall off the end of the C code.  The C code is
copied to the C file on a new line so it can start with preprocessor
directives.  Moreover the C code is always placed at the head of a
compound statement whose lifetime encloses the C to Scheme conversion of
the result.  Consequently, temporary storage (strings in particular)
declared at the head of the C code can be returned by assigning them to
&lsquo;<samp>___result</samp>&rsquo; or &lsquo;<samp>___result_voidstar</samp>&rsquo;.  In the
<i>c-name-or-code</i>, the macro &lsquo;<samp>___AT_END</samp>&rsquo; may be defined as the
piece of C code to execute before control is returned to Scheme but
after the result is converted to its Scheme representation.  This is
mainly useful to deallocate temporary storage contained in the result.
</p>
<p>When passed to the Scheme environment, the C <code>void</code> type is
converted to the void object.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(define fopen
  (c-lambda (nonnull-char-string nonnull-char-string)
            (pointer &quot;FILE&quot;)
   &quot;fopen&quot;))

(define fgetc
  (c-lambda ((pointer &quot;FILE&quot;))
            int
   &quot;fgetc&quot;))

(let ((f (fopen &quot;datafile&quot; &quot;r&quot;)))
  (if f (write (fgetc f))))

(define char-code
  (c-lambda (char) int &quot;___result = ___arg1;&quot;))

(define host
  ((c-lambda () nonnull-char-string &quot;___result = host;&quot;)))

(define stdin
  ((c-lambda () (pointer &quot;FILE&quot;) &quot;___result_voidstar = stdin;&quot;)))

((c-lambda () void
#&lt;&lt;c-lambda-end
  printf( &quot;hello\n&quot; );
  printf( &quot;world\n&quot; );
c-lambda-end
))

(define pack-1-char
  (c-lambda (char)
            nonnull-char-string
#&lt;&lt;c-lambda-end
   ___result = malloc (2);
   if (___result != NULL) { ___result[0] = ___arg1; ___result[1] = 0; }
   #define ___AT_END if (___result != NULL) free (___result);
c-lambda-end
))

(define pack-2-chars
  (c-lambda (char char)
            nonnull-char-string
#&lt;&lt;c-lambda-end
   char s[3];
   s[0] = ___arg1;
   s[1] = ___arg2;
   s[2] = 0;
   ___result = s;
c-lambda-end
))
</pre></td></tr></table>



<a name="c_002ddefine"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#c_002dlambda" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#c_002ddefine_002dtype" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-c_002ddefine-special-form"></a>
<h2 class="section">19.5 The <code>c-define</code> special form</h2>
<a name="index-c_002ddefine"></a>

<a name="Definition_of_c-define"></a><a name="Special_form_c-define"></a><a name="index-c_002ddefine-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_c-define">c-define</a></b></code><i> (<span class="roman"><i>variable</i></span> <span class="roman"><i>define-formals</i></span>) (<span class="roman"><i>type1</i></span>&hellip;) <span class="roman"><i>result-type</i></span> <span class="roman"><i>c-name</i></span> <span class="roman"><i>scope</i></span> <span class="roman"><i>body</i></span></i><code>)</code></td><td align="right">special form</td></tr></table>
  
<p>The <code>c-define</code> special form makes it possible to create a C
function that will act as a representative of some Scheme procedure.  A
C function named <i>c-name</i> as well as a Scheme procedure bound to the
variable <i>variable</i> are defined.  The parameters of the Scheme
procedure are <i>define-formals</i> and its body is at the end of the
form.  The type of each argument of the C function, its result type and
<i>c-name</i> (which must be a string) are specified after the parameter
specification of the Scheme procedure.  When the C function <i>c-name</i>
is called from C, its arguments are converted to their Scheme
representation and passed to the Scheme procedure.  The result of the
Scheme procedure is then converted to its C representation and the C
function <i>c-name</i> returns it to its caller.
</p>
<p>The scope of the C function can be changed with the <i>scope</i>
parameter, which must be a string.  This string is placed immediately
before the declaration of the C function.  So if <i>scope</i> is the
string <code>&quot;static&quot;</code>, the scope of <i>c-name</i> is local to the module
it is in, whereas if <i>scope</i> is the empty string, <i>c-name</i> is
visible from other modules.
</p>
<p>The <code>c-define</code> special form does not return a value.
It can only appear at top level.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-define (proc x #!optional (y x) #!rest z) (int int char float) int &quot;f&quot; &quot;&quot;
  (write (cons x (cons y z)))
  (newline)
  (+ x y))

(proc 1 2 #\x 1.5) =&gt; 3 and prints (1 2 #\x 1.5)
(proc 1)           =&gt; 2 and prints (1 1)

; if f is called from C with the call  f (1, 2, 'x', 1.5)
; the value 3 is returned and (1 2 #\x 1.5) is printed.
; f has to be called with 4 arguments.
</pre></td></tr></table>

<a name="index-_005f_005f_005fsetup"></a>
<a name="index-_005f_005f_005fcleanup"></a>
<p>The <code>c-define</code> special form is particularly useful when the
driving part of an application is written in C and Scheme procedures
are called directly from C.  The Scheme part of the application is in
a sense a &ldquo;server&rdquo; that is providing services to the C part.  The
Scheme procedures that are to be called from C need to be defined
using the <code>c-define</code> special form.  Before it can be used, the
Scheme part must be initialized with a call to the function
&lsquo;<samp>___setup</samp>&rsquo;.  Before the program terminates, it must call the
function &lsquo;<samp>___cleanup</samp>&rsquo; so that the Scheme part may do final
cleanup.  A sample application is given in the file
&lsquo;<samp>tests/server.scm</samp>&rsquo;.
</p>


<a name="c_002ddefine_002dtype"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#c_002ddefine" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#continuations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="The-c_002ddefine_002dtype-special-form"></a>
<h2 class="section">19.6 The <code>c-define-type</code> special form</h2>
<a name="index-c_002ddefine_002dtype"></a>

<a name="Definition_of_c-define-type"></a><a name="Special_form_c-define-type"></a><a name="index-c_002ddefine_002dtype-1"></a><table width="100%"><tr><td align="left"> <code>(</code><code><b><a href="event:browse:http://gambitscheme.org/wiki/index.php?title=Documentation:Special_form_c-define-type">c-define-type</a></b></code><i> <span class="roman"><i>name</i></span> <span class="roman"><i>type</i></span> <span class="roman">[</span><span class="roman"><i>c-to-scheme</i></span> <span class="roman"><i>scheme-to-c</i></span> <span class="roman">[</span><span class="roman"><i>cleanup</i></span><span class="roman">]</span><span class="roman">]</span></i><code>)</code></td><td align="right">special form</td></tr></table>

<p>This form associates the type identifier <i>name</i> to the C type
<i>type</i>.  The <i>name</i> must not clash with predefined types
(e.g. <code>char-string</code>, <code>ISO-8859-1</code>, etc.) or with types previously
defined with <code>c-define-type</code> in the same file.  The
<code>c-define-type</code> special form does not return a value.  It can only
appear at top level.
</p>
<p>If only the two parameters <i>name</i> and <i>type</i> are supplied then
after this definition, the use of <i>name</i> in a type specification is
synonymous to <i>type</i>.
</p>
<p>For example:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-define-type FILE &quot;FILE&quot;)
(c-define-type FILE* (pointer FILE))
(c-define-type time-struct-ptr (pointer (struct &quot;tms&quot;)))
(define fopen (c-lambda (char-string char-string) FILE* &quot;fopen&quot;))
(define fgetc (c-lambda (FILE*) int &quot;fgetc&quot;))
</pre></td></tr></table>

<p>Note that identifiers are not case-sensitive in standard Scheme but it
is good programming practice to use a <i>name</i> with the same case as
in C.
</p>
<p>If four or more parameters are supplied, then <i>type</i> must be a
string naming the C type, <i>c-to-scheme</i> and <i>scheme-to-c</i> must
be strings suffixing the C macros that convert data of that type between
C and Scheme.  If <i>cleanup</i> is supplied it must be a boolean
indicating whether it is necessary to perform a cleanup operation (such
as freeing memory) when data of that type is converted from Scheme to C
(it defaults to <code>#t</code>).  The cleanup information is used when the C
stack is unwound due to a continuation invocation (see
<a href="#continuations">Continuations and the C-interface</a>).  Although it is safe to always specify <code>#t</code>,
it is more efficient in time and space to specify <code>#f</code> because the
unwinding mechanism can skip C-interface frames which only contain
conversions of data types requiring no cleanup.  Two pairs of C macros
need to be defined for conversions performed by <code>c-lambda</code> forms
and two pairs for conversions performed by <code>c-define</code> forms:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>___BEGIN_CFUN_<span class="roman"><i>scheme-to-c</i></span>(___SCMOBJ, <span class="roman"><i>type</i></span>, int)
___END_CFUN_<span class="roman"><i>scheme-to-c</i></span>(___SCMOBJ, <span class="roman"><i>type</i></span>, int)

___BEGIN_CFUN_<span class="roman"><i>c-to-scheme</i></span>(<span class="roman"><i>type</i></span>, ___SCMOBJ)
___END_CFUN_<span class="roman"><i>c-to-scheme</i></span>(<span class="roman"><i>type</i></span>, ___SCMOBJ)

___BEGIN_SFUN_<span class="roman"><i>c-to-scheme</i></span>(<span class="roman"><i>type</i></span>, ___SCMOBJ, int)
___END_SFUN_<span class="roman"><i>c-to-scheme</i></span>(<span class="roman"><i>type</i></span>, ___SCMOBJ, int)

___BEGIN_SFUN_<span class="roman"><i>scheme-to-c</i></span>(___SCMOBJ, <span class="roman"><i>type</i></span>)
___END_SFUN_<span class="roman"><i>scheme-to-c</i></span>(___SCMOBJ, <span class="roman"><i>type</i></span>)
</pre></td></tr></table>

<p>The macros prefixed with <code>___BEGIN</code> perform the conversion and
those prefixed with <code>___END</code> perform any cleanup necessary (such as
freeing memory temporarily allocated for the conversion).  The macro
<code>___END_CFUN_<span class="roman"><i>scheme-to-c</i></span></code> must free the result of the
conversion if it is memory allocated, and
<code>___END_SFUN_<span class="roman"><i>scheme-to-c</i></span></code> must not (i.e. it is the
responsibility of the caller to free the result).
</p>
<p>The first parameter of these macros is the C variable that contains the
value to be converted, and the second parameter is the C variable in
which to store the converted value.  The third parameter, when present,
is the index (starting at 1) of the parameter of the <code>c-lambda</code> or
<code>c-define</code> form that is being converted (this is useful for
reporting precise error information when a conversion is impossible).
</p>
<p>To allow for type checking, the first three <code>___BEGIN</code> macros must
expand to an unterminated compound statement prefixed by an <code>if</code>,
conditional on the absence of type check error:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>if ((___err = <var>conversion_operation</var>) == ___FIX(___NO_ERR)) {
</pre></td></tr></table>

<p>The last <code>___BEGIN</code> macro must expand to an unterminated compound
statement:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>{ ___err = <var>conversion_operation</var>;
</pre></td></tr></table>

<p>If type check errors are impossible then a <code>___BEGIN</code> macro can
simply expand to an unterminated compound statement performing the
conversion:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>{ <var>conversion_operation</var>;
</pre></td></tr></table>

<p>The <code>___END</code> macros must expand to a statement, or to nothing if no
cleanup is required, followed by a closing brace (to terminate the
compound statement started at the corresponding <code>___BEGIN</code> macro).
</p>
<p>The <var>conversion_operation</var> is typically a function call that returns
an error code value of type <code>___SCMOBJ</code> (the error codes are defined in
&lsquo;<samp>gambit.h</samp>&rsquo;, and the error code <code>___FIX(___UNKNOWN_ERR)</code> is available
for generic errors).  <var>conversion_operation</var> can also set the
variable <code>___errmsg</code> of type <code>___SCMOBJ</code> to a specific Scheme
string error message.
</p>
<p>Below is a simple example showing how to interface to an &lsquo;<samp>EBCDIC</samp>&rsquo;
character type.  Memory allocation is not needed for conversion and type
check errors are impossible when converting EBCDIC to Scheme characters,
but they are possible when converting from Scheme characters to EBCDIC
since Gambit supports Unicode characters.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-declare #&lt;&lt;c-declare-end

typedef char EBCDIC; /* EBCDIC encoded characters */

void put_char (EBCDIC c) { ... } /* EBCDIC I/O functions */
EBCDIC get_char (void) { ... }

char EBCDIC_to_ISO_8859_1[256] = { ... }; /* conversion tables */
char ISO_8859_1_to_EBCDIC[256] = { ... };

___SCMOBJ SCMOBJ_to_EBCDIC (___SCMOBJ src, EBCDIC *dst)
{
  int x = ___INT(src); /* convert from Scheme character to int */
  if (x &gt; 255) return ___FIX(___UNKNOWN_ERR);
  *dst = ISO_8859_1_to_EBCDIC[x];
  return ___FIX(___NO_ERR);
}

#define ___BEGIN_CFUN_SCMOBJ_to_EBCDIC(src,dst,i) \
if ((___err = SCMOBJ_to_EBCDIC (src, &amp;dst)) == ___FIX(___NO_ERR)) {
#define ___END_CFUN_SCMOBJ_to_EBCDIC(src,dst,i) }

#define ___BEGIN_CFUN_EBCDIC_to_SCMOBJ(src,dst) \
{ dst = ___CHR(EBCDIC_to_ISO_8859_1[src]);
#define ___END_CFUN_EBCDIC_to_SCMOBJ(src,dst) }

#define ___BEGIN_SFUN_EBCDIC_to_SCMOBJ(src,dst,i) \
{ dst = ___CHR(EBCDIC_to_ISO_8859_1[src]);
#define ___END_SFUN_EBCDIC_to_SCMOBJ(src,dst,i) }

#define ___BEGIN_SFUN_SCMOBJ_to_EBCDIC(src,dst) \
{ ___err = SCMOBJ_to_EBCDIC (src, &amp;dst);
#define ___END_SFUN_SCMOBJ_to_EBCDIC(src,dst) }

c-declare-end
)

(c-define-type EBCDIC &quot;EBCDIC&quot; &quot;EBCDIC_to_SCMOBJ&quot; &quot;SCMOBJ_to_EBCDIC&quot; #f)

(define put-char (c-lambda (EBCDIC) void &quot;put_char&quot;))
(define get-char (c-lambda () EBCDIC &quot;get_char&quot;))

(c-define (write-EBCDIC c) (EBCDIC) void &quot;write_EBCDIC&quot; &quot;&quot;
  (write-char c))

(c-define (read-EBCDIC) () EBCDIC &quot;read_EBCDIC&quot; &quot;&quot;
  (read-char))
</pre></td></tr></table>

<p>Below is a more complex example that requires memory allocation when
converting from C to Scheme.  It is an interface to a 2D &lsquo;<samp>point</samp>&rsquo;
type which is represented in Scheme by a pair of integers.  The
conversion of the <code>x</code> and <code>y</code> components is done by calls to
the conversion macros for the <code>int</code> type (defined in
&lsquo;<samp>gambit.h</samp>&rsquo;).  Note that no cleanup is necessary when converting
from Scheme to C (i.e. the last parameter of the <code>c-define-type</code> is
<code>#f</code>).
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-declare #&lt;&lt;c-declare-end

typedef struct { int x, y; } point;

void line_to (point p) { ... }
point get_mouse (void) { ... }
point add_points (point p1, point p2) { ... }

___SCMOBJ SCMOBJ_to_POINT (___SCMOBJ src, point *dst, int arg_num)
{
  ___SCMOBJ ___err = ___FIX(___NO_ERR);
  if (!___PAIRP(src))
    ___err = ___FIX(___UNKNOWN_ERR);
  else
    {
      ___SCMOBJ car = ___CAR(src);
      ___SCMOBJ cdr = ___CDR(src);
      ___BEGIN_CFUN_SCMOBJ_TO_INT(car,dst-&gt;x,arg_num)
      ___BEGIN_CFUN_SCMOBJ_TO_INT(cdr,dst-&gt;y,arg_num)
      ___END_CFUN_SCMOBJ_TO_INT(cdr,dst-&gt;y,arg_num)
      ___END_CFUN_SCMOBJ_TO_INT(car,dst-&gt;x,arg_num)
    }
  return ___err;
}

___SCMOBJ POINT_to_SCMOBJ (point src, ___SCMOBJ *dst, int arg_num)
{
  ___SCMOBJ ___err = ___FIX(___NO_ERR);
  ___SCMOBJ x_scmobj;
  ___SCMOBJ y_scmobj;
  ___BEGIN_SFUN_INT_TO_SCMOBJ(src.x,x_scmobj,arg_num)
  ___BEGIN_SFUN_INT_TO_SCMOBJ(src.y,y_scmobj,arg_num)
  *dst = ___EXT(___make_pair) (x_scmobj, y_scmobj, ___STILL);
  if (___FIXNUMP(*dst))
    ___err = *dst; /* return allocation error */
  ___END_SFUN_INT_TO_SCMOBJ(src.y,y_scmobj,arg_num)
  ___END_SFUN_INT_TO_SCMOBJ(src.x,x_scmobj,arg_num)
  return ___err;
}

#define ___BEGIN_CFUN_SCMOBJ_to_POINT(src,dst,i) \
if ((___err = SCMOBJ_to_POINT (src, &amp;dst, i)) == ___FIX(___NO_ERR)) {
#define ___END_CFUN_SCMOBJ_to_POINT(src,dst,i) }

#define ___BEGIN_CFUN_POINT_to_SCMOBJ(src,dst) \
if ((___err = POINT_to_SCMOBJ (src, &amp;dst, ___RETURN_POS)) == ___FIX(___NO_ERR)) {
#define ___END_CFUN_POINT_to_SCMOBJ(src,dst) \
___EXT(___release_scmobj) (dst); }

#define ___BEGIN_SFUN_POINT_to_SCMOBJ(src,dst,i) \
if ((___err = POINT_to_SCMOBJ (src, &amp;dst, i)) == ___FIX(___NO_ERR)) {
#define ___END_SFUN_POINT_to_SCMOBJ(src,dst,i) \
___EXT(___release_scmobj) (dst); }

#define ___BEGIN_SFUN_SCMOBJ_to_POINT(src,dst) \
{ ___err = SCMOBJ_to_POINT (src, &amp;dst, ___RETURN_POS);
#define ___END_SFUN_SCMOBJ_to_POINT(src,dst) }

c-declare-end
)

(c-define-type point &quot;point&quot; &quot;POINT_to_SCMOBJ&quot; &quot;SCMOBJ_to_POINT&quot; #f)

(define line-to (c-lambda (point) void &quot;line_to&quot;))
(define get-mouse (c-lambda () point &quot;get_mouse&quot;))
(define add-points (c-lambda (point point) point &quot;add_points&quot;))

(c-define (write-point p) (point) void &quot;write_point&quot; &quot;&quot;
  (write p))

(c-define (read-point) () point &quot;read_point&quot; &quot;&quot;
  (read))
</pre></td></tr></table>

<p>An example that requires memory allocation when converting from C to
Scheme and Scheme to C is shown below.  It is an interface to a
&ldquo;null-terminated array of strings&rdquo; type which is represented in Scheme
by a list of strings.  Note that some cleanup is necessary when
converting from Scheme to C.
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-declare #&lt;&lt;c-declare-end

#include &lt;stdlib.h&gt;
#include &lt;unistd.h&gt;

extern char **environ;

char **get_environ (void) { return environ; }

void free_strings (char **strings)
{
  char **ptr = strings;
  while (*ptr != NULL)
    {
      ___EXT(___release_string) (*ptr);
      ptr++;
    }
  free (strings);
}

___SCMOBJ SCMOBJ_to_STRINGS (___SCMOBJ src, char ***dst, int arg_num)
{
  /*
   * Src is a list of Scheme strings.  Dst will be a null terminated
   * array of C strings.
   */

  int i;
  ___SCMOBJ lst = src;
  int len = 4; /* start with a small result array */
  char **result = (char**) malloc (len * sizeof (char*));

  if (result == NULL)
    return ___FIX(___HEAP_OVERFLOW_ERR);

  i = 0;
  result[i] = NULL; /* always keep array null terminated */

  while (___PAIRP(lst))
    {
      ___SCMOBJ scm_str = ___CAR(lst);
      char *c_str;
      ___SCMOBJ ___err;

      if (i &gt;= len-1) /* need to grow the result array? */
        {
          char **new_result;
          int j;

          len = len * 3 / 2;
          new_result = (char**) malloc (len * sizeof (char*));
          if (new_result == NULL)
            {
              free_strings (result);
              return ___FIX(___HEAP_OVERFLOW_ERR);
            }
          for (j=i; j&gt;=0; j--)
            new_result[j] = result[j];
          free (result);
          result = new_result;
        }

      ___err = ___EXT(___SCMOBJ_to_CHARSTRING) (scm_str, &amp;c_str, arg_num);

      if (___err != ___FIX(___NO_ERR))
        {
          free_strings (result);
          return ___err;
        }

      result[i++] = c_str;
      result[i] = NULL;
      lst = ___CDR(lst);
    }

  if (!___NULLP(lst))
    {
      free_strings (result);
      return ___FIX(___UNKNOWN_ERR);
    }

  /*
   * Note that the caller is responsible for calling free_strings
   * when it is done with the result.
   */

  *dst = result;
  return ___FIX(___NO_ERR);
}

___SCMOBJ STRINGS_to_SCMOBJ (char **src, ___SCMOBJ *dst, int arg_num)
{
  ___SCMOBJ ___err = ___FIX(___NO_ERR);
  ___SCMOBJ result = ___NUL; /* start with the empty list */
  int i = 0;

  while (src[i] != NULL)
    i++;

  /* build the list of strings starting at the tail */

  while (--i &gt;= 0)
    {
      ___SCMOBJ scm_str;
      ___SCMOBJ new_result;

      /*
       * Invariant: result is either the empty list or a ___STILL pair
       * with reference count equal to 1.  This is important because
       * it is possible that ___CHARSTRING_to_SCMOBJ and ___make_pair
       * will invoke the garbage collector and we don't want the
       * reference in result to become invalid (which would be the
       * case if result was a ___MOVABLE pair or if it had a zero
       * reference count).
       */

      ___err = ___EXT(___CHARSTRING_to_SCMOBJ) (src[i], &amp;scm_str, arg_num);

      if (___err != ___FIX(___NO_ERR))
        {
          ___EXT(___release_scmobj) (result); /* allow GC to reclaim result */
          return ___FIX(___UNKNOWN_ERR);
        }

      /*
       * Note that scm_str will be a ___STILL object with reference
       * count equal to 1, so there is no risk that it will be
       * reclaimed or moved if ___make_pair invokes the garbage
       * collector.
       */

      new_result = ___EXT(___make_pair) (scm_str, result, ___STILL);

      /*
       * We can zero the reference count of scm_str and result (if
       * not the empty list) because the pair now references these
       * objects and the pair is reachable (it can't be reclaimed
       * or moved by the garbage collector).
       */

      ___EXT(___release_scmobj) (scm_str);
      ___EXT(___release_scmobj) (result);

      result = new_result;

      if (___FIXNUMP(result))
        return result; /* allocation failed */
    }

  /*
   * Note that result is either the empty list or a ___STILL pair
   * with a reference count equal to 1.  There will be a call to
   * ___release_scmobj later on (in ___END_CFUN_STRINGS_to_SCMOBJ
   * or ___END_SFUN_STRINGS_to_SCMOBJ) that will allow the garbage
   * collector to reclaim the whole list of strings when the Scheme
   * world no longer references it.
   */

  *dst = result;
  return ___FIX(___NO_ERR);
}

#define ___BEGIN_CFUN_SCMOBJ_to_STRINGS(src,dst,i) \
if ((___err = SCMOBJ_to_STRINGS (src, &amp;dst, i)) == ___FIX(___NO_ERR)) {
#define ___END_CFUN_SCMOBJ_to_STRINGS(src,dst,i) \
free_strings (dst); }

#define ___BEGIN_CFUN_STRINGS_to_SCMOBJ(src,dst) \
if ((___err = STRINGS_to_SCMOBJ (src, &amp;dst, ___RETURN_POS)) == ___FIX(___NO_ERR)) {
#define ___END_CFUN_STRINGS_to_SCMOBJ(src,dst) \
___EXT(___release_scmobj) (dst); }

#define ___BEGIN_SFUN_STRINGS_to_SCMOBJ(src,dst,i) \
if ((___err = STRINGS_to_SCMOBJ (src, &amp;dst, i)) == ___FIX(___NO_ERR)) {
#define ___END_SFUN_STRINGS_to_SCMOBJ(src,dst,i) \
___EXT(___release_scmobj) (dst); }

#define ___BEGIN_SFUN_SCMOBJ_to_STRINGS(src,dst) \
{ ___err = SCMOBJ_to_STRINGS (src, &amp;dst, ___RETURN_POS);
#define ___END_SFUN_SCMOBJ_to_STRINGS(src,dst) }

c-declare-end
)

(c-define-type char** &quot;char**&quot; &quot;STRINGS_to_SCMOBJ&quot; &quot;SCMOBJ_to_STRINGS&quot;)

(define execv (c-lambda (char-string char**) int &quot;execv&quot;))
(define get-environ (c-lambda () char** &quot;get_environ&quot;))

(c-define (write-strings x) (char**) void &quot;write_strings&quot; &quot;&quot;
  (write x))

(c-define (read-strings) () char** &quot;read_strings&quot; &quot;&quot;
  (read))
</pre></td></tr></table>



<a name="continuations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#c_002ddefine_002dtype" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#System-limitations" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Continuations-and-the-C_002dinterface"></a>
<h2 class="section">19.7 Continuations and the C-interface</h2>
<a name="index-continuations"></a>

<p>The C-interface allows C to Scheme calls to be nested.  This means
that during a call from C to Scheme another call from C to Scheme
can be performed.  This case occurs in the following program:
</p>
<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>(c-declare #&lt;&lt;c-declare-end

int p (char *); /* forward declarations */
int q (void);

int a (char *x) { return 2 * p (x+1); }
int b (short y) { return y + q (); }

c-declare-end
)

(define a (c-lambda (char-string) int &quot;a&quot;))
(define b (c-lambda (short) int &quot;b&quot;))

(c-define (p z) (char-string) int &quot;p&quot; &quot;&quot;
  (+ (b 10) (string-length z)))

(c-define (q) () int &quot;q&quot; &quot;&quot;
  123)

(write (a &quot;hello&quot;))
</pre></td></tr></table>

<p>In this example, the main Scheme program calls the C function &lsquo;<samp>a</samp>&rsquo;
which calls the Scheme procedure &lsquo;<samp>p</samp>&rsquo; which in turn calls the C
function &lsquo;<samp>b</samp>&rsquo; which finally calls the Scheme procedure &lsquo;<samp>q</samp>&rsquo;.
</p>
<p>Gambit-C maintains the Scheme continuation separately from the C stack,
thus allowing the Scheme continuation to be unwound independently from
the C stack.  The C stack frame created for the C function &lsquo;<samp>f</samp>&rsquo; is
only removed from the C stack when control returns from &lsquo;<samp>f</samp>&rsquo; or when
control returns to a C function &ldquo;above&rdquo; &lsquo;<samp>f</samp>&rsquo;.  Special care is
required for programs which escape to Scheme (using first-class
continuations) from a Scheme to C (to Scheme) call because the C stack
frame will remain on the stack.  The C stack may overflow if this
happens in a loop with no intervening return to a C function.  To avoid
this problem make sure the C stack gets cleaned up by executing a normal
return from a Scheme to C call.
</p>
<a name="System-limitations"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#continuations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#Copyright-and-license" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#C_002dinterface" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Copyright-and-license" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="System-limitations-1"></a>
<h1 class="chapter">20. System limitations</h1>
<a name="index-limitations"></a>

<ul>
<li>
<a name="index-floating-point-overflow"></a>
<a name="index-overflow_002c-floating-point"></a>
On some systems floating point overflows will cause the program to
terminate with a floating point exception.

</li><li>
On some systems floating point operations involving &lsquo;<samp>+nan.0</samp>&rsquo;
&lsquo;<samp>+inf.0</samp>&rsquo;, &lsquo;<samp>-inf.0</samp>&rsquo;, or &lsquo;<samp>-0.</samp>&rsquo; do not return the
value required by the IEEE 754 floating point standard.

</li><li>
<a name="index-define-1"></a>
<a name="index-set_0021"></a>
The compiler will not properly compile files with more than one
definition (with <code>define</code>) of the same procedure.  Replace all
but the first <code>define</code> with assignments (<code>set!</code>).

</li><li>
The maximum number of arguments that can be passed to a procedure by
the <code>apply</code> procedure is 8192.

</li></ul>

<a name="Copyright-and-license"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#System-limitations" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Next section in reading order"><img src="button-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#System-limitations" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#General-index" title="Next chapter"><img src="button-right-right.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="Copyright-and-license-1"></a>
<h1 class="chapter">21. Copyright and license</h1>

<p>The Gambit-C system release v4.7.3 is Copyright &copy;
1994-2009 by Marc Feeley, all rights reserved.  The Gambit-C system
release v4.7.3 is licensed under two licenses: the Apache
License, Version 2.0, and the GNU LESSER GENERAL PUBLIC LICENSE,
Version 2.1.  You have the option to choose which of these two
licenses to abide by.  The licenses are copied below.
</p>


<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>
                              Apache License
                        Version 2.0, January 2004
                     http://www.apache.org/licenses/

TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION

1. Definitions.

   &quot;License&quot; shall mean the terms and conditions for use, reproduction,
   and distribution as defined by Sections 1 through 9 of this document.

   &quot;Licensor&quot; shall mean the copyright owner or entity authorized by
   the copyright owner that is granting the License.

   &quot;Legal Entity&quot; shall mean the union of the acting entity and all
   other entities that control, are controlled by, or are under common
   control with that entity. For the purposes of this definition,
   &quot;control&quot; means (i) the power, direct or indirect, to cause the
   direction or management of such entity, whether by contract or
   otherwise, or (ii) ownership of fifty percent (50%) or more of the
   outstanding shares, or (iii) beneficial ownership of such entity.

   &quot;You&quot; (or &quot;Your&quot;) shall mean an individual or Legal Entity
   exercising permissions granted by this License.

   &quot;Source&quot; form shall mean the preferred form for making modifications,
   including but not limited to software source code, documentation
   source, and configuration files.

   &quot;Object&quot; form shall mean any form resulting from mechanical
   transformation or translation of a Source form, including but
   not limited to compiled object code, generated documentation,
   and conversions to other media types.

   &quot;Work&quot; shall mean the work of authorship, whether in Source or
   Object form, made available under the License, as indicated by a
   copyright notice that is included in or attached to the work
   (an example is provided in the Appendix below).

   &quot;Derivative Works&quot; shall mean any work, whether in Source or Object
   form, that is based on (or derived from) the Work and for which the
   editorial revisions, annotations, elaborations, or other modifications
   represent, as a whole, an original work of authorship. For the purposes
   of this License, Derivative Works shall not include works that remain
   separable from, or merely link (or bind by name) to the interfaces of,
   the Work and Derivative Works thereof.

   &quot;Contribution&quot; shall mean any work of authorship, including
   the original version of the Work and any modifications or additions
   to that Work or Derivative Works thereof, that is intentionally
   submitted to Licensor for inclusion in the Work by the copyright owner
   or by an individual or Legal Entity authorized to submit on behalf of
   the copyright owner. For the purposes of this definition, &quot;submitted&quot;
   means any form of electronic, verbal, or written communication sent
   to the Licensor or its representatives, including but not limited to
   communication on electronic mailing lists, source code control systems,
   and issue tracking systems that are managed by, or on behalf of, the
   Licensor for the purpose of discussing and improving the Work, but
   excluding communication that is conspicuously marked or otherwise
   designated in writing by the copyright owner as &quot;Not a Contribution.&quot;

   &quot;Contributor&quot; shall mean Licensor and any individual or Legal Entity
   on behalf of whom a Contribution has been received by Licensor and
   subsequently incorporated within the Work.

2. Grant of Copyright License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   copyright license to reproduce, prepare Derivative Works of,
   publicly display, publicly perform, sublicense, and distribute the
   Work and such Derivative Works in Source or Object form.

3. Grant of Patent License. Subject to the terms and conditions of
   this License, each Contributor hereby grants to You a perpetual,
   worldwide, non-exclusive, no-charge, royalty-free, irrevocable
   (except as stated in this section) patent license to make, have made,
   use, offer to sell, sell, import, and otherwise transfer the Work,
   where such license applies only to those patent claims licensable
   by such Contributor that are necessarily infringed by their
   Contribution(s) alone or by combination of their Contribution(s)
   with the Work to which such Contribution(s) was submitted. If You
   institute patent litigation against any entity (including a
   cross-claim or counterclaim in a lawsuit) alleging that the Work
   or a Contribution incorporated within the Work constitutes direct
   or contributory patent infringement, then any patent licenses
   granted to You under this License for that Work shall terminate
   as of the date such litigation is filed.

4. Redistribution. You may reproduce and distribute copies of the
   Work or Derivative Works thereof in any medium, with or without
   modifications, and in Source or Object form, provided that You
   meet the following conditions:

   (a) You must give any other recipients of the Work or
       Derivative Works a copy of this License; and

   (b) You must cause any modified files to carry prominent notices
       stating that You changed the files; and

   (c) You must retain, in the Source form of any Derivative Works
       that You distribute, all copyright, patent, trademark, and
       attribution notices from the Source form of the Work,
       excluding those notices that do not pertain to any part of
       the Derivative Works; and

   (d) If the Work includes a &quot;NOTICE&quot; text file as part of its
       distribution, then any Derivative Works that You distribute must
       include a readable copy of the attribution notices contained
       within such NOTICE file, excluding those notices that do not
       pertain to any part of the Derivative Works, in at least one
       of the following places: within a NOTICE text file distributed
       as part of the Derivative Works; within the Source form or
       documentation, if provided along with the Derivative Works; or,
       within a display generated by the Derivative Works, if and
       wherever such third-party notices normally appear. The contents
       of the NOTICE file are for informational purposes only and
       do not modify the License. You may add Your own attribution
       notices within Derivative Works that You distribute, alongside
       or as an addendum to the NOTICE text from the Work, provided
       that such additional attribution notices cannot be construed
       as modifying the License.

   You may add Your own copyright statement to Your modifications and
   may provide additional or different license terms and conditions
   for use, reproduction, or distribution of Your modifications, or
   for any such Derivative Works as a whole, provided Your use,
   reproduction, and distribution of the Work otherwise complies with
   the conditions stated in this License.

5. Submission of Contributions. Unless You explicitly state otherwise,
   any Contribution intentionally submitted for inclusion in the Work
   by You to the Licensor shall be under the terms and conditions of
   this License, without any additional terms or conditions.
   Notwithstanding the above, nothing herein shall supersede or modify
   the terms of any separate license agreement you may have executed
   with Licensor regarding such Contributions.

6. Trademarks. This License does not grant permission to use the trade
   names, trademarks, service marks, or product names of the Licensor,
   except as required for reasonable and customary use in describing the
   origin of the Work and reproducing the content of the NOTICE file.

7. Disclaimer of Warranty. Unless required by applicable law or
   agreed to in writing, Licensor provides the Work (and each
   Contributor provides its Contributions) on an &quot;AS IS&quot; BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
   implied, including, without limitation, any warranties or conditions
   of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A
   PARTICULAR PURPOSE. You are solely responsible for determining the
   appropriateness of using or redistributing the Work and assume any
   risks associated with Your exercise of permissions under this License.

8. Limitation of Liability. In no event and under no legal theory,
   whether in tort (including negligence), contract, or otherwise,
   unless required by applicable law (such as deliberate and grossly
   negligent acts) or agreed to in writing, shall any Contributor be
   liable to You for damages, including any direct, indirect, special,
   incidental, or consequential damages of any character arising as a
   result of this License or out of the use or inability to use the
   Work (including but not limited to damages for loss of goodwill,
   work stoppage, computer failure or malfunction, or any and all
   other commercial damages or losses), even if such Contributor
   has been advised of the possibility of such damages.

9. Accepting Warranty or Additional Liability. While redistributing
   the Work or Derivative Works thereof, You may choose to offer,
   and charge a fee for, acceptance of support, warranty, indemnity,
   or other liability obligations and/or rights consistent with this
   License. However, in accepting such obligations, You may act only
   on Your own behalf and on Your sole responsibility, not on behalf
   of any other Contributor, and only if You agree to indemnify,
   defend, and hold each Contributor harmless for any liability
   incurred by, or claims asserted against, such Contributor by reason
   of your accepting any such warranty or additional liability.

END OF TERMS AND CONDITIONS

APPENDIX: How to apply the Apache License to your work.

   To apply the Apache License to your work, attach the following
   boilerplate notice, with the fields enclosed by brackets &quot;[]&quot;
   replaced with your own identifying information. (Don't include
   the brackets!)  The text should be enclosed in the appropriate
   comment syntax for the file format. We also recommend that a
   file or class name and description of purpose be included on the
   same &quot;printed page&quot; as the copyright notice for easier
   identification within third-party archives.

Copyright [yyyy] [name of copyright owner]

Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>                  GNU LESSER GENERAL PUBLIC LICENSE
                       Version 2.1, February 1999

 Copyright (C) 1991, 1999 Free Software Foundation, Inc.
     51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
 Everyone is permitted to copy and distribute verbatim copies
 of this license document, but changing it is not allowed.

[This is the first released version of the Lesser GPL.  It also counts
 as the successor of the GNU Library Public License, version 2, hence
 the version number 2.1.]

                            Preamble

  The licenses for most software are designed to take away your
freedom to share and change it.  By contrast, the GNU General Public
Licenses are intended to guarantee your freedom to share and change
free software--to make sure the software is free for all its users.

  This license, the Lesser General Public License, applies to some
specially designated software packages--typically libraries--of the
Free Software Foundation and other authors who decide to use it.  You
can use it too, but we suggest you first think carefully about whether
this license or the ordinary General Public License is the better
strategy to use in any particular case, based on the explanations below.

  When we speak of free software, we are referring to freedom of use,
not price.  Our General Public Licenses are designed to make sure that
you have the freedom to distribute copies of free software (and charge
for this service if you wish); that you receive source code or can get
it if you want it; that you can change the software and use pieces of
it in new free programs; and that you are informed that you can do
these things.

  To protect your rights, we need to make restrictions that forbid
distributors to deny you these rights or to ask you to surrender these
rights.  These restrictions translate to certain responsibilities for
you if you distribute copies of the library or if you modify it.

  For example, if you distribute copies of the library, whether gratis
or for a fee, you must give the recipients all the rights that we gave
you.  You must make sure that they, too, receive or can get the source
code.  If you link other code with the library, you must provide
complete object files to the recipients, so that they can relink them
with the library after making changes to the library and recompiling
it.  And you must show them these terms so they know their rights.

  We protect your rights with a two-step method: (1) we copyright the
library, and (2) we offer you this license, which gives you legal
permission to copy, distribute and/or modify the library.

  To protect each distributor, we want to make it very clear that
there is no warranty for the free library.  Also, if the library is
modified by someone else and passed on, the recipients should know
that what they have is not the original version, so that the original
author's reputation will not be affected by problems that might be
introduced by others.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  Finally, software patents pose a constant threat to the existence of
any free program.  We wish to make sure that a company cannot
effectively restrict the users of a free program by obtaining a
restrictive license from a patent holder.  Therefore, we insist that
any patent license obtained for a version of the library must be
consistent with the full freedom of use specified in this license.

  Most GNU software, including some libraries, is covered by the
ordinary GNU General Public License.  This license, the GNU Lesser
General Public License, applies to certain designated libraries, and
is quite different from the ordinary General Public License.  We use
this license for certain libraries in order to permit linking those
libraries into non-free programs.

  When a program is linked with a library, whether statically or using
a shared library, the combination of the two is legally speaking a
combined work, a derivative of the original library.  The ordinary
General Public License therefore permits such linking only if the
entire combination fits its criteria of freedom.  The Lesser General
Public License permits more lax criteria for linking other code with
the library.

  We call this license the &quot;Lesser&quot; General Public License because it
does Less to protect the user's freedom than the ordinary General
Public License.  It also provides other free software developers Less
of an advantage over competing non-free programs.  These disadvantages
are the reason we use the ordinary General Public License for many
libraries.  However, the Lesser license provides advantages in certain
special circumstances.

  For example, on rare occasions, there may be a special need to
encourage the widest possible use of a certain library, so that it becomes
a de-facto standard.  To achieve this, non-free programs must be
allowed to use the library.  A more frequent case is that a free
library does the same job as widely used non-free libraries.  In this
case, there is little to gain by limiting the free library to free
software only, so we use the Lesser General Public License.

  In other cases, permission to use a particular library in non-free
programs enables a greater number of people to use a large body of
free software.  For example, permission to use the GNU C Library in
non-free programs enables many more people to use the whole GNU
operating system, as well as its variant, the GNU/Linux operating
system.

  Although the Lesser General Public License is Less protective of the
users' freedom, it does ensure that the user of a program that is
linked with the Library has the freedom and the wherewithal to run
that program using a modified version of the Library.

  The precise terms and conditions for copying, distribution and
modification follow.  Pay close attention to the difference between a
&quot;work based on the library&quot; and a &quot;work that uses the library&quot;.  The
former contains code derived from the library, whereas the latter must
be combined with the library in order to run.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>                  GNU LESSER GENERAL PUBLIC LICENSE
   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

  0. This License Agreement applies to any software library or other
program which contains a notice placed by the copyright holder or
other authorized party saying it may be distributed under the terms of
this Lesser General Public License (also called &quot;this License&quot;).
Each licensee is addressed as &quot;you&quot;.

  A &quot;library&quot; means a collection of software functions and/or data
prepared so as to be conveniently linked with application programs
(which use some of those functions and data) to form executables.

  The &quot;Library&quot;, below, refers to any such software library or work
which has been distributed under these terms.  A &quot;work based on the
Library&quot; means either the Library or any derivative work under
copyright law: that is to say, a work containing the Library or a
portion of it, either verbatim or with modifications and/or translated
straightforwardly into another language.  (Hereinafter, translation is
included without limitation in the term &quot;modification&quot;.)

  &quot;Source code&quot; for a work means the preferred form of the work for
making modifications to it.  For a library, complete source code means
all the source code for all modules it contains, plus any associated
interface definition files, plus the scripts used to control compilation
and installation of the library.

  Activities other than copying, distribution and modification are not
covered by this License; they are outside its scope.  The act of
running a program using the Library is not restricted, and output from
such a program is covered only if its contents constitute a work based
on the Library (independent of the use of the Library in a tool for
writing it).  Whether that is true depends on what the Library does
and what the program that uses the Library does.
  
  1. You may copy and distribute verbatim copies of the Library's
complete source code as you receive it, in any medium, provided that
you conspicuously and appropriately publish on each copy an
appropriate copyright notice and disclaimer of warranty; keep intact
all the notices that refer to this License and to the absence of any
warranty; and distribute a copy of this License along with the
Library.

  You may charge a fee for the physical act of transferring a copy,
and you may at your option offer warranty protection in exchange for a
fee.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  2. You may modify your copy or copies of the Library or any portion
of it, thus forming a work based on the Library, and copy and
distribute such modifications or work under the terms of Section 1
above, provided that you also meet all of these conditions:

    a) The modified work must itself be a software library.

    b) You must cause the files modified to carry prominent notices
    stating that you changed the files and the date of any change.

    c) You must cause the whole of the work to be licensed at no
    charge to all third parties under the terms of this License.

    d) If a facility in the modified Library refers to a function or a
    table of data to be supplied by an application program that uses
    the facility, other than as an argument passed when the facility
    is invoked, then you must make a good faith effort to ensure that,
    in the event an application does not supply such function or
    table, the facility still operates, and performs whatever part of
    its purpose remains meaningful.

    (For example, a function in a library to compute square roots has
    a purpose that is entirely well-defined independent of the
    application.  Therefore, Subsection 2d requires that any
    application-supplied function or table used by this function must
    be optional: if the application does not supply it, the square
    root function must still compute square roots.)

These requirements apply to the modified work as a whole.  If
identifiable sections of that work are not derived from the Library,
and can be reasonably considered independent and separate works in
themselves, then this License, and its terms, do not apply to those
sections when you distribute them as separate works.  But when you
distribute the same sections as part of a whole which is a work based
on the Library, the distribution of the whole must be on the terms of
this License, whose permissions for other licensees extend to the
entire whole, and thus to each and every part regardless of who wrote
it.

Thus, it is not the intent of this section to claim rights or contest
your rights to work written entirely by you; rather, the intent is to
exercise the right to control the distribution of derivative or
collective works based on the Library.

In addition, mere aggregation of another work not based on the Library
with the Library (or with a work based on the Library) on a volume of
a storage or distribution medium does not bring the other work under
the scope of this License.

  3. You may opt to apply the terms of the ordinary GNU General Public
License instead of this License to a given copy of the Library.  To do
this, you must alter all the notices that refer to this License, so
that they refer to the ordinary GNU General Public License, version 2,
instead of to this License.  (If a newer version than version 2 of the
ordinary GNU General Public License has appeared, then you can specify
that version instead if you wish.)  Do not make any other change in
these notices.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  Once this change is made in a given copy, it is irreversible for
that copy, so the ordinary GNU General Public License applies to all
subsequent copies and derivative works made from that copy.

  This option is useful when you wish to copy part of the code of
the Library into a program that is not a library.

  4. You may copy and distribute the Library (or a portion or
derivative of it, under Section 2) in object code or executable form
under the terms of Sections 1 and 2 above provided that you accompany
it with the complete corresponding machine-readable source code, which
must be distributed under the terms of Sections 1 and 2 above on a
medium customarily used for software interchange.

  If distribution of object code is made by offering access to copy
from a designated place, then offering equivalent access to copy the
source code from the same place satisfies the requirement to
distribute the source code, even though third parties are not
compelled to copy the source along with the object code.

  5. A program that contains no derivative of any portion of the
Library, but is designed to work with the Library by being compiled or
linked with it, is called a &quot;work that uses the Library&quot;.  Such a
work, in isolation, is not a derivative work of the Library, and
therefore falls outside the scope of this License.

  However, linking a &quot;work that uses the Library&quot; with the Library
creates an executable that is a derivative of the Library (because it
contains portions of the Library), rather than a &quot;work that uses the
library&quot;.  The executable is therefore covered by this License.
Section 6 states terms for distribution of such executables.

  When a &quot;work that uses the Library&quot; uses material from a header file
that is part of the Library, the object code for the work may be a
derivative work of the Library even though the source code is not.
Whether this is true is especially significant if the work can be
linked without the Library, or if the work is itself a library.  The
threshold for this to be true is not precisely defined by law.

  If such an object file uses only numerical parameters, data
structure layouts and accessors, and small macros and small inline
functions (ten lines or less in length), then the use of the object
file is unrestricted, regardless of whether it is legally a derivative
work.  (Executables containing this object code plus portions of the
Library will still fall under Section 6.)

  Otherwise, if the work is a derivative of the Library, you may
distribute the object code for the work under the terms of Section 6.
Any executables containing that work also fall under Section 6,
whether or not they are linked directly with the Library itself.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  6. As an exception to the Sections above, you may also combine or
link a &quot;work that uses the Library&quot; with the Library to produce a
work containing portions of the Library, and distribute that work
under terms of your choice, provided that the terms permit
modification of the work for the customer's own use and reverse
engineering for debugging such modifications.

  You must give prominent notice with each copy of the work that the
Library is used in it and that the Library and its use are covered by
this License.  You must supply a copy of this License.  If the work
during execution displays copyright notices, you must include the
copyright notice for the Library among them, as well as a reference
directing the user to the copy of this License.  Also, you must do one
of these things:

    a) Accompany the work with the complete corresponding
    machine-readable source code for the Library including whatever
    changes were used in the work (which must be distributed under
    Sections 1 and 2 above); and, if the work is an executable linked
    with the Library, with the complete machine-readable &quot;work that
    uses the Library&quot;, as object code and/or source code, so that the
    user can modify the Library and then relink to produce a modified
    executable containing the modified Library.  (It is understood
    that the user who changes the contents of definitions files in the
    Library will not necessarily be able to recompile the application
    to use the modified definitions.)

    b) Use a suitable shared library mechanism for linking with the
    Library.  A suitable mechanism is one that (1) uses at run time a
    copy of the library already present on the user's computer system,
    rather than copying library functions into the executable, and (2)
    will operate properly with a modified version of the library, if
    the user installs one, as long as the modified version is
    interface-compatible with the version that the work was made with.

    c) Accompany the work with a written offer, valid for at
    least three years, to give the same user the materials
    specified in Subsection 6a, above, for a charge no more
    than the cost of performing this distribution.

    d) If distribution of the work is made by offering access to copy
    from a designated place, offer equivalent access to copy the above
    specified materials from the same place.

    e) Verify that the user has already received a copy of these
    materials or that you have already sent this user a copy.

  For an executable, the required form of the &quot;work that uses the
Library&quot; must include any data and utility programs needed for
reproducing the executable from it.  However, as a special exception,
the materials to be distributed need not include anything that is
normally distributed (in either source or binary form) with the major
components (compiler, kernel, and so on) of the operating system on
which the executable runs, unless that component itself accompanies
the executable.

  It may happen that this requirement contradicts the license
restrictions of other proprietary libraries that do not normally
accompany the operating system.  Such a contradiction means you cannot
use both them and the Library together in an executable that you
distribute.

  7. You may place library facilities that are a work based on the
Library side-by-side in a single library together with other library
facilities not covered by this License, and distribute such a combined
library, provided that the separate distribution of the work based on
the Library and of the other library facilities is otherwise
permitted, and provided that you do these two things:

    a) Accompany the combined library with a copy of the same work
    based on the Library, uncombined with any other library
    facilities.  This must be distributed under the terms of the
    Sections above.

    b) Give prominent notice with the combined library of the fact
    that part of it is a work based on the Library, and explaining
    where to find the accompanying uncombined form of the same work.

  8. You may not copy, modify, sublicense, link with, or distribute
the Library except as expressly provided under this License.  Any
attempt otherwise to copy, modify, sublicense, link with, or
distribute the Library is void, and will automatically terminate your
rights under this License.  However, parties who have received copies,
or rights, from you under this License will not have their licenses
terminated so long as such parties remain in full compliance.

  9. You are not required to accept this License, since you have not
signed it.  However, nothing else grants you permission to modify or
distribute the Library or its derivative works.  These actions are
prohibited by law if you do not accept this License.  Therefore, by
modifying or distributing the Library (or any work based on the
Library), you indicate your acceptance of this License to do so, and
all its terms and conditions for copying, distributing or modifying
the Library or works based on it.

  10. Each time you redistribute the Library (or any work based on the
Library), the recipient automatically receives a license from the
original licensor to copy, distribute, link with or modify the Library
subject to these terms and conditions.  You may not impose any further
restrictions on the recipients' exercise of the rights granted herein.
You are not responsible for enforcing compliance by third parties with
this License.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  11. If, as a consequence of a court judgment or allegation of patent
infringement or for any other reason (not limited to patent issues),
conditions are imposed on you (whether by court order, agreement or
otherwise) that contradict the conditions of this License, they do not
excuse you from the conditions of this License.  If you cannot
distribute so as to satisfy simultaneously your obligations under this
License and any other pertinent obligations, then as a consequence you
may not distribute the Library at all.  For example, if a patent
license would not permit royalty-free redistribution of the Library by
all those who receive copies directly or indirectly through you, then
the only way you could satisfy both it and this License would be to
refrain entirely from distribution of the Library.

If any portion of this section is held invalid or unenforceable under any
particular circumstance, the balance of the section is intended to apply,
and the section as a whole is intended to apply in other circumstances.

It is not the purpose of this section to induce you to infringe any
patents or other property right claims or to contest validity of any
such claims; this section has the sole purpose of protecting the
integrity of the free software distribution system which is
implemented by public license practices.  Many people have made
generous contributions to the wide range of software distributed
through that system in reliance on consistent application of that
system; it is up to the author/donor to decide if he or she is willing
to distribute software through any other system and a licensee cannot
impose that choice.

This section is intended to make thoroughly clear what is believed to
be a consequence of the rest of this License.

  12. If the distribution and/or use of the Library is restricted in
certain countries either by patents or by copyrighted interfaces, the
original copyright holder who places the Library under this License may add
an explicit geographical distribution limitation excluding those countries,
so that distribution is permitted only in or among countries not thus
excluded.  In such case, this License incorporates the limitation as if
written in the body of this License.

  13. The Free Software Foundation may publish revised and/or new
versions of the Lesser General Public License from time to time.
Such new versions will be similar in spirit to the present version,
but may differ in detail to address new problems or concerns.

Each version is given a distinguishing version number.  If the Library
specifies a version number of this License which applies to it and
&quot;any later version&quot;, you have the option of following the terms and
conditions either of that version or of any later version published by
the Free Software Foundation.  If the Library does not specify a
license version number, you may choose any version ever published by
the Free Software Foundation.
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>  14. If you wish to incorporate parts of the Library into other free
programs whose distribution conditions are incompatible with these,
write to the author to ask for permission.  For software which is
copyrighted by the Free Software Foundation, write to the Free
Software Foundation; we sometimes make exceptions for this.  Our
decision will be guided by the two goals of preserving the free status
of all derivatives of our free software and of promoting the sharing
and reuse of software generally.

                            NO WARRANTY

  15. BECAUSE THE LIBRARY IS LICENSED FREE OF CHARGE, THERE IS NO
WARRANTY FOR THE LIBRARY, TO THE EXTENT PERMITTED BY APPLICABLE LAW.
EXCEPT WHEN OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR
OTHER PARTIES PROVIDE THE LIBRARY &quot;AS IS&quot; WITHOUT WARRANTY OF ANY
KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
PURPOSE.  THE ENTIRE RISK AS TO THE QUALITY AND PERFORMANCE OF THE
LIBRARY IS WITH YOU.  SHOULD THE LIBRARY PROVE DEFECTIVE, YOU ASSUME
THE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION.

  16. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN
WRITING WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY
AND/OR REDISTRIBUTE THE LIBRARY AS PERMITTED ABOVE, BE LIABLE TO YOU
FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR
CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE
LIBRARY (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING
RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A
FAILURE OF THE LIBRARY TO OPERATE WITH ANY OTHER SOFTWARE), EVEN IF
SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGES.

                     END OF TERMS AND CONDITIONS
</pre></td></tr></table>



<table><tr><td>&nbsp;</td><td><pre class="smallexample"><b></b>           How to Apply These Terms to Your New Libraries

  If you develop a new library, and you want it to be of the greatest
possible use to the public, we recommend making it free software that
everyone can redistribute and change.  You can do so by permitting
redistribution under these terms (or, alternatively, under the terms of the
ordinary General Public License).

  To apply these terms, attach the following notices to the library.  It is
safest to attach them to the start of each source file to most effectively
convey the exclusion of warranty; and each file should have at least the
&quot;copyright&quot; line and a pointer to where the full notice is found.

    &lt;one line to give the library's name and a brief idea of what it does.&gt;
    Copyright (C) &lt;year&gt;  &lt;name of author&gt;

    This library is free software; you can redistribute it and/or
    modify it under the terms of the GNU Lesser General Public
    License as published by the Free Software Foundation; either
    version 2.1 of the License, or (at your option) any later version.

    This library is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
    Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public
    License along with this library; if not, write to the Free Software
    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA

Also add information on how to contact you by electronic and paper mail.

You should also get your employer (if you work as a programmer) or your
school, if any, to sign a &quot;copyright disclaimer&quot; for the library, if
necessary.  Here is a sample; alter the names:

  Yoyodyne, Inc., hereby disclaims all copyright interest in the
  library `Frob' (a library for tweaking knobs) written by James Random Hacker.

  &lt;signature of Ty Coon&gt;, 1 April 1990
  Ty Coon, President of Vice

That's all there is to it!
</pre></td></tr></table>



<a name="General-index"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Copyright-and-license" title="Previous section in reading order"><img src="button-left.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Copyright-and-license" title="Beginning of this chapter or previous chapter"><img src="button-left-left.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"><a href="#Top" title="Up section"><img src="button-up-arrow.png" border="0" align="middle" width="32"></td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<a name="General-index-1"></a>
<h1 class="unnumbered">General index</h1>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#General-index-1_cp_symbol-1" class="summary-letter"><b>#</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-2" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-3" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-4" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-5" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-6" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-7" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-8" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-9" class="summary-letter"><b>^</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-10" class="summary-letter"><b>_</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-11" class="summary-letter"><b>|</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-12" class="summary-letter"><b>~</b></a>
 &nbsp; 
<br>
<a href="#General-index-1_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table border="0" class="index-cp">
<tr><td></td><th align="left">Index Entry</th><th align="left"> Section</th></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-1">#</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023">#</a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023_0023">##</a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-2">+</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002bz"><code>+z</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-3">,</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028b-expr_0029"><code>,(b <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028be-expr_0029"><code>,(be <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028bed-expr_0029"><code>,(bed <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028c-expr_0029"><code>,(c <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028e-expr_0029"><code>,(e <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028ed-expr_0029"><code>,(ed <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028h-subject_0029"><code>,(h <var>subject</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028st-expr_0029"><code>,(st <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_0028v-expr_0029"><code>,(v <var>expr</var>)</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_002b"><code>,+</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_002b_002b"><code>,++</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_002d"><code>,-</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_002d_002d"><code>,--</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002c_003f"><code>,?</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cb"><code>,b</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cbe"><code>,be</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cbed"><code>,bed</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cc"><code>,c</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cd"><code>,d</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ce"><code>,e</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ced"><code>,ed</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ch"><code>,h</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ci"><code>,i</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cl"><code>,l</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cN"><code>,<var>N</var></code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cN_002b"><code>,<var>N</var>+</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cN_002d"><code>,<var>N</var>-</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cq"><code>,q</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cqt"><code>,qt</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cs"><code>,s</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cst"><code>,st</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ct"><code>,t</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002cy"><code>,y</code></a></td><td valign="top"><a href="#Debugging-commands">5.2 Debugging commands</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-4">-</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d"><code>-</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_002b"><code>-:+</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_002d"><code>-:-</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_003a"><code>-::</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_003d"><code>-:=</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_0040"><code>-:}</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ad"><code>-:d</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ad_002d"><code>-:d-</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ad_0040_005bHOST_005d_005b_003aPORT_005d"><code>-:d@<span class="roman">[</span><var>HOST</var><span class="roman">]</span><span class="roman">[</span>:<var>PORT</var><span class="roman">]</span></code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ada"><code>-:da</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adc"><code>-:dc</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adD"><code>-:dD</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adi"><code>-:di</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adLEVEL"><code>-:d<var>LEVEL</var></code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adp"><code>-:dp</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adQ"><code>-:dQ</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adq"><code>-:dq</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adR"><code>-:dR</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003adr"><code>-:dr</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ads"><code>-:ds</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003af"><code>-:f</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003ah"><code>-:h</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003al"><code>-:l</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003am"><code>-:m</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003aS"><code>-:S</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003as"><code>-:s</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003as-1"><code>-:s</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003at"><code>-:t</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002d_003a_007e_007e"><code>-:~~</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dc"><code>-c</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcall_005fshared"><code>-call_shared</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dcc_002doptions"><code>-cc-options</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug"><code>-debug</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug-1"><code>-debug</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002denvironments"><code>-debug-environments</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002denvironments-1"><code>-debug-environments</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002dlocation"><code>-debug-location</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002dlocation-1"><code>-debug-location</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002dsource"><code>-debug-source</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddebug_002dsource-1"><code>-debug-source</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ddynamic"><code>-dynamic</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD_005f_005f_005fDYNAMIC"><code>-D___DYNAMIC</code></a></td><td valign="top"><a href="#Building-a-loadable-library">3.4.2 Building a loadable library</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD_005f_005f_005fLIBRARY"><code>-D___LIBRARY</code></a></td><td valign="top"><a href="#Building-a-shared_002dlibrary">3.4.3 Building a shared-library</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD_005f_005f_005fPRIMAL"><code>-D___PRIMAL</code></a></td><td valign="top"><a href="#Building-a-shared_002dlibrary">3.4.3 Building a shared-library</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD_005f_005f_005fSHARED"><code>-D___SHARED</code></a></td><td valign="top"><a href="#Building-a-shared_002dlibrary">3.4.3 Building a shared-library</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dD_005f_005f_005fSINGLE_005fHOST"><code>-D___SINGLE_HOST</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002de"><code>-e</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexe"><code>-exe</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexe-1"><code>-exe</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dexpansion"><code>-expansion</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dflat"><code>-flat</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfPIC"><code>-fPIC</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dfpic"><code>-fpic</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dG"><code>-G</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dgvm"><code>-gvm</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002di"><code>-i</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dI_002fusr_002flocal_002fGambit_002dC_002finclude"><code>-I/usr/local/Gambit-C/include</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dkeep_002dc"><code>-keep-c</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dKPIC"><code>-KPIC</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dKpic"><code>-Kpic</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dl-base"><code>-l <var>base</var></code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dL_002fusr_002flocal_002fGambit_002dC_002flib"><code>-L/usr/local/Gambit-C/lib</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dld_002doptions"><code>-ld-options</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dld_002doptions_002dprelude"><code>-ld-options-prelude</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlink"><code>-link</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dlink-1"><code>-link</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dO"><code>-O</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002do-output"><code>-o <var>output</var></code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dobj"><code>-obj</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dpic"><code>-pic</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dpostlude"><code>-postlude</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dprelude"><code>-prelude</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002drdynamic"><code>-rdynamic</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dreport"><code>-report</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dshared"><code>-shared</code></a></td><td valign="top"><a href="#Other-compilation-options">3.4.4 Other compilation options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dtrack_002dscheme"><code>-track-scheme</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dverbose"><code>-verbose</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002dwarnings"><code>-warnings</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-5">.</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002ec"><code>.c</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002escm"><code>.scm</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_002esix"><code>.six</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-6">&lt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003c"><code>&lt;</code></a></td><td valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003c_003d"><code>&lt;=</code></a></td><td valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-7">=</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003d"><code>=</code></a></td><td valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-8">&gt;</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003e"><code>&gt;</code></a></td><td valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_003e_003d"><code>&gt;=</code></a></td><td valign="top"><a href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-9">^</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005eC"><code>^C</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005eC-1"><code>^C</code></a></td><td valign="top"><a href="#Debugging-model">5.1 Debugging model</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005eD"><code>^D</code></a></td><td valign="top"><a href="#Debugging-model">5.1 Debugging model</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-10">_</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f_005f_005fcleanup"><code>___cleanup</code></a></td><td valign="top"><a href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f_005f_005fsetup"><code>___setup</code></a></td><td valign="top"><a href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-11">|</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007csix_002ex"><code>|six.x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007csix_002ex_005c_007c_003dy_007c"><code>|six.x\|=y|</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007csix_002ex_005c_007cy_007c"><code>|six.x\|y|</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007csix_002ex_005c_007c_005c_007cy_007c"><code>|six.x\|\|y|</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_symbol-12">~</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007e">~</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007eusername">~username</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_007e_007e">~~</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-A">A</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-abandoned_002dmutex_002dexception_003f"><code>abandoned-mutex-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-abort"><code>abort</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-absolute-path">absolute path</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-absolute-path-1">absolute path</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfo_002dfamily"><code>address-info-family</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfo_002dprotocol"><code>address-info-protocol</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfo_002dsocket_002dinfo"><code>address-info-socket-info</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfo_002dsocket_002dtype"><code>address-info-socket-type</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfo_003f"><code>address-info?</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-address_002dinfos"><code>address-infos</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-all_002dbits_002dset_003f"><code>all-bits-set?</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-any_002dbits_002dset_003f"><code>any-bits-set?</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002df32vectors"><code>append-f32vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002df64vectors"><code>append-f64vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002ds16vectors"><code>append-s16vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002ds32vectors"><code>append-s32vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002ds64vectors"><code>append-s64vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002ds8vectors"><code>append-s8vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002dstrings"><code>append-strings</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002du16vectors"><code>append-u16vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002du32vectors"><code>append-u32vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002du64vectors"><code>append-u64vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002du8vectors"><code>append-u8vectors</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-append_002dvectors"><code>append-vectors</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-arithmetic_002dshift"><code>arithmetic-shift</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-B">B</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-bit_002dcount"><code>bit-count</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bit_002dset_003f"><code>bit-set?</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bitwise_002dand"><code>bitwise-and</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bitwise_002dior"><code>bitwise-ior</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bitwise_002dmerge"><code>bitwise-merge</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bitwise_002dnot"><code>bitwise-not</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-bitwise_002dxor"><code>bitwise-xor</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-block"><code>block</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-box"><code>box</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-box_003f"><code>box?</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-boxes">boxes</a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-break"><code>break</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-C">C</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddeclare"><code>c-declare</code></a></td><td valign="top"><a href="#c_002ddeclare">19.2 The <code>c-declare</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddeclare-1"><code>c-declare</code></a></td><td valign="top"><a href="#c_002ddeclare">19.2 The <code>c-declare</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddefine"><code>c-define</code></a></td><td valign="top"><a href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddefine-1"><code>c-define</code></a></td><td valign="top"><a href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddefine_002dtype"><code>c-define-type</code></a></td><td valign="top"><a href="#c_002ddefine_002dtype">19.6 The <code>c-define-type</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002ddefine_002dtype-1"><code>c-define-type</code></a></td><td valign="top"><a href="#c_002ddefine_002dtype">19.6 The <code>c-define-type</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002dinitialize"><code>c-initialize</code></a></td><td valign="top"><a href="#c_002dinitialize">19.3 The <code>c-initialize</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002dinitialize-1"><code>c-initialize</code></a></td><td valign="top"><a href="#c_002dinitialize">19.3 The <code>c-initialize</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002dlambda"><code>c-lambda</code></a></td><td valign="top"><a href="#c_002dlambda">19.4 The <code>c-lambda</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-c_002dlambda-1"><code>c-lambda</code></a></td><td valign="top"><a href="#c_002dlambda">19.4 The <code>c-lambda</code> special form</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dcurrent_002dcontinuation"><code>call-with-current-continuation</code></a></td><td valign="top"><a href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dinput_002dfile"><code>call-with-input-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dinput_002dprocess"><code>call-with-input-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dinput_002dstring"><code>call-with-input-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dinput_002du8vector"><code>call-with-input-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002dinput_002dvector"><code>call-with-input-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002doutput_002dfile"><code>call-with-output-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002doutput_002dprocess"><code>call-with-output-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002doutput_002dstring"><code>call-with-output-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002doutput_002du8vector"><code>call-with-output-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002dwith_002doutput_002dvector"><code>call-with-output-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-call_002fcc"><code>call/cc</code></a></td><td valign="top"><a href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-central-installation-directory">central installation directory</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cfun_002dconversion_002dexception_002darguments"><code>cfun-conversion-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cfun_002dconversion_002dexception_002dcode"><code>cfun-conversion-exception-code</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cfun_002dconversion_002dexception_002dmessage"><code>cfun-conversion-exception-message</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cfun_002dconversion_002dexception_002dprocedure"><code>cfun-conversion-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cfun_002dconversion_002dexception_003f"><code>cfun-conversion-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002d_003einteger"><code>char-&gt;integer</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002dci_003c_003d_003f"><code>char-ci&lt;=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002dci_003c_003f"><code>char-ci&lt;?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002dci_003d_003f"><code>char-ci=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002dci_003e_003d_003f"><code>char-ci&gt;=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_002dci_003e_003f"><code>char-ci&gt;?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_003c_003d_003f"><code>char&lt;=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_003c_003f"><code>char&lt;?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_003d_003f"><code>char=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_003e_003d_003f"><code>char&gt;=?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-char_003e_003f"><code>char&gt;?</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-clear_002dbit_002dfield"><code>clear-bit-field</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-close_002dinput_002dport"><code>close-input-port</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-close_002doutput_002dport"><code>close-output-port</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-close_002dport"><code>close-port</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command_002dline"><code>command-line</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-command_002dline-1"><code>command-line</code></a></td><td valign="top"><a href="#Command-line-arguments">16.5 Command line arguments</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compile_002dfile"><code>compile-file</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compile_002dfile_002dto_002dtarget"><code>compile-file-to-target</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compiler">compiler</a></td><td valign="top"><a href="#GSC">3. The Gambit Scheme compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-compiler-options">compiler options</a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cond_002dexpand"><code>cond-expand</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_002dbroadcast_0021"><code>condition-variable-broadcast!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_002dname"><code>condition-variable-name</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_002dsignal_0021"><code>condition-variable-signal!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_002dspecific"><code>condition-variable-specific</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_002dspecific_002dset_0021"><code>condition-variable-specific-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-condition_002dvariable_003f"><code>condition-variable?</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-configure_002dcommand_002dstring"><code>configure-command-string</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-console_002dport"><code>console-port</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-constant_002dfold"><code>constant-fold</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuation_002dcapture"><code>continuation-capture</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuation_002dgraft"><code>continuation-graft</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuation_002dreturn"><code>continuation-return</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuation_003f"><code>continuation?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continuations">continuations</a></td><td valign="top"><a href="#continuations">19.7 Continuations and the C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-copy_002dbit_002dfield"><code>copy-bit-field</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-copy_002dfile"><code>copy-file</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-cpu_002dtime"><code>cpu-time</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-create_002ddirectory"><code>create-directory</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-create_002dfifo"><code>create-fifo</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-create_002dlink"><code>create-link</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-create_002dsymbolic_002dlink"><code>create-symbolic-link</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current-exception_002dhandler">current exception-handler</a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current-working-directory">current working directory</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current-working-directory-1">current working directory</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002ddirectory"><code>current-directory</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002derror_002dport"><code>current-error-port</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002dexception_002dhandler"><code>current-exception-handler</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002dinput_002dport"><code>current-input-port</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002doutput_002dport"><code>current-output-port</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002dreadtable"><code>current-readtable</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002dthread"><code>current-thread</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002dtime"><code>current-time</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-current_002duser_002dinterrupt_002dhandler"><code>current-user-interrupt-handler</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-D">D</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-datum_002dparsing_002dexception_002dkind"><code>datum-parsing-exception-kind</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-datum_002dparsing_002dexception_002dparameters"><code>datum-parsing-exception-parameters</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-datum_002dparsing_002dexception_002dreadenv"><code>datum-parsing-exception-readenv</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-datum_002dparsing_002dexception_003f"><code>datum-parsing-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deadlock_002dexception_003f"><code>deadlock-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug"><code>debug</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug-1"><code>debug</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002denvironments"><code>debug-environments</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002denvironments-1"><code>debug-environments</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002dlocation"><code>debug-location</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002dlocation-1"><code>debug-location</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002dsource"><code>debug-source</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-debug_002dsource-1"><code>debug-source</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-declare"><code>declare</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-default_002drandom_002dsource"><code>default-random-source</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-defer_002duser_002dinterrupts"><code>defer-user-interrupts</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define"><code>define</code></a></td><td valign="top"><a href="#Extensions-to-standard-special-forms">6.2 Extensions to standard special forms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define-1"><code>define</code></a></td><td valign="top"><a href="#System-limitations">20. System limitations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dcond_002dexpand_002dfeature"><code>define-cond-expand-feature</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dmacro"><code>define-macro</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002drecord_002dtype"><code>define-record-type</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dstructure"><code>define-structure</code></a></td><td valign="top"><a href="#Records">12. Records</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dsyntax"><code>define-syntax</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dsyntax-1"><code>define-syntax</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dtype"><code>define-type</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define_002dtype_002dof_002dthread"><code>define-type-of-thread</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-delete_002ddirectory"><code>delete-directory</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-delete_002dfile"><code>delete-file</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deserialization">deserialization</a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deserialization-1">deserialization</a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-directory_002dfiles"><code>directory-files</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dcontinuation_002dbacktrace"><code>display-continuation-backtrace</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dcontinuation_002ddynamic_002denvironment"><code>display-continuation-dynamic-environment</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dcontinuation_002denvironment"><code>display-continuation-environment</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002ddynamic_002denvironment_003f"><code>display-dynamic-environment?</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002denvironment_002dset_0021"><code>display-environment-set!</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dexception"><code>display-exception</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dexception_002din_002dcontext"><code>display-exception-in-context</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-display_002dprocedure_002denvironment"><code>display-procedure-environment</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-divide_002dby_002dzero_002dexception_002darguments"><code>divide-by-zero-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-divide_002dby_002dzero_002dexception_002dprocedure"><code>divide-by-zero-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-divide_002dby_002dzero_002dexception_003f"><code>divide-by-zero-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-E">E</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Emacs">Emacs</a></td><td valign="top"><a href="#Emacs-interface">5.6 Emacs interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-eq_003f_002dhash"><code>eq?-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-equal_003f_002dhash"><code>equal?-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-eqv_003f_002dhash"><code>eqv?-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-err_002dcode_002d_003estring"><code>err-code-&gt;string</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error"><code>error</code></a></td><td valign="top"><a href="#Other-exception-objects">15.10 Other exception objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002dexception_002dmessage"><code>error-exception-message</code></a></td><td valign="top"><a href="#Other-exception-objects">15.10 Other exception objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002dexception_002dparameters"><code>error-exception-parameters</code></a></td><td valign="top"><a href="#Other-exception-objects">15.10 Other exception objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-error_002dexception_003f"><code>error-exception?</code></a></td><td valign="top"><a href="#Other-exception-objects">15.10 Other exception objects</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-eval"><code>eval</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exit"><code>exit</code></a></td><td valign="top"><a href="#Process-termination">16.4 Process termination</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression_002dparsing_002dexception_002dkind"><code>expression-parsing-exception-kind</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression_002dparsing_002dexception_002dparameters"><code>expression-parsing-exception-parameters</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression_002dparsing_002dexception_002dsource"><code>expression-parsing-exception-source</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-expression_002dparsing_002dexception_003f"><code>expression-parsing-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extended_002dbindings"><code>extended-bindings</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extract_002dbit_002dfield"><code>extract-bit-field</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-F">F</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector"><code>f32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002d_003elist"><code>f32vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dappend"><code>f32vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dcopy"><code>f32vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dfill_0021"><code>f32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dlength"><code>f32vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dref"><code>f32vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dset_0021"><code>f32vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_002dshrink_0021"><code>f32vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f32vector_003f"><code>f32vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector"><code>f64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002d_003elist"><code>f64vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dappend"><code>f64vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dcopy"><code>f64vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dfill_0021"><code>f64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dlength"><code>f64vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dref"><code>f64vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dset_0021"><code>f64vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_002dshrink_0021"><code>f64vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-f64vector_003f"><code>f64vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-FFI">FFI</a></td><td valign="top"><a href="#C_002dinterface">19. C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file-names">file names</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dattributes"><code>file-attributes</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dcreation_002dtime"><code>file-creation-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002ddevice"><code>file-device</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dexists_003f"><code>file-exists?</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dgroup"><code>file-group</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo"><code>file-info</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dattributes"><code>file-info-attributes</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dcreation_002dtime"><code>file-info-creation-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002ddevice"><code>file-info-device</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dgroup"><code>file-info-group</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dinode"><code>file-info-inode</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dlast_002daccess_002dtime"><code>file-info-last-access-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dlast_002dchange_002dtime"><code>file-info-last-change-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dlast_002dmodification_002dtime"><code>file-info-last-modification-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dmode"><code>file-info-mode</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dnumber_002dof_002dlinks"><code>file-info-number-of-links</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002downer"><code>file-info-owner</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dsize"><code>file-info-size</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_002dtype"><code>file-info-type</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinfo_003f"><code>file-info?</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dinode"><code>file-inode</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dlast_002daccess_002dtime"><code>file-last-access-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dlast_002dchange_002dtime"><code>file-last-change-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dlast_002dmodification_002dtime"><code>file-last-modification-time</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dmode"><code>file-mode</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dnumber_002dof_002dlinks"><code>file-number-of-links</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002downer"><code>file-owner</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dsize"><code>file-size</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002dtype"><code>file-type</code></a></td><td valign="top"><a href="#File-information">16.8 File information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002ec"><code><var>file</var>.c</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002escm"><code><var>file</var>.scm</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-file_002esix"><code><var>file</var>.six</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-finite_003f"><code>finite?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-first_002dbit_002dset"><code>first-bit-set</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum"><code>fixnum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum_002d_003eflonum"><code>fixnum-&gt;flonum</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum_002doverflow_002dexception_002darguments"><code>fixnum-overflow-exception-arguments</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum_002doverflow_002dexception_002dprocedure"><code>fixnum-overflow-exception-procedure</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum_002doverflow_002dexception_003f"><code>fixnum-overflow-exception?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fixnum_003f"><code>fixnum?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_002a"><code>fl*</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_002b"><code>fl+</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_002d"><code>fl-</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_002f"><code>fl/</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_003c"><code>fl&lt;</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_003c_003d"><code>fl&lt;=</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_003d"><code>fl=</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_003e"><code>fl&gt;</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fl_003e_003d"><code>fl&gt;=</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flabs"><code>flabs</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flacos"><code>flacos</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flasin"><code>flasin</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flatan"><code>flatan</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flatan-1"><code>flatan</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flceiling"><code>flceiling</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flcos"><code>flcos</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fldenominator"><code>fldenominator</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fleven_003f"><code>fleven?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flexp"><code>flexp</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flexpt"><code>flexpt</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flfinite_003f"><code>flfinite?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flfloor"><code>flfloor</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flinfinite_003f"><code>flinfinite?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flinteger_003f"><code>flinteger?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fllog"><code>fllog</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flmax"><code>flmax</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flmin"><code>flmin</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flnan_003f"><code>flnan?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flnegative_003f"><code>flnegative?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flnumerator"><code>flnumerator</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-floating-point-overflow">floating point overflow</a></td><td valign="top"><a href="#System-limitations">20. System limitations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flodd_003f"><code>flodd?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flonum"><code>flonum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flonum_003f"><code>flonum?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flpositive_003f"><code>flpositive?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flround"><code>flround</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flsin"><code>flsin</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flsqrt"><code>flsqrt</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fltan"><code>fltan</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fltruncate"><code>fltruncate</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-flzero_003f"><code>flzero?</code></a></td><td valign="top"><a href="#Flonum-specific-operations">9.6 Flonum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-force_002doutput"><code>force-output</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign-function-interface">foreign function interface</a></td><td valign="top"><a href="#C_002dinterface">19. C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign_002daddress"><code>foreign-address</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign_002drelease_0021"><code>foreign-release!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign_002dreleased_003f"><code>foreign-released?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign_002dtags"><code>foreign-tags</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-foreign_003f"><code>foreign?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-future"><code>future</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_002a"><code>fx*</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_002b"><code>fx+</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_002d"><code>fx-</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_003c"><code>fx&lt;</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_003c_003d"><code>fx&lt;=</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_003d"><code>fx=</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_003e"><code>fx&gt;</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fx_003e_003d"><code>fx&gt;=</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxabs"><code>fxabs</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxand"><code>fxand</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxarithmetic_002dshift"><code>fxarithmetic-shift</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxarithmetic_002dshift_002dleft"><code>fxarithmetic-shift-left</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxarithmetic_002dshift_002dright"><code>fxarithmetic-shift-right</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxbit_002dcount"><code>fxbit-count</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxbit_002dset_003f"><code>fxbit-set?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxeven_003f"><code>fxeven?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxfirst_002dbit_002dset"><code>fxfirst-bit-set</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxif"><code>fxif</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxior"><code>fxior</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxlength"><code>fxlength</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxmax"><code>fxmax</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxmin"><code>fxmin</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxmodulo"><code>fxmodulo</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxnegative_003f"><code>fxnegative?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxnot"><code>fxnot</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxodd_003f"><code>fxodd?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxpositive_003f"><code>fxpositive?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxquotient"><code>fxquotient</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxremainder"><code>fxremainder</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwrap_002a"><code>fxwrap*</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwrap_002b"><code>fxwrap+</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwrap_002d"><code>fxwrap-</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwrapabs"><code>fxwrapabs</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwraparithmetic_002dshift"><code>fxwraparithmetic-shift</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwraparithmetic_002dshift_002dleft"><code>fxwraparithmetic-shift-left</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwraplogical_002dshift_002dright"><code>fxwraplogical-shift-right</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxwrapquotient"><code>fxwrapquotient</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxxor"><code>fxxor</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fxzero_003f"><code>fxzero?</code></a></td><td valign="top"><a href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-G">G</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-GAMBCOPT_002c-environment-variable">GAMBCOPT, environment variable</a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Gambit">Gambit</a></td><td valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Gambit_002dC">Gambit-C</a></td><td valign="top"><a href="#Top">Gambit-C</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Gambit_002dC-1">Gambit-C</a></td><td valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gambit_002dscheme"><code>gambit-scheme</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gambit_002eel">gambit.el</a></td><td valign="top"><a href="#Emacs-interface">5.6 Emacs interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-GC">GC</a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gc_002dreport_002dset_0021"><code>gc-report-set!</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-generate_002dproper_002dtail_002dcalls"><code>generate-proper-tail-calls</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-generative_002dlambda"><code>generative-lambda</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-generic"><code>generic</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gensym"><code>gensym</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-get_002doutput_002dstring"><code>get-output-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-get_002doutput_002du8vector"><code>get-output-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-get_002doutput_002dvector"><code>get-output-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-getenv"><code>getenv</code></a></td><td valign="top"><a href="#Environment-variables">16.6 Environment variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-group_002dinfo"><code>group-info</code></a></td><td valign="top"><a href="#Group-information">16.9 Group information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-group_002dinfo_002dgid"><code>group-info-gid</code></a></td><td valign="top"><a href="#Group-information">16.9 Group information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-group_002dinfo_002dmembers"><code>group-info-members</code></a></td><td valign="top"><a href="#Group-information">16.9 Group information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-group_002dinfo_002dname"><code>group-info-name</code></a></td><td valign="top"><a href="#Group-information">16.9 Group information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-group_002dinfo_003f"><code>group-info?</code></a></td><td valign="top"><a href="#Group-information">16.9 Group information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc"><code>gsc</code></a></td><td valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-1"><code>gsc</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-2"><code>gsc</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-3"><code>gsc</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-4"><code>gsc</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-5"><code>gsc</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc-6"><code>gsc</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsc_002dscript"><code>gsc-script</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsi"><code>gsi</code></a></td><td valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsi-1"><code>gsi</code></a></td><td valign="top"><a href="#GSI">2. The Gambit Scheme interpreter</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsi-2"><code>gsi</code></a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-gsi_002dscript"><code>gsi-script</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-H">H</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-hashing">hashing</a></td><td valign="top"><a href="#Hashing-and-weak-references">11. Hashing and weak references</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-heap_002doverflow_002dexception_003f"><code>heap-overflow-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-memory-management">15.2 Exception objects related to memory management</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-help"><code>help</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-help_002dbrowser"><code>help-browser</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-home-directory">home directory</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-homogeneous-vectors">homogeneous vectors</a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-homogeneous-vectors-1">homogeneous vectors</a></td><td valign="top"><a href="#Homogeneous-vector-syntax">18.9 Homogeneous vector syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dinfo"><code>host-info</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dinfo_002daddresses"><code>host-info-addresses</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dinfo_002daliases"><code>host-info-aliases</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dinfo_002dname"><code>host-info-name</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dinfo_003f"><code>host-info?</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-host_002dname"><code>host-name</code></a></td><td valign="top"><a href="#Host-information">16.11 Host information</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-I">I</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-ieee_002dscheme"><code>ieee-scheme</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-improper_002dlength_002dlist_002dexception_002darg_002dnum"><code>improper-length-list-exception-arg-num</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-improper_002dlength_002dlist_002dexception_002darguments"><code>improper-length-list-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-improper_002dlength_002dlist_002dexception_002dprocedure"><code>improper-length-list-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-improper_002dlength_002dlist_002dexception_003f"><code>improper-length-list-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inactive_002dthread_002dexception_002darguments"><code>inactive-thread-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inactive_002dthread_002dexception_002dprocedure"><code>inactive-thread-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inactive_002dthread_002dexception_003f"><code>inactive-thread-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-include"><code>include</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-include-1"><code>include</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-infinite_003f"><code>infinite?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initialized_002dthread_002dexception_002darguments"><code>initialized-thread-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initialized_002dthread_002dexception_002dprocedure"><code>initialized-thread-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-initialized_002dthread_002dexception_003f"><code>initialized-thread-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inline"><code>inline</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inline_002dprimitives"><code>inline-primitives</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inlining_002dlimit"><code>inlining-limit</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dbyte_002dposition"><code>input-port-byte-position</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dbytes_002dbuffered"><code>input-port-bytes-buffered</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dchar_002dposition"><code>input-port-char-position</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dcharacters_002dbuffered"><code>input-port-characters-buffered</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dcolumn"><code>input-port-column</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dline"><code>input-port-line</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dreadtable"><code>input-port-readtable</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dreadtable_002dset_0021"><code>input-port-readtable-set!</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_002dtimeout_002dset_0021"><code>input-port-timeout-set!</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-input_002dport_003f"><code>input-port?</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-installation-directories">installation directories</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-integer_002d_003echar"><code>integer-&gt;char</code></a></td><td valign="top"><a href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-integer_002dlength"><code>integer-length</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-integer_002dnth_002droot"><code>integer-nth-root</code></a></td><td valign="top"><a href="#Integer-square-root-and-nth-root">9.3 Integer square root and nth root</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-integer_002dsqrt"><code>integer-sqrt</code></a></td><td valign="top"><a href="#Integer-square-root-and-nth-root">9.3 Integer square root and nth root</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interpreter">interpreter</a></td><td valign="top"><a href="#GSI">2. The Gambit Scheme interpreter</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interpreter-1">interpreter</a></td><td valign="top"><a href="#GSC">3. The Gambit Scheme compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interrupts_002denabled"><code>interrupts-enabled</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invalid_002dhash_002dnumber_002dexception_002darguments"><code>invalid-hash-number-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invalid_002dhash_002dnumber_002dexception_002dprocedure"><code>invalid-hash-number-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-invalid_002dhash_002dnumber_002dexception_003f"><code>invalid-hash-number-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-J">J</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-join_002dtimeout_002dexception_002darguments"><code>join-timeout-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-join_002dtimeout_002dexception_002dprocedure"><code>join-timeout-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-join_002dtimeout_002dexception_003f"><code>join-timeout-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-K">K</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_002d_003estring"><code>keyword-&gt;string</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_002dexpected_002dexception_002darguments"><code>keyword-expected-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_002dexpected_002dexception_002dprocedure"><code>keyword-expected-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_002dexpected_002dexception_003f"><code>keyword-expected-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_002dhash"><code>keyword-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keyword_003f"><code>keyword?</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-keywords">keywords</a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-L">L</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lambda"><code>lambda</code></a></td><td valign="top"><a href="#Extensions-to-standard-special-forms">6.2 Extensions to standard special forms</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-lambda_002dlift"><code>lambda-lift</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-last_005f_002ec"><code><var>last</var>_.c</code></a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-limitations">limitations</a></td><td valign="top"><a href="#System-limitations">20. System limitations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-link_002dflat"><code>link-flat</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-link_002dincremental"><code>link-incremental</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003ef32vector"><code>list-&gt;f32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003ef64vector"><code>list-&gt;f64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003es16vector"><code>list-&gt;s16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003es32vector"><code>list-&gt;s32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003es64vector"><code>list-&gt;s64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003es8vector"><code>list-&gt;s8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003etable"><code>list-&gt;table</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003eu16vector"><code>list-&gt;u16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003eu32vector"><code>list-&gt;u32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003eu64vector"><code>list-&gt;u64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-list_002d_003eu8vector"><code>list-&gt;u8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-load"><code>load</code></a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-M">M</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-mailbox_002dreceive_002dtimeout_002dexception_002darguments"><code>mailbox-receive-timeout-exception-arguments</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mailbox_002dreceive_002dtimeout_002dexception_002dprocedure"><code>mailbox-receive-timeout-exception-procedure</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mailbox_002dreceive_002dtimeout_002dexception_003f"><code>mailbox-receive-timeout-exception?</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-main"><code>main</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dcondition_002dvariable"><code>make-condition-variable</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002df32vector"><code>make-f32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002df64vector"><code>make-f64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dmutex"><code>make-mutex</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dparameter"><code>make-parameter</code></a></td><td valign="top"><a href="#Dynamic-environment">14. Dynamic environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002drandom_002dsource"><code>make-random-source</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002droot_002dthread"><code>make-root-thread</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002ds16vector"><code>make-s16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002ds32vector"><code>make-s32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002ds64vector"><code>make-s64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002ds8vector"><code>make-s8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dtable"><code>make-table</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dthread"><code>make-thread</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dthread_002dgroup"><code>make-thread-group</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002du16vector"><code>make-u16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002du32vector"><code>make-u32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002du64vector"><code>make-u64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002du8vector"><code>make-u8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002duninterned_002dkeyword"><code>make-uninterned-keyword</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002duninterned_002dsymbol"><code>make-uninterned-symbol</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-make_002dwill"><code>make-will</code></a></td><td valign="top"><a href="#Wills">11.2.1 Wills</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostly_002dfixnum"><code>mostly-fixnum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostly_002dfixnum_002dflonum"><code>mostly-fixnum-flonum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostly_002dflonum"><code>mostly-flonum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostly_002dflonum_002dfixnum"><code>mostly-flonum-fixnum</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mostly_002dgeneric"><code>mostly-generic</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-multiple_002dc_002dreturn_002dexception_003f"><code>multiple-c-return-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dlock_0021"><code>mutex-lock!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dname"><code>mutex-name</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dspecific"><code>mutex-specific</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dspecific_002dset_0021"><code>mutex-specific-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dstate"><code>mutex-state</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_002dunlock_0021"><code>mutex-unlock!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutex_003f"><code>mutex?</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-N">N</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-namespace"><code>namespace</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nan_003f"><code>nan?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network_002dinfo"><code>network-info</code></a></td><td valign="top"><a href="#Network-information">16.14 Network information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network_002dinfo_002daliases"><code>network-info-aliases</code></a></td><td valign="top"><a href="#Network-information">16.14 Network information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network_002dinfo_002dname"><code>network-info-name</code></a></td><td valign="top"><a href="#Network-information">16.14 Network information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network_002dinfo_002dnumber"><code>network-info-number</code></a></td><td valign="top"><a href="#Network-information">16.14 Network information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-network_002dinfo_003f"><code>network-info?</code></a></td><td valign="top"><a href="#Network-information">16.14 Network information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-newline"><code>newline</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_002darguments"><code>no-such-file-or-directory-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_002dprocedure"><code>no-such-file-or-directory-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no_002dsuch_002dfile_002dor_002ddirectory_002dexception_003f"><code>no-such-file-or-directory-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-noncontinuable_002dexception_002dreason"><code>noncontinuable-exception-reason</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-noncontinuable_002dexception_003f"><code>noncontinuable-exception?</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_002darguments"><code>nonempty-input-port-character-buffer-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_002dprocedure"><code>nonempty-input-port-character-buffer-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonempty_002dinput_002dport_002dcharacter_002dbuffer_002dexception_003f"><code>nonempty-input-port-character-buffer-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonprocedure_002doperator_002dexception_002darguments"><code>nonprocedure-operator-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonprocedure_002doperator_002dexception_002dcode"><code>nonprocedure-operator-exception-code</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonprocedure_002doperator_002dexception_002doperator"><code>nonprocedure-operator-exception-operator</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonprocedure_002doperator_002dexception_002drte"><code>nonprocedure-operator-exception-rte</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-nonprocedure_002doperator_002dexception_003f"><code>nonprocedure-operator-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-normalized-path">normalized path</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-number_002dof_002darguments_002dlimit_002dexception_002darguments"><code>number-of-arguments-limit-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-number_002dof_002darguments_002dlimit_002dexception_002dprocedure"><code>number-of-arguments-limit-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-number_002dof_002darguments_002dlimit_002dexception_003f"><code>number-of-arguments-limit-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-O">O</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-object-file">object file</a></td><td valign="top"><a href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-object_002d_003eserial_002dnumber"><code>object-&gt;serial-number</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-object_002d_003estring"><code>object-&gt;string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-object_002d_003eu8vector"><code>object-&gt;u8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002ddirectory"><code>open-directory</code></a></td><td valign="top"><a href="#Directory_002dports">17.8 Directory-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002ddummy"><code>open-dummy</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002devent_002dqueue"><code>open-event-queue</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dfile"><code>open-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dinput_002dfile"><code>open-input-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dinput_002dprocess"><code>open-input-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dinput_002dstring"><code>open-input-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dinput_002du8vector"><code>open-input-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dinput_002dvector"><code>open-input-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002doutput_002dfile"><code>open-output-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002doutput_002dprocess"><code>open-output-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002doutput_002dstring"><code>open-output-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002doutput_002du8vector"><code>open-output-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002doutput_002dvector"><code>open-output-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dprocess"><code>open-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dstring"><code>open-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dstring_002dpipe"><code>open-string-pipe</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dtcp_002dclient"><code>open-tcp-client</code></a></td><td valign="top"><a href="#Network-devices">17.7.3 Network devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dtcp_002dserver"><code>open-tcp-server</code></a></td><td valign="top"><a href="#Network-devices">17.7.3 Network devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002du8vector"><code>open-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002du8vector_002dpipe"><code>open-u8vector-pipe</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dvector"><code>open-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-open_002dvector_002dpipe"><code>open-vector-pipe</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-optimize_002ddead_002dlocal_002dvariables"><code>optimize-dead-local-variables</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-compiler">options, compiler</a></td><td valign="top"><a href="#GSC-batch-mode">3.3 Batch mode</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-options_002c-runtime">options, runtime</a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-os_002dexception_002darguments"><code>os-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-os_002dexception_002dcode"><code>os-exception-code</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-os_002dexception_002dmessage"><code>os-exception-message</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-os_002dexception_002dprocedure"><code>os-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-os_002dexception_003f"><code>os-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dbyte_002dposition"><code>output-port-byte-position</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dchar_002dposition"><code>output-port-char-position</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dcolumn"><code>output-port-column</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dline"><code>output-port-line</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dreadtable"><code>output-port-readtable</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dreadtable_002dset_0021"><code>output-port-readtable-set!</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dtimeout_002dset_0021"><code>output-port-timeout-set!</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_002dwidth"><code>output-port-width</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-output_002dport_003f"><code>output-port?</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-overflow_002c-floating-point">overflow, floating point</a></td><td valign="top"><a href="#System-limitations">20. System limitations</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-P">P</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-parameterize"><code>parameterize</code></a></td><td valign="top"><a href="#Dynamic-environment">14. Dynamic environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002ddirectory"><code>path-directory</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dexpand"><code>path-expand</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dextension"><code>path-extension</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dnormalize"><code>path-normalize</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dstrip_002ddirectory"><code>path-strip-directory</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dstrip_002dextension"><code>path-strip-extension</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dstrip_002dtrailing_002ddirectory_002dseparator"><code>path-strip-trailing-directory-separator</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dstrip_002dvolume"><code>path-strip-volume</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-path_002dvolume"><code>path-volume</code></a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-peek_002dchar"><code>peek-char</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-port_002dio_002dexception_002dhandler_002dset_0021"><code>port-io-exception-handler-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-port_002dsettings_002dset_0021"><code>port-settings-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-port_003f"><code>port?</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pp"><code>pp</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-pretty_002dprint"><code>pretty-print</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-primordial_002dexception_002dhandler"><code>primordial-exception-handler</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-print"><code>print</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-println"><code>println</code></a></td><td valign="top"><a href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-process_002dpid"><code>process-pid</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-process_002dstatus"><code>process-status</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-process_002dtimes"><code>process-times</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-proper-tail_002dcalls">proper tail-calls</a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-proper-tail_002dcalls-1">proper tail-calls</a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-proper_002dtail_002dcalls"><code>proper-tail-calls</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol_002dinfo"><code>protocol-info</code></a></td><td valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol_002dinfo_002daliases"><code>protocol-info-aliases</code></a></td><td valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol_002dinfo_002dname"><code>protocol-info-name</code></a></td><td valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol_002dinfo_002dnumber"><code>protocol-info-number</code></a></td><td valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol_002dinfo_003f"><code>protocol-info?</code></a></td><td valign="top"><a href="#Protocol-information">16.13 Protocol information</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-R">R</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-r4rs_002dscheme"><code>r4rs-scheme</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-r5rs_002dscheme"><code>r5rs-scheme</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-raise"><code>raise</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002df64vector"><code>random-f64vector</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dinteger"><code>random-integer</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dreal"><code>random-real</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dmake_002df64vectors"><code>random-source-make-f64vectors</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dmake_002dintegers"><code>random-source-make-integers</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dmake_002dreals"><code>random-source-make-reals</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dmake_002du8vectors"><code>random-source-make-u8vectors</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dpseudo_002drandomize_0021"><code>random-source-pseudo-randomize!</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002drandomize_0021"><code>random-source-randomize!</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dstate_002dref"><code>random-source-state-ref</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_002dstate_002dset_0021"><code>random-source-state-set!</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002dsource_003f"><code>random-source?</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-random_002du8vector"><code>random-u8vector</code></a></td><td valign="top"><a href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-range_002dexception_002darg_002dnum"><code>range-exception-arg-num</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-range_002dexception_002darguments"><code>range-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-range_002dexception_002dprocedure"><code>range-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-range_002dexception_003f"><code>range-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read"><code>read</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002dall"><code>read-all</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002dchar"><code>read-char</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002dline"><code>read-line</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002dsubstring"><code>read-substring</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002dsubu8vector"><code>read-subu8vector</code></a></td><td valign="top"><a href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-read_002du8"><code>read-u8</code></a></td><td valign="top"><a href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dcase_002dconversion_003f"><code>readtable-case-conversion?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dcase_002dconversion_003f_002dset"><code>readtable-case-conversion?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002deval_002dallowed_003f"><code>readtable-eval-allowed?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002deval_002dallowed_003f_002dset"><code>readtable-eval-allowed?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dkeywords_002dallowed_003f"><code>readtable-keywords-allowed?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dkeywords_002dallowed_003f_002dset"><code>readtable-keywords-allowed?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dunescaped_002dchar"><code>readtable-max-unescaped-char</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dunescaped_002dchar_002dset"><code>readtable-max-unescaped-char-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dwrite_002dlength"><code>readtable-max-write-length</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dwrite_002dlength_002dset"><code>readtable-max-write-length-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dwrite_002dlevel"><code>readtable-max-write-level</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dmax_002dwrite_002dlevel_002dset"><code>readtable-max-write-level-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dsharing_002dallowed_003f"><code>readtable-sharing-allowed?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dsharing_002dallowed_003f_002dset"><code>readtable-sharing-allowed?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dstart_002dsyntax"><code>readtable-start-syntax</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dstart_002dsyntax_002dset"><code>readtable-start-syntax-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dwrite_002dcdr_002dread_002dmacros_003f"><code>readtable-write-cdr-read-macros?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dwrite_002dcdr_002dread_002dmacros_003f_002dset"><code>readtable-write-cdr-read-macros?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dwrite_002dextended_002dread_002dmacros_003f"><code>readtable-write-extended-read-macros?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_002dwrite_002dextended_002dread_002dmacros_003f_002dset"><code>readtable-write-extended-read-macros?-set</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-readtable_003f"><code>readtable?</code></a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-real_002dtime"><code>real-time</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-receive"><code>receive</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-relative-path">relative path</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-relative-path-1">relative path</a></td><td valign="top"><a href="#Handling-of-file-names">16.1 Handling of file names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rename_002dfile"><code>rename-file</code></a></td><td valign="top"><a href="#Filesystem-operations">16.2 Filesystem operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repl_002ddisplay_002denvironment_003f"><code>repl-display-environment?</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repl_002dinput_002dport"><code>repl-input-port</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repl_002doutput_002dport"><code>repl-output-port</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repl_002dresult_002dhistory_002dmax_002dlength_002dset_0021"><code>repl-result-history-max-length-set!</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-repl_002dresult_002dhistory_002dref"><code>repl-result-history-ref</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-replace_002dbit_002dfield"><code>replace-bit-field</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rpc_002dremote_002derror_002dexception_002darguments"><code>rpc-remote-error-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rpc_002dremote_002derror_002dexception_002dmessage"><code>rpc-remote-error-exception-message</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rpc_002dremote_002derror_002dexception_002dprocedure"><code>rpc-remote-error-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-rpc_002dremote_002derror_002dexception_003f"><code>rpc-remote-error-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-run_002dtime_002dbindings"><code>run-time-bindings</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-runtime-options">runtime options</a></td><td valign="top"><a href="#Runtime-options">4. Runtime options</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-S">S</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector"><code>s16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002d_003elist"><code>s16vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dappend"><code>s16vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dcopy"><code>s16vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dfill_0021"><code>s16vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dlength"><code>s16vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dref"><code>s16vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dset_0021"><code>s16vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_002dshrink_0021"><code>s16vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s16vector_003f"><code>s16vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector"><code>s32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002d_003elist"><code>s32vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dappend"><code>s32vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dcopy"><code>s32vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dfill_0021"><code>s32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dlength"><code>s32vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dref"><code>s32vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dset_0021"><code>s32vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_002dshrink_0021"><code>s32vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s32vector_003f"><code>s32vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector"><code>s64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002d_003elist"><code>s64vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dappend"><code>s64vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dcopy"><code>s64vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dfill_0021"><code>s64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dlength"><code>s64vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dref"><code>s64vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dset_0021"><code>s64vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_002dshrink_0021"><code>s64vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s64vector_003f"><code>s64vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector"><code>s8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002d_003elist"><code>s8vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dappend"><code>s8vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dcopy"><code>s8vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dfill_0021"><code>s8vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dlength"><code>s8vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dref"><code>s8vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dset_0021"><code>s8vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_002dshrink_0021"><code>s8vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-s8vector_003f"><code>s8vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-safe"><code>safe</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheduler_002dexception_002dreason"><code>scheduler-exception-reason</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheduler_002dexception_003f"><code>scheduler-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme">Scheme</a></td><td valign="top"><a href="#The-Gambit_002dC-system">1. The Gambit-C system</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-Scheme_002c-implementation-of">Scheme, implementation of</a></td><td valign="top"><a href="#Top">Gambit-C</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheme_002dieee_002d1178_002d1990"><code>scheme-ieee-1178-1990</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheme_002dr4rs"><code>scheme-r4rs</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheme_002dr5rs"><code>scheme-r5rs</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-scheme_002dsrfi_002d0"><code>scheme-srfi-0</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-seconds_002d_003etime"><code>seconds-&gt;time</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-separate"><code>separate</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-serial_002dnumber_002d_003eobject"><code>serial-number-&gt;object</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-serialization">serialization</a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-serialization-1">serialization</a></td><td valign="top"><a href="#Readtables">18.1 Readtables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo"><code>service-info</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo_002daliases"><code>service-info-aliases</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo_002dname"><code>service-info-name</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo_002dport_002dnumber"><code>service-info-port-number</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo_002dprotocol"><code>service-info-protocol</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-service_002dinfo_003f"><code>service-info?</code></a></td><td valign="top"><a href="#Service-information">16.12 Service information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-set_0021"><code>set!</code></a></td><td valign="top"><a href="#System-limitations">20. System limitations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-set_002dbox_0021"><code>set-box!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-setenv"><code>setenv</code></a></td><td valign="top"><a href="#Environment-variables">16.6 Environment variables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sfun_002dconversion_002dexception_002darguments"><code>sfun-conversion-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sfun_002dconversion_002dexception_002dcode"><code>sfun-conversion-exception-code</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sfun_002dconversion_002dexception_002dmessage"><code>sfun-conversion-exception-message</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sfun_002dconversion_002dexception_002dprocedure"><code>sfun-conversion-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-sfun_002dconversion_002dexception_003f"><code>sfun-conversion-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-shell_002dcommand"><code>shell-command</code></a></td><td valign="top"><a href="#Shell-command-execution">16.3 Shell command execution</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002dscript"><code>six-script</code></a></td><td valign="top"><a href="#Scheme-scripts">2.5 Scheme scripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_0021"><code>six.!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_0021x"><code>six.!x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_0026x"><code>six.&amp;x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_002ax"><code>six.*x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_002b_002bx"><code>six.++x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_002bx"><code>six.+x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_002d_002dx"><code>six.--x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_002dx"><code>six.-x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002earrow"><code>six.arrow</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ebreak"><code>six.break</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ecall"><code>six.call</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ecase"><code>six.case</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eclause"><code>six.clause</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ecompound"><code>six.compound</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002econs"><code>six.cons</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002econtinue"><code>six.continue</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002edefine_002dprocedure"><code>six.define-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002edefine_002dvariable"><code>six.define-variable</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002edo_002dwhile"><code>six.do-while</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002edot"><code>six.dot</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002efor"><code>six.for</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002egoto"><code>six.goto</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eidentifier"><code>six.identifier</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eif"><code>six.if</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eindex"><code>six.index</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002elabel"><code>six.label</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002elist"><code>six.list</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eliteral"><code>six.literal</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002emake_002darray"><code>six.make-array</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002enew"><code>six.new</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002enull"><code>six.null</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eprefix"><code>six.prefix</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eprocedure"><code>six.procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eprocedure_002dbody"><code>six.procedure-body</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ereturn"><code>six.return</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002eswitch"><code>six.switch</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ewhile"><code>six.while</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0021_003dy"><code>six.x!=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0025_003dy"><code>six.x%=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0025y"><code>six.x%y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0026_0026y"><code>six.x&amp;&amp;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0026_003dy"><code>six.x&amp;=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_0026y"><code>six.x&amp;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002a_003dy"><code>six.x*=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002ay"><code>six.x*y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002b_002b"><code>six.x++</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002b_003dy"><code>six.x+=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002by"><code>six.x+y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002d_002d"><code>six.x--</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002d_003dy"><code>six.x-=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002dy"><code>six.x-y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002f_003dy"><code>six.x/=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_002fy"><code>six.x/y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003a_002dy"><code>six.x:-y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003a_003dy"><code>six.x:=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003ay"><code>six.x:y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003c_003c_003dy"><code>six.x&lt;&lt;=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003c_003cy"><code>six.x&lt;&lt;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003c_003dy"><code>six.x&lt;=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003cy"><code>six.x&lt;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003d_003dy"><code>six.x==y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003dy"><code>six.x=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003e_003dy"><code>six.x&gt;=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003e_003e_003dy"><code>six.x&gt;&gt;=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003e_003ey"><code>six.x&gt;&gt;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003ey"><code>six.x&gt;y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_003fy_003az"><code>six.x?y:z</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_005e_003dy"><code>six.x^=y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002ex_005ey"><code>six.x^y</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-six_002e_007ex"><code>six.~x</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-socket_002dinfo_002daddress"><code>socket-info-address</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-socket_002dinfo_002dfamily"><code>socket-info-family</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-socket_002dinfo_002dport_002dnumber"><code>socket-info-port-number</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-socket_002dinfo_003f"><code>socket-info?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-stack_002doverflow_002dexception_003f"><code>stack-overflow-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-memory-management">15.2 Exception objects related to memory management</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-standard_002dbindings"><code>standard-bindings</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-started_002dthread_002dexception_002darguments"><code>started-thread-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-started_002dthread_002dexception_002dprocedure"><code>started-thread-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-started_002dthread_002dexception_003f"><code>started-thread-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-step"><code>step</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-step_002dlevel_002dset_0021"><code>step-level-set!</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002d_003ekeyword"><code>string-&gt;keyword</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003c_003d_003f"><code>string-ci&lt;=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003c_003f"><code>string-ci&lt;?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003d_003f"><code>string-ci=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003d_003f_002dhash"><code>string-ci=?-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003e_003d_003f"><code>string-ci&gt;=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dci_003e_003f"><code>string-ci&gt;?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_002dshrink_0021"><code>string-shrink!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003c_003d_003f"><code>string&lt;=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003c_003f"><code>string&lt;?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003d_003f"><code>string=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003d_003f_002dhash"><code>string=?-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003e_003d_003f"><code>string&gt;=?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string_003e_003f"><code>string&gt;?</code></a></td><td valign="top"><a href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf32vector"><code>subf32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf32vector_002dfill_0021"><code>subf32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf32vector_002dmove_0021"><code>subf32vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf64vector"><code>subf64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf64vector_002dfill_0021"><code>subf64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subf64vector_002dmove_0021"><code>subf64vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs16vector"><code>subs16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs16vector_002dfill_0021"><code>subs16vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs16vector_002dmove_0021"><code>subs16vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs32vector"><code>subs32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs32vector_002dfill_0021"><code>subs32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs32vector_002dmove_0021"><code>subs32vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs64vector"><code>subs64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs64vector_002dfill_0021"><code>subs64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs64vector_002dmove_0021"><code>subs64vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs8vector"><code>subs8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs8vector_002dfill_0021"><code>subs8vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subs8vector_002dmove_0021"><code>subs8vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-substring_002dfill_0021"><code>substring-fill!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-substring_002dmove_0021"><code>substring-move!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu16vector"><code>subu16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu16vector_002dfill_0021"><code>subu16vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu16vector_002dmove_0021"><code>subu16vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu32vector"><code>subu32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu32vector_002dfill_0021"><code>subu32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu32vector_002dmove_0021"><code>subu32vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu64vector"><code>subu64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu64vector_002dfill_0021"><code>subu64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu64vector_002dmove_0021"><code>subu64vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu8vector"><code>subu8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu8vector_002dfill_0021"><code>subu8vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subu8vector_002dmove_0021"><code>subu8vector-move!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subvector"><code>subvector</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subvector_002dfill_0021"><code>subvector-fill!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subvector_002dmove_0021"><code>subvector-move!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-symbol_002dhash"><code>symbol-hash</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax_002dcase"><code>syntax-case</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntax_002drules"><code>syntax-rules</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_002dstamp"><code>system-stamp</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_002dtype"><code>system-type</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_002dtype_002dstring"><code>system-type-string</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_002dversion"><code>system-version</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-system_002dversion_002dstring"><code>system-version-string</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-T">T</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002d_003elist"><code>table-&gt;list</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dcopy"><code>table-copy</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dfor_002deach"><code>table-for-each</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dlength"><code>table-length</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dmerge"><code>table-merge</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dmerge_0021"><code>table-merge!</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dref"><code>table-ref</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dsearch"><code>table-search</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_002dset_0021"><code>table-set!</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-table_003f"><code>table?</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tables">tables</a></td><td valign="top"><a href="#Hashing-and-weak-references">11. Hashing and weak references</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tail_002dcalls">tail-calls</a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tail_002dcalls-1">tail-calls</a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tcp_002dclient_002dpeer_002dsocket_002dinfo"><code>tcp-client-peer-socket-info</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tcp_002dclient_002dself_002dsocket_002dinfo"><code>tcp-client-self-socket-info</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tcp_002dserver_002dsocket_002dinfo"><code>tcp-server-socket-info</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tcp_002dservice_002dregister_0021"><code>tcp-service-register!</code></a></td><td valign="top"><a href="#Network-devices">17.7.3 Network devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tcp_002dservice_002dunregister_0021"><code>tcp-service-unregister!</code></a></td><td valign="top"><a href="#Network-devices">17.7.3 Network devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-terminated_002dthread_002dexception_002darguments"><code>terminated-thread-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-terminated_002dthread_002dexception_002dprocedure"><code>terminated-thread-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-terminated_002dthread_002dexception_003f"><code>terminated-thread-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-test_002dbit_002dfield_003f"><code>test-bit-field?</code></a></td><td valign="top"><a href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-this_002dsource_002dfile"><code>this-source-file</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dbase_002dpriority"><code>thread-base-priority</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dbase_002dpriority_002dset_0021"><code>thread-base-priority-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002d_003ethread_002dgroup_002dlist"><code>thread-group-&gt;thread-group-list</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002d_003ethread_002dgroup_002dvector"><code>thread-group-&gt;thread-group-vector</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002d_003ethread_002dlist"><code>thread-group-&gt;thread-list</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002d_003ethread_002dvector"><code>thread-group-&gt;thread-vector</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002dname"><code>thread-group-name</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002dparent"><code>thread-group-parent</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002dresume_0021"><code>thread-group-resume!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002dsuspend_0021"><code>thread-group-suspend!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_002dterminate_0021"><code>thread-group-terminate!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dgroup_003f"><code>thread-group?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dinit_0021"><code>thread-init!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dinterrupt_0021"><code>thread-interrupt!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002djoin_0021"><code>thread-join!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dmailbox_002dextract_002dand_002drewind"><code>thread-mailbox-extract-and-rewind</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dmailbox_002dnext"><code>thread-mailbox-next</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dmailbox_002drewind"><code>thread-mailbox-rewind</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dname"><code>thread-name</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dpriority_002dboost"><code>thread-priority-boost</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dpriority_002dboost_002dset_0021"><code>thread-priority-boost-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dquantum"><code>thread-quantum</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dquantum_002dset_0021"><code>thread-quantum-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dreceive"><code>thread-receive</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dresume_0021"><code>thread-resume!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dsend"><code>thread-send</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dsleep_0021"><code>thread-sleep!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dspecific"><code>thread-specific</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dspecific_002dset_0021"><code>thread-specific-set!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstart_0021"><code>thread-start!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate"><code>thread-state</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dabnormally_002dterminated_002dreason"><code>thread-state-abnormally-terminated-reason</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dabnormally_002dterminated_003f"><code>thread-state-abnormally-terminated?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dactive_002dtimeout"><code>thread-state-active-timeout</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dactive_002dwaiting_002dfor"><code>thread-state-active-waiting-for</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dactive_003f"><code>thread-state-active?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dinitialized_003f"><code>thread-state-initialized?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dnormally_002dterminated_002dresult"><code>thread-state-normally-terminated-result</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002dnormally_002dterminated_003f"><code>thread-state-normally-terminated?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dstate_002duninitialized_003f"><code>thread-state-uninitialized?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dsuspend_0021"><code>thread-suspend!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dterminate_0021"><code>thread-terminate!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dthread_002dgroup"><code>thread-thread-group</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_002dyield_0021"><code>thread-yield!</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-thread_003f"><code>thread?</code></a></td><td valign="top"><a href="#Procedures">13.9 Procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-threads">threads</a></td><td valign="top"><a href="#Threads">13. Threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-time"><code>time</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-time_002d_003eseconds"><code>time-&gt;seconds</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-time_003f"><code>time?</code></a></td><td valign="top"><a href="#Measuring-time">16.7 Measuring time</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-timeout_002d_003etime"><code>timeout-&gt;time</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-top"><code>top</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-touch"><code>touch</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-trace"><code>trace</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-transcript_002doff"><code>transcript-off</code></a></td><td valign="top"><a href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-transcript_002don"><code>transcript-on</code></a></td><td valign="top"><a href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dhistory"><code>tty-history</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dhistory_002dmax_002dlength_002dset_0021"><code>tty-history-max-length-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dhistory_002dset_0021"><code>tty-history-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dmode_002dset_0021"><code>tty-mode-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dparen_002dbalance_002dduration_002dset_0021"><code>tty-paren-balance-duration-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dtext_002dattributes_002dset_0021"><code>tty-text-attributes-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_002dtype_002dset_0021"><code>tty-type-set!</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-tty_003f"><code>tty?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type_002dexception_002darg_002dnum"><code>type-exception-arg-num</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type_002dexception_002darguments"><code>type-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type_002dexception_002dprocedure"><code>type-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type_002dexception_002dtype_002did"><code>type-exception-type-id</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-type_002dexception_003f"><code>type-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-U">U</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector"><code>u16vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002d_003elist"><code>u16vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dappend"><code>u16vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dcopy"><code>u16vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dfill_0021"><code>u16vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dlength"><code>u16vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dref"><code>u16vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dset_0021"><code>u16vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_002dshrink_0021"><code>u16vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u16vector_003f"><code>u16vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector"><code>u32vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002d_003elist"><code>u32vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dappend"><code>u32vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dcopy"><code>u32vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dfill_0021"><code>u32vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dlength"><code>u32vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dref"><code>u32vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dset_0021"><code>u32vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_002dshrink_0021"><code>u32vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u32vector_003f"><code>u32vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector"><code>u64vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002d_003elist"><code>u64vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dappend"><code>u64vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dcopy"><code>u64vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dfill_0021"><code>u64vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dlength"><code>u64vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dref"><code>u64vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dset_0021"><code>u64vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_002dshrink_0021"><code>u64vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u64vector_003f"><code>u64vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector"><code>u8vector</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002d_003elist"><code>u8vector-&gt;list</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002d_003eobject"><code>u8vector-&gt;object</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dappend"><code>u8vector-append</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dcopy"><code>u8vector-copy</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dfill_0021"><code>u8vector-fill!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dlength"><code>u8vector-length</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dref"><code>u8vector-ref</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dset_0021"><code>u8vector-set!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_002dshrink_0021"><code>u8vector-shrink!</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-u8vector_003f"><code>u8vector?</code></a></td><td valign="top"><a href="#Homogeneous-vectors">10. Homogeneous vectors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dglobal_002dexception_002dcode"><code>unbound-global-exception-code</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dglobal_002dexception_002drte"><code>unbound-global-exception-rte</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dglobal_002dexception_002dvariable"><code>unbound-global-exception-variable</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dglobal_002dexception_003f"><code>unbound-global-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dos_002denvironment_002dvariable_002dexception_002darguments"><code>unbound-os-environment-variable-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dos_002denvironment_002dvariable_002dexception_002dprocedure"><code>unbound-os-environment-variable-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dos_002denvironment_002dvariable_002dexception_003f"><code>unbound-os-environment-variable-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dserial_002dnumber_002dexception_002darguments"><code>unbound-serial-number-exception-arguments</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dserial_002dnumber_002dexception_002dprocedure"><code>unbound-serial-number-exception-procedure</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dserial_002dnumber_002dexception_003f"><code>unbound-serial-number-exception?</code></a></td><td valign="top"><a href="#Hashing">11.1 Hashing</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dtable_002dkey_002dexception_002darguments"><code>unbound-table-key-exception-arguments</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dtable_002dkey_002dexception_002dprocedure"><code>unbound-table-key-exception-procedure</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbound_002dtable_002dkey_002dexception_003f"><code>unbound-table-key-exception?</code></a></td><td valign="top"><a href="#Tables">11.2.2 Tables</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbox"><code>unbox</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unbreak"><code>unbreak</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uncaught_002dexception_002darguments"><code>uncaught-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uncaught_002dexception_002dprocedure"><code>uncaught-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uncaught_002dexception_002dreason"><code>uncaught-exception-reason</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uncaught_002dexception_003f"><code>uncaught-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uninitialized_002dthread_002dexception_002darguments"><code>uninitialized-thread-exception-arguments</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uninitialized_002dthread_002dexception_002dprocedure"><code>uninitialized-thread-exception-procedure</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uninitialized_002dthread_002dexception_003f"><code>uninitialized-thread-exception?</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uninterned_002dkeyword_003f"><code>uninterned-keyword?</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-uninterned_002dsymbol_003f"><code>uninterned-symbol?</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unknown_002dkeyword_002dargument_002dexception_002darguments"><code>unknown-keyword-argument-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unknown_002dkeyword_002dargument_002dexception_002dprocedure"><code>unknown-keyword-argument-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unknown_002dkeyword_002dargument_002dexception_003f"><code>unknown-keyword-argument-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unterminated_002dprocess_002dexception_002darguments"><code>unterminated-process-exception-arguments</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unterminated_002dprocess_002dexception_002dprocedure"><code>unterminated-process-exception-procedure</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unterminated_002dprocess_002dexception_003f"><code>unterminated-process-exception?</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-untrace"><code>untrace</code></a></td><td valign="top"><a href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo"><code>user-info</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_002dgid"><code>user-info-gid</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_002dhome"><code>user-info-home</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_002dname"><code>user-info-name</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_002dshell"><code>user-info-shell</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_002duid"><code>user-info-uid</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dinfo_003f"><code>user-info?</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-user_002dname"><code>user-name</code></a></td><td valign="top"><a href="#User-information">16.10 User information</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-V">V</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-vector_002dappend"><code>vector-append</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vector_002dcopy"><code>vector-copy</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-vector_002dshrink_0021"><code>vector-shrink!</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-void"><code>void</code></a></td><td valign="top"><a href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
<tr><th><a name="General-index-1_cp_letter-W">W</a></th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-weak-references">weak references</a></td><td valign="top"><a href="#Hashing-and-weak-references">11. Hashing and weak references</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-will_002dexecute_0021"><code>will-execute!</code></a></td><td valign="top"><a href="#Wills">11.2.1 Wills</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-will_002dtestator"><code>will-testator</code></a></td><td valign="top"><a href="#Wills">11.2.1 Wills</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-will_003f"><code>will?</code></a></td><td valign="top"><a href="#Wills">11.2.1 Wills</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dexception_002dcatcher"><code>with-exception-catcher</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dexception_002dhandler"><code>with-exception-handler</code></a></td><td valign="top"><a href="#Exception_002dhandling">15.1 Exception-handling</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002dfile"><code>with-input-from-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002dport"><code>with-input-from-port</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002dprocess"><code>with-input-from-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002dstring"><code>with-input-from-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002du8vector"><code>with-input-from-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002dinput_002dfrom_002dvector"><code>with-input-from-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002dfile"><code>with-output-to-file</code></a></td><td valign="top"><a href="#Filesystem-devices">17.7.1 Filesystem devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002dport"><code>with-output-to-port</code></a></td><td valign="top"><a href="#Undocumented-extensions">6.4 Undocumented extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002dprocess"><code>with-output-to-process</code></a></td><td valign="top"><a href="#Process-devices">17.7.2 Process devices</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002dstring"><code>with-output-to-string</code></a></td><td valign="top"><a href="#String_002dports">17.10 String-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002du8vector"><code>with-output-to-u8vector</code></a></td><td valign="top"><a href="#U8vector_002dports">17.11 U8vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-with_002doutput_002dto_002dvector"><code>with-output-to-vector</code></a></td><td valign="top"><a href="#Vector_002dports">17.9 Vector-ports</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-write"><code>write</code></a></td><td valign="top"><a href="#Object_002dport-operations">17.4.2 Object-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-write_002dchar"><code>write-char</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-write_002dsubstring"><code>write-substring</code></a></td><td valign="top"><a href="#Character_002dport-operations">17.5.2 Character-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-write_002dsubu8vector"><code>write-subu8vector</code></a></td><td valign="top"><a href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-write_002du8"><code>write-u8</code></a></td><td valign="top"><a href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wrong_002dnumber_002dof_002darguments_002dexception_002darguments"><code>wrong-number-of-arguments-exception-arguments</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wrong_002dnumber_002dof_002darguments_002dexception_002dprocedure"><code>wrong-number-of-arguments-exception-procedure</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-wrong_002dnumber_002dof_002darguments_002dexception_003f"><code>wrong-number-of-arguments-exception?</code></a></td><td valign="top"><a href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></td></tr>
<tr><td colspan="3"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a href="#General-index-1_cp_symbol-1" class="summary-letter"><b>#</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-2" class="summary-letter"><b>+</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-3" class="summary-letter"><b>,</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-4" class="summary-letter"><b>-</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-5" class="summary-letter"><b>.</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-6" class="summary-letter"><b>&lt;</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-7" class="summary-letter"><b>=</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-8" class="summary-letter"><b>&gt;</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-9" class="summary-letter"><b>^</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-10" class="summary-letter"><b>_</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-11" class="summary-letter"><b>|</b></a>
 &nbsp; 
<a href="#General-index-1_cp_symbol-12" class="summary-letter"><b>~</b></a>
 &nbsp; 
<br>
<a href="#General-index-1_cp_letter-A" class="summary-letter"><b>A</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-B" class="summary-letter"><b>B</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-C" class="summary-letter"><b>C</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-D" class="summary-letter"><b>D</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-E" class="summary-letter"><b>E</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-F" class="summary-letter"><b>F</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-G" class="summary-letter"><b>G</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-H" class="summary-letter"><b>H</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-I" class="summary-letter"><b>I</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-J" class="summary-letter"><b>J</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-K" class="summary-letter"><b>K</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-L" class="summary-letter"><b>L</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-M" class="summary-letter"><b>M</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-N" class="summary-letter"><b>N</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-O" class="summary-letter"><b>O</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-P" class="summary-letter"><b>P</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-R" class="summary-letter"><b>R</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-S" class="summary-letter"><b>S</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-T" class="summary-letter"><b>T</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-U" class="summary-letter"><b>U</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-V" class="summary-letter"><b>V</b></a>
 &nbsp; 
<a href="#General-index-1_cp_letter-W" class="summary-letter"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<a name="SEC_Contents"></a><hr size="6"><br/><br/><br/>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left"><a href="#Top" title="Cover (top) of document"><img src="button-up-arrow.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#SEC_Contents" title="Table of contents"><img src="button-compass.png" border="0" align="middle" width="32"></a></td>
<td valign="middle" align="left"><a href="#General-index" title="Index"><img src="button-abc.png" border="0" align="middle" width="32"></a></td>
</tr></table>
<h1>Table of Contents</h1>
<div class="contents">

<ul class="toc">
  <li><a name="toc-The-Gambit_002dC-system-1" href="#The-Gambit_002dC-system">1. The Gambit-C system</a>
  <ul class="toc">
    <li><a name="toc-Accessing-the-system-files-1" href="#Accessing-the-system-files">1.1 Accessing the system files</a></li>
  </ul></li>
  <li><a name="toc-The-Gambit-Scheme-interpreter" href="#GSI">2. The Gambit Scheme interpreter</a>
  <ul class="toc">
    <li><a name="toc-Interactive-mode-1" href="#GSI-interactive-mode">2.1 Interactive mode</a></li>
    <li><a name="toc-Batch-mode-1" href="#GSI-batch-mode">2.2 Batch mode</a></li>
    <li><a name="toc-Customization-1" href="#GSI-customization">2.3 Customization</a></li>
    <li><a name="toc-Process-exit-status" href="#GSI-exit-status">2.4 Process exit status</a></li>
    <li><a name="toc-Scheme-scripts-1" href="#Scheme-scripts">2.5 Scheme scripts</a>
    <ul class="toc">
      <li><a name="toc-Scripts-under-UNIX-and-Mac-OS-X-1" href="#Scripts-under-UNIX-and-Mac-OS-X">2.5.1 Scripts under UNIX and Mac OS X</a></li>
      <li><a name="toc-Scripts-under-Microsoft-Windows-1" href="#Scripts-under-Microsoft-Windows">2.5.2 Scripts under Microsoft Windows</a></li>
      <li><a name="toc-Compiling-scripts-1" href="#Compiling-scripts">2.5.3 Compiling scripts</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-The-Gambit-Scheme-compiler" href="#GSC">3. The Gambit Scheme compiler</a>
  <ul class="toc">
    <li><a name="toc-Interactive-mode" href="#GSC-interactive-mode">3.1 Interactive mode</a></li>
    <li><a name="toc-Customization" href="#GSC-customization">3.2 Customization</a></li>
    <li><a name="toc-Batch-mode" href="#GSC-batch-mode">3.3 Batch mode</a></li>
    <li><a name="toc-Link-files-1" href="#Link-files">3.4 Link files</a>
    <ul class="toc">
      <li><a name="toc-Building-an-executable-program-1" href="#Building-an-executable-program">3.4.1 Building an executable program</a></li>
      <li><a name="toc-Building-a-loadable-library-1" href="#Building-a-loadable-library">3.4.2 Building a loadable library</a></li>
      <li><a name="toc-Building-a-shared_002dlibrary-1" href="#Building-a-shared_002dlibrary">3.4.3 Building a shared-library</a></li>
      <li><a name="toc-Other-compilation-options-1" href="#Other-compilation-options">3.4.4 Other compilation options</a></li>
    </ul></li>
    <li><a name="toc-Procedures-specific-to-compiler-1" href="#Procedures-specific-to-compiler">3.5 Procedures specific to compiler</a></li>
  </ul></li>
  <li><a name="toc-Runtime-options-1" href="#Runtime-options">4. Runtime options</a></li>
  <li><a name="toc-Debugging-1" href="#Debugging">5. Debugging</a>
  <ul class="toc">
    <li><a name="toc-Debugging-model-1" href="#Debugging-model">5.1 Debugging model</a></li>
    <li><a name="toc-Debugging-commands-1" href="#Debugging-commands">5.2 Debugging commands</a></li>
    <li><a name="toc-Debugging-example-1" href="#Debugging-example">5.3 Debugging example</a></li>
    <li><a name="toc-Procedures-related-to-debugging-1" href="#Procedures-related-to-debugging">5.4 Procedures related to debugging</a></li>
    <li><a name="toc-Console-line_002dediting-1" href="#Console-line_002dediting">5.5 Console line-editing</a></li>
    <li><a name="toc-Emacs-interface-1" href="#Emacs-interface">5.6 Emacs interface</a></li>
    <li><a name="toc-GUIDE-1" href="#GUIDE">5.7 GUIDE</a></li>
  </ul></li>
  <li><a name="toc-Scheme-extensions-1" href="#Scheme-extensions">6. Scheme extensions</a>
  <ul class="toc">
    <li><a name="toc-Extensions-to-standard-procedures-1" href="#Extensions-to-standard-procedures">6.1 Extensions to standard procedures</a></li>
    <li><a name="toc-Extensions-to-standard-special-forms-1" href="#Extensions-to-standard-special-forms">6.2 Extensions to standard special forms</a></li>
    <li><a name="toc-Miscellaneous-extensions-1" href="#Miscellaneous-extensions">6.3 Miscellaneous extensions</a></li>
    <li><a name="toc-Undocumented-extensions-1" href="#Undocumented-extensions">6.4 Undocumented extensions</a></li>
  </ul></li>
  <li><a name="toc-Namespaces-1" href="#Namespaces">7. Namespaces</a></li>
  <li><a name="toc-Characters-and-strings-1" href="#Characters-and-strings">8. Characters and strings</a>
  <ul class="toc">
    <li><a name="toc-Extensions-to-character-procedures-1" href="#Extensions-to-character-procedures">8.1 Extensions to character procedures</a></li>
    <li><a name="toc-Extensions-to-string-procedures-1" href="#Extensions-to-string-procedures">8.2 Extensions to string procedures</a></li>
  </ul></li>
  <li><a name="toc-Numbers-1" href="#Numbers">9. Numbers</a>
  <ul class="toc">
    <li><a name="toc-Extensions-to-numeric-procedures-1" href="#Extensions-to-numeric-procedures">9.1 Extensions to numeric procedures</a></li>
    <li><a name="toc-IEEE-floating-point-arithmetic-1" href="#IEEE-floating-point-arithmetic">9.2 IEEE floating point arithmetic</a></li>
    <li><a name="toc-Integer-square-root-and-nth-root-1" href="#Integer-square-root-and-nth-root">9.3 Integer square root and nth root</a></li>
    <li><a name="toc-Bitwise_002doperations-on-exact-integers-1" href="#Bitwise_002doperations-on-exact-integers">9.4 Bitwise-operations on exact integers</a></li>
    <li><a name="toc-Fixnum-specific-operations-1" href="#Fixnum-specific-operations">9.5 Fixnum specific operations</a></li>
    <li><a name="toc-Flonum-specific-operations-1" href="#Flonum-specific-operations">9.6 Flonum specific operations</a></li>
    <li><a name="toc-Pseudo-random-numbers-1" href="#Pseudo-random-numbers">9.7 Pseudo random numbers</a></li>
  </ul></li>
  <li><a name="toc-Homogeneous-vectors-1" href="#Homogeneous-vectors">10. Homogeneous vectors</a></li>
  <li><a name="toc-Hashing-and-weak-references-1" href="#Hashing-and-weak-references">11. Hashing and weak references</a>
  <ul class="toc">
    <li><a name="toc-Hashing-1" href="#Hashing">11.1 Hashing</a></li>
    <li><a name="toc-Weak-references-1" href="#Weak-references">11.2 Weak references</a>
    <ul class="toc">
      <li><a name="toc-Wills-1" href="#Wills">11.2.1 Wills</a></li>
      <li><a name="toc-Tables-1" href="#Tables">11.2.2 Tables</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-Records-1" href="#Records">12. Records</a></li>
  <li><a name="toc-Threads-1" href="#Threads">13. Threads</a>
  <ul class="toc">
    <li><a name="toc-Introduction-1" href="#Introduction">13.1 Introduction</a></li>
    <li><a name="toc-Thread-objects-1" href="#Thread-objects">13.2 Thread objects</a></li>
    <li><a name="toc-Mutex-objects-1" href="#Mutex-objects">13.3 Mutex objects</a></li>
    <li><a name="toc-Condition-variable-objects-1" href="#Condition-variable-objects">13.4 Condition variable objects</a></li>
    <li><a name="toc-Fairness-1" href="#Fairness">13.5 Fairness</a></li>
    <li><a name="toc-Memory-coherency-1" href="#Memory-coherency">13.6 Memory coherency</a></li>
    <li><a name="toc-Timeouts-1" href="#Timeouts">13.7 Timeouts</a></li>
    <li><a name="toc-Primordial-thread-1" href="#Primordial-thread">13.8 Primordial thread</a></li>
    <li><a name="toc-Procedures-1" href="#Procedures">13.9 Procedures</a></li>
  </ul></li>
  <li><a name="toc-Dynamic-environment-1" href="#Dynamic-environment">14. Dynamic environment</a></li>
  <li><a name="toc-Exceptions-1" href="#Exceptions">15. Exceptions</a>
  <ul class="toc">
    <li><a name="toc-Exception_002dhandling-1" href="#Exception_002dhandling">15.1 Exception-handling</a></li>
    <li><a name="toc-Exception-objects-related-to-memory-management-1" href="#Exception-objects-related-to-memory-management">15.2 Exception objects related to memory management</a></li>
    <li><a name="toc-Exception-objects-related-to-the-host-environment-1" href="#Exception-objects-related-to-the-host-environment">15.3 Exception objects related to the host environment</a></li>
    <li><a name="toc-Exception-objects-related-to-threads-1" href="#Exception-objects-related-to-threads">15.4 Exception objects related to threads</a></li>
    <li><a name="toc-Exception-objects-related-to-C_002dinterface-1" href="#Exception-objects-related-to-C_002dinterface">15.5 Exception objects related to C-interface</a></li>
    <li><a name="toc-Exception-objects-related-to-the-reader-1" href="#Exception-objects-related-to-the-reader">15.6 Exception objects related to the reader</a></li>
    <li><a name="toc-Exception-objects-related-to-evaluation-and-compilation-1" href="#Exception-objects-related-to-evaluation-and-compilation">15.7 Exception objects related to evaluation and compilation</a></li>
    <li><a name="toc-Exception-objects-related-to-type-checking-1" href="#Exception-objects-related-to-type-checking">15.8 Exception objects related to type checking</a></li>
    <li><a name="toc-Exception-objects-related-to-procedure-call-1" href="#Exception-objects-related-to-procedure-call">15.9 Exception objects related to procedure call</a></li>
    <li><a name="toc-Other-exception-objects-1" href="#Other-exception-objects">15.10 Other exception objects</a></li>
  </ul></li>
  <li><a name="toc-Host-environment-1" href="#Host-environment">16. Host environment</a>
  <ul class="toc">
    <li><a name="toc-Handling-of-file-names-1" href="#Handling-of-file-names">16.1 Handling of file names</a></li>
    <li><a name="toc-Filesystem-operations-1" href="#Filesystem-operations">16.2 Filesystem operations</a></li>
    <li><a name="toc-Shell-command-execution-1" href="#Shell-command-execution">16.3 Shell command execution</a></li>
    <li><a name="toc-Process-termination-1" href="#Process-termination">16.4 Process termination</a></li>
    <li><a name="toc-Command-line-arguments-1" href="#Command-line-arguments">16.5 Command line arguments</a></li>
    <li><a name="toc-Environment-variables-1" href="#Environment-variables">16.6 Environment variables</a></li>
    <li><a name="toc-Measuring-time-1" href="#Measuring-time">16.7 Measuring time</a></li>
    <li><a name="toc-File-information-1" href="#File-information">16.8 File information</a></li>
    <li><a name="toc-Group-information-1" href="#Group-information">16.9 Group information</a></li>
    <li><a name="toc-User-information-1" href="#User-information">16.10 User information</a></li>
    <li><a name="toc-Host-information-1" href="#Host-information">16.11 Host information</a></li>
    <li><a name="toc-Service-information-1" href="#Service-information">16.12 Service information</a></li>
    <li><a name="toc-Protocol-information-1" href="#Protocol-information">16.13 Protocol information</a></li>
    <li><a name="toc-Network-information-1" href="#Network-information">16.14 Network information</a></li>
  </ul></li>
  <li><a name="toc-I_002fO-and-ports-1" href="#I_002fO-and-ports">17. I/O and ports</a>
  <ul class="toc">
    <li><a name="toc-Unidirectional-and-bidirectional-ports-1" href="#Unidirectional-and-bidirectional-ports">17.1 Unidirectional and bidirectional ports</a></li>
    <li><a name="toc-Port-classes-1" href="#Port-classes">17.2 Port classes</a></li>
    <li><a name="toc-Port-settings-1" href="#Port-settings">17.3 Port settings</a></li>
    <li><a name="toc-Object_002dports-1" href="#Object_002dports">17.4 Object-ports</a>
    <ul class="toc">
      <li><a name="toc-Object_002dport-settings-1" href="#Object_002dport-settings">17.4.1 Object-port settings</a></li>
      <li><a name="toc-Object_002dport-operations-1" href="#Object_002dport-operations">17.4.2 Object-port operations</a></li>
    </ul></li>
    <li><a name="toc-Character_002dports-1" href="#Character_002dports">17.5 Character-ports</a>
    <ul class="toc">
      <li><a name="toc-Character_002dport-settings-1" href="#Character_002dport-settings">17.5.1 Character-port settings</a></li>
      <li><a name="toc-Character_002dport-operations-1" href="#Character_002dport-operations">17.5.2 Character-port operations</a></li>
    </ul></li>
    <li><a name="toc-Byte_002dports-1" href="#Byte_002dports">17.6 Byte-ports</a>
    <ul class="toc">
      <li><a name="toc-Byte_002dport-settings-1" href="#Byte_002dport-settings">17.6.1 Byte-port settings</a></li>
      <li><a name="toc-Byte_002dport-operations-1" href="#Byte_002dport-operations">17.6.2 Byte-port operations</a></li>
    </ul></li>
    <li><a name="toc-Device_002dports-1" href="#Device_002dports">17.7 Device-ports</a>
    <ul class="toc">
      <li><a name="toc-Filesystem-devices-1" href="#Filesystem-devices">17.7.1 Filesystem devices</a></li>
      <li><a name="toc-Process-devices-1" href="#Process-devices">17.7.2 Process devices</a></li>
      <li><a name="toc-Network-devices-1" href="#Network-devices">17.7.3 Network devices</a></li>
    </ul></li>
    <li><a name="toc-Directory_002dports-1" href="#Directory_002dports">17.8 Directory-ports</a></li>
    <li><a name="toc-Vector_002dports-1" href="#Vector_002dports">17.9 Vector-ports</a></li>
    <li><a name="toc-String_002dports-1" href="#String_002dports">17.10 String-ports</a></li>
    <li><a name="toc-U8vector_002dports-1" href="#U8vector_002dports">17.11 U8vector-ports</a></li>
    <li><a name="toc-Other-procedures-related-to-I_002fO-1" href="#Other-procedures-related-to-I_002fO">17.12 Other procedures related to I/O</a></li>
  </ul></li>
  <li><a name="toc-Lexical-syntax-and-readtables-1" href="#Lexical-syntax-and-readtables">18. Lexical syntax and readtables</a>
  <ul class="toc">
    <li><a name="toc-Readtables-1" href="#Readtables">18.1 Readtables</a></li>
    <li><a name="toc-Boolean-syntax-1" href="#Boolean-syntax">18.2 Boolean syntax</a></li>
    <li><a name="toc-Character-syntax-1" href="#Character-syntax">18.3 Character syntax</a></li>
    <li><a name="toc-String-syntax-1" href="#String-syntax">18.4 String syntax</a></li>
    <li><a name="toc-Symbol-syntax-1" href="#Symbol-syntax">18.5 Symbol syntax</a></li>
    <li><a name="toc-Keyword-syntax-1" href="#Keyword-syntax">18.6 Keyword syntax</a></li>
    <li><a name="toc-Box-syntax-1" href="#Box-syntax">18.7 Box syntax</a></li>
    <li><a name="toc-Number-syntax-1" href="#Number-syntax">18.8 Number syntax</a></li>
    <li><a name="toc-Homogeneous-vector-syntax-1" href="#Homogeneous-vector-syntax">18.9 Homogeneous vector syntax</a></li>
    <li><a name="toc-Special-_0023_0021-syntax-1" href="#Special-_0023_0021-syntax">18.10 Special <code>#!</code> syntax</a></li>
    <li><a name="toc-Multiline-comment-syntax-1" href="#Multiline-comment-syntax">18.11 Multiline comment syntax</a></li>
    <li><a name="toc-Scheme-infix-syntax-extension-1" href="#Scheme-infix-syntax-extension">18.12 Scheme infix syntax extension</a>
    <ul class="toc">
      <li><a name="toc-SIX-grammar" href="#SIX-grammar">18.12.1 SIX grammar</a></li>
      <li><a name="toc-SIX-semantics" href="#SIX-semantics">18.12.2 SIX semantics</a></li>
    </ul>
</li>
  </ul></li>
  <li><a name="toc-C_002dinterface-1" href="#C_002dinterface">19. C-interface</a>
  <ul class="toc">
    <li><a name="toc-The-mapping-of-types-between-C-and-Scheme" href="#mapping-of-types">19.1 The mapping of types between C and Scheme</a></li>
    <li><a name="toc-The-c_002ddeclare-special-form" href="#c_002ddeclare">19.2 The <code>c-declare</code> special form</a></li>
    <li><a name="toc-The-c_002dinitialize-special-form" href="#c_002dinitialize">19.3 The <code>c-initialize</code> special form</a></li>
    <li><a name="toc-The-c_002dlambda-special-form" href="#c_002dlambda">19.4 The <code>c-lambda</code> special form</a></li>
    <li><a name="toc-The-c_002ddefine-special-form" href="#c_002ddefine">19.5 The <code>c-define</code> special form</a></li>
    <li><a name="toc-The-c_002ddefine_002dtype-special-form" href="#c_002ddefine_002dtype">19.6 The <code>c-define-type</code> special form</a></li>
    <li><a name="toc-Continuations-and-the-C_002dinterface" href="#continuations">19.7 Continuations and the C-interface</a></li>
  </ul></li>
  <li><a name="toc-System-limitations-1" href="#System-limitations">20. System limitations</a></li>
  <li><a name="toc-Copyright-and-license-1" href="#Copyright-and-license">21. Copyright and license</a></li>
  <li><a name="toc-General-index-1" href="#General-index">General index</a></li>
</ul>
</div>

<hr size="1">
<p>
 <font size="-1">
  This document was generated by <em>Marc Feeley</em> on <em>September 18, 2014</em> using <a href="event:browse:http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
